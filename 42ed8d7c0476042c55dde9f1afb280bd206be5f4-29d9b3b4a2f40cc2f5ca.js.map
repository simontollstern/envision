{"version":3,"sources":["webpack://envision-docs/../node_modules/babel-loader/lib/node_modules/react-fast-compare/index.js","webpack://envision-docs/../node_modules/babel-loader/lib/node_modules/react-side-effect/lib/index.js","webpack://envision-docs/../node_modules/core-js/internals/a-function.js","webpack://envision-docs/../node_modules/core-js/internals/an-object.js","webpack://envision-docs/../node_modules/core-js/internals/array-includes.js","webpack://envision-docs/../node_modules/core-js/internals/array-species-create.js","webpack://envision-docs/../node_modules/core-js/internals/classof-raw.js","webpack://envision-docs/../node_modules/core-js/internals/copy-constructor-properties.js","webpack://envision-docs/../node_modules/core-js/internals/create-non-enumerable-property.js","webpack://envision-docs/../node_modules/core-js/internals/create-property-descriptor.js","webpack://envision-docs/../node_modules/core-js/internals/descriptors.js","webpack://envision-docs/../node_modules/core-js/internals/document-create-element.js","webpack://envision-docs/../node_modules/core-js/internals/engine-user-agent.js","webpack://envision-docs/../node_modules/core-js/internals/engine-v8-version.js","webpack://envision-docs/../node_modules/core-js/internals/enum-bug-keys.js","webpack://envision-docs/../node_modules/core-js/internals/export.js","webpack://envision-docs/../node_modules/core-js/internals/fails.js","webpack://envision-docs/../node_modules/core-js/internals/flatten-into-array.js","webpack://envision-docs/../node_modules/core-js/internals/function-bind-context.js","webpack://envision-docs/../node_modules/core-js/internals/get-built-in.js","webpack://envision-docs/../node_modules/core-js/internals/global.js","webpack://envision-docs/../node_modules/core-js/internals/has.js","webpack://envision-docs/../node_modules/core-js/internals/hidden-keys.js","webpack://envision-docs/../node_modules/core-js/internals/ie8-dom-define.js","webpack://envision-docs/../node_modules/core-js/internals/indexed-object.js","webpack://envision-docs/../node_modules/core-js/internals/inspect-source.js","webpack://envision-docs/../node_modules/core-js/internals/internal-state.js","webpack://envision-docs/../node_modules/core-js/internals/is-array.js","webpack://envision-docs/../node_modules/core-js/internals/is-forced.js","webpack://envision-docs/../node_modules/core-js/internals/is-object.js","webpack://envision-docs/../node_modules/core-js/internals/is-pure.js","webpack://envision-docs/../node_modules/core-js/internals/native-symbol.js","webpack://envision-docs/../node_modules/core-js/internals/native-weak-map.js","webpack://envision-docs/../node_modules/core-js/internals/object-define-property.js","webpack://envision-docs/../node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack://envision-docs/../node_modules/core-js/internals/object-get-own-property-names.js","webpack://envision-docs/../node_modules/core-js/internals/object-get-own-property-symbols.js","webpack://envision-docs/../node_modules/core-js/internals/object-keys-internal.js","webpack://envision-docs/../node_modules/core-js/internals/object-property-is-enumerable.js","webpack://envision-docs/../node_modules/core-js/internals/own-keys.js","webpack://envision-docs/../node_modules/core-js/internals/path.js","webpack://envision-docs/../node_modules/core-js/internals/redefine.js","webpack://envision-docs/../node_modules/core-js/internals/require-object-coercible.js","webpack://envision-docs/../node_modules/core-js/internals/set-global.js","webpack://envision-docs/../node_modules/core-js/internals/shared-key.js","webpack://envision-docs/../node_modules/core-js/internals/shared-store.js","webpack://envision-docs/../node_modules/core-js/internals/shared.js","webpack://envision-docs/../node_modules/core-js/internals/to-absolute-index.js","webpack://envision-docs/../node_modules/core-js/internals/to-indexed-object.js","webpack://envision-docs/../node_modules/core-js/internals/to-integer.js","webpack://envision-docs/../node_modules/core-js/internals/to-length.js","webpack://envision-docs/../node_modules/core-js/internals/to-object.js","webpack://envision-docs/../node_modules/core-js/internals/to-primitive.js","webpack://envision-docs/../node_modules/core-js/internals/uid.js","webpack://envision-docs/../node_modules/core-js/internals/use-symbol-as-uid.js","webpack://envision-docs/../node_modules/core-js/internals/well-known-symbol.js","webpack://envision-docs/../node_modules/core-js/modules/es.array.flat.js","webpack://envision-docs/./src/hooks/copyExample.js","webpack://envision-docs/../node_modules/babel-loader/lib/node_modules/react-helmet/es/Helmet.js","webpack://envision-docs/./src/components/Link/index.js","webpack://envision-docs/../node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://envision-docs/./src/components/Header/index.js","webpack://envision-docs/./src/components/Sidenav/index.js","webpack://envision-docs/./src/components/Footer/index.js","webpack://envision-docs/./src/templates/BaseTemplate.js","webpack://envision-docs/envision/webpack/universalModuleDefinition","webpack://envision-docs/envision/node_modules/svgxuse/svgxuse.js","webpack://envision-docs/envision/node_modules/tom-select/dist/js/tom-select.complete.js","webpack://envision-docs/webpack:/envision/external {\"commonjs\":\"jquery\",\"commonjs2\":\"jquery\",\"amd\":\"jquery\",\"root\":\"jQuery\"}","webpack://envision-docs/envision/webpack/bootstrap","webpack://envision-docs/webpack:/envision/webpack/runtime/compat get default export","webpack://envision-docs/webpack:/envision/webpack/runtime/define property getters","webpack://envision-docs/envision/webpack/runtime/global","webpack://envision-docs/webpack:/envision/webpack/runtime/hasOwnProperty shorthand","webpack://envision-docs/webpack:/envision/webpack/runtime/make namespace object","webpack://envision-docs/envision/webpack/runtime/publicPath","webpack://envision-docs/envision/src/icons/envision-icons.svg","webpack://envision-docs/envision/src/js/util/util.js","webpack://envision-docs/envision/src/js/util/nodes.js","webpack://envision-docs/envision/src/js/select.js","webpack://envision-docs/envision/src/js/util/css-util.js","webpack://envision-docs/envision/src/js/accordion.js","webpack://envision-docs/envision/src/js/collapse.js","webpack://envision-docs/envision/src/js/dropdown.js","webpack://envision-docs/envision/src/js/image-slider.js","webpack://envision-docs/envision/src/js/image-viewer.js","webpack://envision-docs/envision/src/js/modal-dialog.js","webpack://envision-docs/envision/node_modules/popper.js/dist/esm/popper.js","webpack://envision-docs/envision/src/js/popover.js","webpack://envision-docs/envision/src/js/range-slider.js","webpack://envision-docs/envision/src/js/tabs.js"],"names":["hasElementType","Element","hasMap","Map","hasSet","Set","hasArrayBuffer","ArrayBuffer","isView","equal","a","b","constructor","length","i","keys","it","Array","isArray","size","entries","next","done","has","value","get","RegExp","source","flags","valueOf","Object","prototype","toString","hasOwnProperty","call","$$typeof","module","exports","error","message","match","console","warn","ex","React","React__default","_defineProperty","obj","key","defineProperty","enumerable","configurable","writable","canUseDOM","window","document","createElement","reducePropsToState","handleStateChangeOnClient","mapStateOnServer","Error","WrappedComponent","state","mountedInstances","emitChange","map","instance","props","SideEffect","_PureComponent","subClass","superClass","apply","this","arguments","create","__proto__","peek","rewind","recordedState","undefined","_proto","UNSAFE_componentWillMount","push","componentDidUpdate","componentWillUnmount","index","indexOf","splice","render","PureComponent","displayName","name","getDisplayName","TypeError","String","isObject","toIndexedObject","toLength","toAbsoluteIndex","createMethod","IS_INCLUDES","$this","el","fromIndex","O","includes","SPECIES","wellKnownSymbol","originalArray","C","slice","ownKeys","getOwnPropertyDescriptorModule","definePropertyModule","target","f","getOwnPropertyDescriptor","DESCRIPTORS","createPropertyDescriptor","object","bitmap","fails","global","EXISTS","getBuiltIn","version","userAgent","process","versions","v8","split","createNonEnumerableProperty","redefine","setGlobal","copyConstructorProperties","isForced","options","targetProperty","sourceProperty","descriptor","TARGET","GLOBAL","STATIC","stat","noTargetGet","forced","sham","exec","bind","flattenIntoArray","original","sourceLen","start","depth","mapper","thisArg","element","targetIndex","sourceIndex","mapFn","aFunction","fn","that","c","path","variable","namespace","method","check","Math","globalThis","self","g","Function","toObject","classof","propertyIsEnumerable","store","functionToString","inspectSource","set","NATIVE_WEAK_MAP","objectHas","shared","sharedKey","hiddenKeys","OBJECT_ALREADY_INITIALIZED","WeakMap","wmget","wmhas","wmset","metadata","facade","STATE","enforce","getterFor","TYPE","type","arg","replacement","feature","detection","data","normalize","POLYFILL","NATIVE","string","replace","toLowerCase","V8_VERSION","getOwnPropertySymbols","Symbol","test","IE8_DOM_DEFINE","anObject","toPrimitive","$defineProperty","P","Attributes","propertyIsEnumerableModule","$getOwnPropertyDescriptor","internalObjectKeys","concat","getOwnPropertyNames","names","result","$propertyIsEnumerable","NASHORN_BUG","1","V","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","InternalStateModule","getInternalState","enforceInternalState","TEMPLATE","unsafe","simple","join","uid","SHARED","IS_PURE","mode","copyright","toInteger","max","min","integer","IndexedObject","requireObjectCoercible","ceil","floor","argument","isNaN","input","PREFERRED_STRING","val","id","postfix","random","NATIVE_SYMBOL","iterator","USE_SYMBOL_AS_UID","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","$","arraySpeciesCreate","proto","flat","depthArg","A","useCopyExample","content","useEffect","current","querySelectorAll","forEach","example","classList","add","innerHTML","textContent","parentNode","insertBefore","envPopover","envTabs","envRangeSlider","values","exampleSelects","querySelector","envision","maxItems","i18n","simpleSelectEl","advancedSelectEl","advancedSelect","clearButton","placeholder","items","text","onOptionAdd","log","getElementById","addEventListener","addOptions","addItem","remoteDataSelectEl","valueField","labelField","searchField","preload","load","query","callback","url","encodeURIComponent","fetch","then","response","json","catch","clock","Component","_class","_temp","ATTRIBUTE_NAMES","TAG_NAMES","BASE","BODY","HEAD","HTML","LINK","META","NOSCRIPT","SCRIPT","STYLE","TITLE","TAG_PROPERTIES","REACT_TAG_MAP","accesskey","charset","class","contenteditable","contextmenu","itemprop","tabindex","HELMET_PROPS","HTML_TAG_MAP","reduce","SELF_CLOSING_TAGS","HELMET_ATTRIBUTE","_typeof","classCallCheck","Constructor","createClass","defineProperties","protoProps","staticProps","_extends","assign","objectWithoutProperties","possibleConstructorReturn","ReferenceError","encodeSpecialCharacters","str","encode","getTitleFromPropsList","propsList","innermostTitle","getInnermostProperty","innermostTemplate","innermostDefaultTitle","getOnChangeClientState","getAttributesFromPropsList","tagType","filter","tagAttrs","getBaseTagFromPropsList","primaryAttributes","reverse","innermostBaseTag","tag","lowerCaseAttributeKey","getTagsFromPropsList","tagName","approvedSeenTags","approvedTags","instanceTags","instanceSeenTags","primaryAttributeKey","attributeKey","tagUnion","property","rafPolyfill","Date","now","currentTime","setTimeout","cafPolyfill","clearTimeout","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","msg","_helmetCallback","commitTagChanges","newState","cb","baseTag","bodyAttributes","htmlAttributes","linkTags","metaTags","noscriptTags","onChangeClientState","scriptTags","styleTags","title","titleAttributes","updateAttributes","updateTitle","tagUpdates","updateTags","addedTags","removedTags","_tagUpdates$tagType","newTags","oldTags","flattenArray","possibleArray","attributes","elementTag","getElementsByTagName","helmetAttributeString","getAttribute","helmetAttributes","attributesToRemove","attributeKeys","attribute","setAttribute","indexToSave","_i","removeAttribute","tags","headElement","head","tagNodes","indexToDelete","newElement","styleSheet","cssText","appendChild","createTextNode","some","existingTag","isEqualNode","removeChild","generateElementAttributesAsString","attr","convertElementAttributestoReactProps","initProps","getMethodsForTag","toComponent","_initProps","attributeString","flattenedTitle","generateTitleAsString","_mappedTag","mappedTag","mappedAttribute","dangerouslySetInnerHTML","__html","generateTagsAsReactComponent","attributeHtml","tagContent","isSelfClosing","generateTagsAsString","_ref","_ref$title","base","link","meta","noscript","script","style","HelmetSideEffects","defer","HelmetExport","_React$Component","HelmetWrapper","setPrototypeOf","inherits","shouldComponentUpdate","nextProps","mapNestedChildrenToProps","child","nestedChildren","flattenArrayTypeChildren","_babelHelpers$extends","arrayTypeChildren","newChildProps","mapObjectTypeChildren","_ref2","_babelHelpers$extends2","_babelHelpers$extends3","newProps","mapArrayTypeChildrenToProps","newFlattenedProps","arrayChildName","_babelHelpers$extends4","warnOnInvalidChildren","mapChildrenToProps","children","_this2","_child$props","initAttributes","convertReactPropstoHtmlAttributes","_props","propTypes","defaultTitle","titleTemplate","defaultProps","mappedState","renderStatic","to","rest","excluded","sourceKeys","href","menuItems","lang","className","rel","sizes","src","alt","role","label","activeClassName","categories","slug","topMenuItems","menuCategories","node","frontmatter","fields","accumulated","item","pathItems","parent","__WEBPACK_EXTERNAL_MODULE__254__","require","checkUseElems","tid","winLoad","cache","debouncedCheck","unobserveChanges","createRequest","getOrigin","loc","protocol","host","Request","origin","origin2","XMLHttpRequest","location","withCredentials","XDomainRequest","xlinkNS","bcr","hash","isHidden","uses","xhr","inProgressCount","observeIfDone","observer","MutationObserver","observe","documentElement","childList","subtree","disconnect","removeEventListener","ignore","attrUpdateFunc","spec","useEl","setAttributeNS","hasAttribute","onloadFunc","svg","body","x","onload","responseText","position","width","height","overflow","firstChild","onErrorTimeout","onerror","ontimeout","getBoundingClientRect","getAttributeNS","left","right","top","bottom","open","send","abort","readyState","forEvents","events","event","MicroEvent","_events","on","fct","off","n","trigger","args","MicroPlugin","Interface","plugins","initializePlugins","queue","settings","requested","loaded","shift","loadPlugin","plugin","code_points","asciifold","generateDiacritics","latin_convert","diacritics","code_range","diacritic","fromCharCode","latin","toUpperCase","diacriticRegexPoints","regex","getAttr","getAttrNesting","scoreValue","token","weight","score","pos","search","escape_regex","propToArray","iterate","cmp","Sifter","tokenize","respect_word_boundaries","weights","field_regex","tokens","words","word","field_match","field","getScoreFunction","prepareSearch","_getScoreFunction","token_count","field_count","getAttrFn","scoreObject","sum","conjunction","getSortFunction","_getSortFunction","sort_fld","sort_flds_count","multiplier","implicit_score","sort","sort_empty","sort_flds","multipliers","get_field","unshift","direction","optsUser","fld_name","field_params","trim","total","nesting","fn_sort","fn_score","limit","highlight","skip","nodeType","spannode","middlebit","splitText","middleclone","cloneNode","replaceChild","childNodes","removeHighlight","elements","KEY_A","KEY_RETURN","KEY_ESC","KEY_LEFT","KEY_UP","KEY_RIGHT","KEY_DOWN","KEY_BACKSPACE","KEY_DELETE","KEY_TAB","KEY_SHORTCUT","navigator","defaults","optgroups","delimiter","splitOn","persist","createOnBlur","createFilter","openOnFocus","shouldOpen","maxOptions","hideSelected","duplicates","addPrecedence","selectOnTab","allowEmptyOption","closeAfterSelect","loadThrottle","loadingClass","dataAttr","optgroupField","disabledField","optgroupLabelField","optgroupValueField","lockOptgroupOrder","sortField","searchConjunction","wrapperClass","inputClass","dropdownClass","dropdownContentClass","itemClass","optionClass","dropdownParent","controlInput","copyClassesToDropdown","hidePlaceholder","shouldLoad","hash_key","escape_html","loadDebounce","delay","timeout","loading","loadedSearches","debounce_events","types","event_args","getSelection","selectionStart","selectionEnd","preventDefault","evt","stop","stopPropagation","addEvent","isKeyDown","key_name","altKey","ctrlKey","shiftKey","metaKey","getId","addSlashes","getSettings","settings_user","attr_data","field_label","field_value","field_disabled","field_optgroup","field_optgroup_label","field_optgroup_value","tag_name","option","settings_element","init_textbox","data_raw","JSON","parse","opt","_value","optionsMap","group_count","readData","dataset","addOption","group","arr","option_data","disabled","$option","selected","addGroup","optgroup","optgroup_data","getDom","jquery","HTMLElement","div","escapeQuery","triggerEvent","dom_el","event_name","createEvent","initEvent","dispatchEvent","applyCSS","css","addClasses","elmts","classes","norm_classes","classesArray","castAsArray","cls","removeClasses","remove","_classes","Boolean","parentMatch","selector","wrapper","contains","matches","getTail","list","isEmptyObject","nodeIndex","amongst","nodeName","previousElementSibling","setAttr","attrs","instance_i","TomSelect","input_arg","dir","super","control_input","dropdown","control","dropdown_content","order","tabIndex","is_select_tag","rtl","inputId","_destroy","sifter","tab_key","isOpen","isDisabled","isRequired","isInvalid","isLocked","isFocused","isInputHidden","isSetup","ignoreFocus","hasOptions","currentResults","lastValue","caretPos","activeOption","activeItems","userOptions","renderCache","tomselect","getComputedStyle","getPropertyValue","required","setupOptions","setupCallbacks","setupTemplates","setup","inputMode","classes_plugins","control_id","passive_event","passive","listboxId","append","haspopup","for","multiple","onOptionSelect","target_match","onItemSelect","onClick","e","onKeyDown","onKeyUp","onKeyPress","positionDropdown","onBlur","onFocus","onPaste","doc_mousedown","blur","inputState","win_scroll","revertSettings","hidden","insertAdjacentElement","setValue","refreshState","updateOriginalInput","refreshItems","disable","onChange","registerOption","registerOptionGroup","templates","escape","callbacks","clearActiveItems","focus","onMouseDown","isFull","pastedText","inputValue","piece","createItem","character","keyCode","which","selectAll","close","getAdjacent","setActiveOption","prev","advanceSelection","deleteSelection","refreshOptions","wasFocused","showInput","setActiveItem","deactivate","setCaret","parentElement","lastQuery","getOption","canLoad","loadCallback","clearActiveOption","setTextboxValue","getValue","silent","clear","addItems","setMaxItems","eventName","begin","end","swap","last","getLastActive","setActiveItemClass","removeActiveItem","hideInput","last_active","idx","height_menu","height_item","y","clientHeight","scrollTop","offsetHeight","controlChildren","getSearchOptions","calculateScore","triggerDropdown","j","k","groups_order","html","has_create_option","active","groups","results","active_before_hash","show_dropdown","opt_value","option_el","toggle","createDocumentFragment","$order","group_options","group_html","tok","add_template","template","canCreate","active_index","selectable","dat","$id","addOptionGroup","hashed_id","removeOptionGroup","clearCache","clearOptionGroups","updateOption","item_new","value_new","index_item","cache_items","cache_options","order_old","getItem","removeOption","removeItem","clearOptions","all","buffer","isPending","wasFull","insertAtCaret","output","caret","lock","created","unlock","refreshValidityState","checkValidity","invalid","opts","prepend","visibility","display","context","rect","scrollY","scrollX","selection","onDelete","pop","adjacent","nextElementSibling","new_pos","from","getElementsByClassName","enable","destroy","templateName","hook","when","new_fn","orig_method","result_new","define","changed","orig_onOptionSelect","UpdateCheckbox","checkbox","checked","orig_render_option","rendered","button","sortable","orig_lock","orig_unlock","$control","forcePlaceholderSize","ui","helper","each","headerClass","titleRowClass","labelClass","closeClass","header","close_link","test_input","style_name","resize","clientWidth","orig_deleteSelection","orig_keydown","previousSibling","nextSibling","orig_render_item","close_button","orig_canLoad","orig_clearActiveOption","orig_loadCallback","pagination","loading_more","firstUrl","canLoadMore","setNextUrl","next_url","getUrl","no_more_results","scrollHeight","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","__esModule","d","definition","o","prop","r","toStringTag","p","getSelectorFromElement","isPlainObject","getPrototypeOf","normalizeOptions","sv","remove_button","clear_button","no_results","en","staticConfig","option_create","userConfig","onInitialize","onItemAdd","onItemRemove","onClear","onOptionRemove","onOptionClear","onDropdownOpen","onDropdownClose","onType","onLoad","SelectPlugin","select","nodes","domNodes","Util","reflow","isTouch","matchMedia","getToggleSpeed","durationCustomProperty","duration","speed","parseFloat","parseInt","ARIA_EXPANDED","NAME","SHOW","MODIFIER_BASE","Accordion","$el","hasClass","removeClass","show","CssUtil","config","hide","find","_hide","slideDown","slideUp","NO_CONFLICT","_jQuery","noConflict","EXPANDED","Collapse","$trigger","is","addClass","$target","ENV_DROPDOWN_OPEN","TOGGLE_DROPDOWN","ENV_DROPDOWN","ENV_CLICK_EVENT","ENV_KEYDOWN_EVENT","ENV_DROPDOWN_MENU","KEYS","REGEXP_KEYDOWN","Dropdown","_id","_bindEvents","_unbindEvents","ENV_CLICK","ENV_KEYDOWN","one","clearMenus","$toggles","len","closest","dropdownMenu","originalEvent","keydownHandler","isActive","getToggleButton","t","$items","click","DATA_KEY","EVENT_KEY","DATA_API_KEY","DEFAULTS","buttons","imageSlider","interval","keyboard","pause","slide","swipe","wrap","SELECTORS","ClassName","Direction","Events","CLICK_DATA_API","KEYDOWN","LOAD_DATA_API","MOUSEENTER","MOUSELEAVE","SLID","SLIDE","TOUCHEND","TOUCHMOVE","TOUCHSTART","Imageslider","$images","_isSliding","_isPaused","_interval","_activeElement","_indicatorsElement","_thumbnailElements","_addSlideButtons","_config","action","move","goTo","cycle","eq","slideIndex","_jQueryInterface","_slide","clearInterval","setInterval","visibilityState","nextWhenVisible","activeIndex","_getItemIndex","touchstartx","touches","pageX","touchmovex","movex","moved","activeItem","removeData","sliderId","buttonHTML","activeElement","isNextDirection","lastImageIndex","itemIndex","_keydown","touchTimeout","_bindTouchSlider","container","startTouchSlide","moveTouchSlide","endTouchSlide","targetElement","eventDirectionName","slideEvent","nextIndicator","firstElementChild","directionalClassName","orderClassName","activeElementIndex","nextElement","_getItemByDirection","nextElementIndex","$nextElement","_triggerSlideEvent","isDefaultPrevented","_setActiveIndicatorElement","slidEvent","relatedTarget","$activeElement","_dataApiClickHandler","slider","$slider","ANIMATION","BACKDROP_ANIMATION","Imageviewer","$image","_isShown","_getNextItemIndex","_getPrevItemIndex","Number","$btnContainer","$downloadingImage","_loadImage","$imgContainer","$modal","appendTo","_getButtons","_getIndicators","_bindContainerEvents","_showBackdrop","prependTo","$backdrop","$imageModal","imageHeight","imageWidth","windowHeight","innerHeight","currentTarget","viewerIndex","indicatorItems","_getIndicatorItems","_removeBackdropAnimation","focusableElements","firstElement","lastElement","indicator","envImageviewer","DISMISS_SELECTOR","FOCUSIN","EVENTS","ModalDialog","showEvent","shownEvent","_getModifierBase","removeAttr","hideEvent","hiddenEvent","isBrowser","timeoutDuration","longerTimeoutBrowsers","debounce","Promise","called","resolve","scheduled","isFunction","functionToCheck","getStyleComputedProperty","ownerDocument","defaultView","getParentNode","getScrollParent","_getStyleComputedProp","overflowX","overflowY","getReferenceNode","reference","referenceNode","isIE11","MSInputMethodContext","documentMode","isIE10","isIE","getOffsetParent","noOffsetParent","offsetParent","getRoot","findCommonOffsetParent","element1","element2","compareDocumentPosition","Node","DOCUMENT_POSITION_FOLLOWING","range","createRange","setStart","setEnd","commonAncestorContainer","element1root","getScroll","upperSide","scrollingElement","includeScroll","subtract","scrollLeft","modifier","getBordersSize","styles","axis","sideA","sideB","getSize","computedStyle","getWindowSizes","getClientRect","offsets","horizScrollbar","offsetWidth","vertScrollbar","getOffsetRectRelativeToArbitraryNode","fixedPosition","isHTML","childrenRect","parentRect","scrollParent","borderTopWidth","borderLeftWidth","marginTop","marginLeft","getViewportOffsetRectRelativeToArtbitraryNode","excludeScroll","relativeOffset","innerWidth","isFixed","getFixedPositionOffsetParent","getBoundaries","popper","padding","boundariesElement","boundaries","boundariesNode","_getWindowSizes","isPaddingNumber","getArea","computeAutoPlacement","placement","refRect","rects","sortedAreas","area","filteredAreas","computedPlacement","variation","getReferenceOffsets","getOuterSizes","marginBottom","marginRight","getOppositePlacement","matched","getPopperOffsets","referenceOffsets","popperRect","popperOffsets","isHoriz","mainSide","secondarySide","measurement","secondaryMeasurement","runModifiers","modifiers","ends","findIndex","cur","enabled","update","isDestroyed","arrowStyles","flipped","positionFixed","flip","originalPlacement","isCreated","onUpdate","onCreate","isModifierEnabled","modifierName","getSupportedPropertyName","prefixes","upperProp","charAt","prefix","toCheck","willChange","disableEventListeners","removeOnDestroy","getWindow","attachToScrollParents","scrollParents","isBody","setupEventListeners","updateBound","scrollElement","eventsEnabled","enableEventListeners","scheduleUpdate","isNumeric","isFinite","setStyles","unit","isFirefox","isModifierRequired","requestingName","requestedName","requesting","_requesting","placements","validPlacements","clockwise","counter","BEHAVIORS","parseOffset","offset","basePlacement","useHeight","fragments","frag","divider","splitRegex","ops","op","mergeWithPrevious","index2","Defaults","shiftvariation","_data$offsets","isVertical","side","shiftOffsets","preventOverflow","transformProp","popperStyles","transform","priority","primary","escapeWithReference","secondary","keepTogether","opSide","arrow","_data$offsets$arrow","arrowElement","sideCapitalized","altSide","arrowElementSize","center","popperMarginSide","popperBorderSide","sideValue","round","placementOpposite","flipOrder","behavior","step","refOffsets","overlapsRef","overflowsLeft","overflowsRight","overflowsTop","overflowsBottom","overflowsBoundaries","flippedVariationByRef","flipVariations","flippedVariationByContent","flipVariationsByContent","flippedVariation","inner","subtractLength","bound","computeStyle","legacyGpuAccelerationOption","gpuAcceleration","offsetParentRect","shouldRound","noRound","v","referenceWidth","popperWidth","isVariation","horizontalToInteger","verticalToInteger","devicePixelRatio","prefixedProperty","invertTop","invertLeft","applyStyle","modifierOptions","Popper","_this","Utils","PopperUtils","IDENTIFIER","EVENT_NAMESPACE","attachmentMapping","clickOutside","constraints","escapeContent","Popover","bindEvents","isShowing","hoverTrigger","inEvent","outEvent","hidetimeout","showtimeout","hoverPopover","$popoverElement","getPopoverElement","setText","setTitle","setContent","setArrowPosition","detach","oldClassNames","_cleanTipClass","_addAttachmentClass","_popper","_handlePopperPlacementChange","clickOutsideHandler","HANDLE_INDEX","visibleValues","RangeSlider","$document","handles","$range","valueHolders","handleEvents","mousedown","_initSlide","touchstart","keydown","_initKeySlide","keyup","_stopKeySlide","rangeSlider","initialize","_setupHandles","_refreshRange","_trimAlignValue","handle","lastValPercent","valPercent","_getValue","$closestHandle","thisDistance","_getPosition","normValue","_normValueFromMouse","distance","_handleSlide","_stopSlide","abs","_lastChangedValue","_handleIndex","_clickOffset","newVal","otherVal","currentValue","newValues","_getValues","_trigger","_setValue","_keySliding","curVal","pixelTotal","outerWidth","valueTotal","percentMouse","valueMouse","pageY","valModStep","alignValue","toFixed","newValue","ARIA_SELECTED","ARIA_HIDDEN","IS_ACTIVE","Tabs","$tabs","$panels","$activeTab","tabs","tab","$tab","$panel","_setActive","initialized","_resetActive","_getPanelForTab"],"mappings":"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","file":"42ed8d7c0476042c55dde9f1afb280bd206be5f4-29d9b3b4a2f40cc2f5ca.js","sourcesContent":["/* global Map:readonly, Set:readonly, ArrayBuffer:readonly */\nvar hasElementType = typeof Element !== 'undefined';\nvar hasMap = typeof Map === 'function';\nvar hasSet = typeof Set === 'function';\nvar hasArrayBuffer = typeof ArrayBuffer === 'function' && !!ArrayBuffer.isView; // Note: We **don't** need `envHasBigInt64Array` in fde es6/index.js\n\nfunction equal(a, b) {\n  // START: fast-deep-equal es6/index.js 3.1.1\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n    var length, i, keys;\n\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n\n      for (i = length; i-- !== 0;) {\n        if (!equal(a[i], b[i])) return false;\n      }\n\n      return true;\n    } // START: Modifications:\n    // 1. Extra `has<Type> &&` helpers in initial condition allow es6 code\n    //    to co-exist with es5.\n    // 2. Replace `for of` with es5 compliant iteration using `for`.\n    //    Basically, take:\n    //\n    //    ```js\n    //    for (i of a.entries())\n    //      if (!b.has(i[0])) return false;\n    //    ```\n    //\n    //    ... and convert to:\n    //\n    //    ```js\n    //    it = a.entries();\n    //    while (!(i = it.next()).done)\n    //      if (!b.has(i.value[0])) return false;\n    //    ```\n    //\n    //    **Note**: `i` access switches to `i.value`.\n\n\n    var it;\n\n    if (hasMap && a instanceof Map && b instanceof Map) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n\n      while (!(i = it.next()).done) {\n        if (!b.has(i.value[0])) return false;\n      }\n\n      it = a.entries();\n\n      while (!(i = it.next()).done) {\n        if (!equal(i.value[1], b.get(i.value[0]))) return false;\n      }\n\n      return true;\n    }\n\n    if (hasSet && a instanceof Set && b instanceof Set) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n\n      while (!(i = it.next()).done) {\n        if (!b.has(i.value[0])) return false;\n      }\n\n      return true;\n    } // END: Modifications\n\n\n    if (hasArrayBuffer && ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\n      length = a.length;\n      if (length != b.length) return false;\n\n      for (i = length; i-- !== 0;) {\n        if (a[i] !== b[i]) return false;\n      }\n\n      return true;\n    }\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;) {\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    } // END: fast-deep-equal\n    // START: react-fast-compare\n    // custom handling for DOM elements\n\n\n    if (hasElementType && a instanceof Element) return false; // custom handling for React/Preact\n\n    for (i = length; i-- !== 0;) {\n      if ((keys[i] === '_owner' || keys[i] === '__v' || keys[i] === '__o') && a.$$typeof) {\n        // React-specific: avoid traversing React elements' _owner\n        // Preact-specific: avoid traversing Preact elements' __v and __o\n        //    __v = $_original / $_vnode\n        //    __o = $_owner\n        // These properties contain circular references and are not needed when\n        // comparing the actual elements (and not their owners)\n        // .$$typeof and ._store on just reasonable markers of elements\n        continue;\n      } // all other properties should be traversed as usual\n\n\n      if (!equal(a[keys[i]], b[keys[i]])) return false;\n    } // END: react-fast-compare\n    // START: fast-deep-equal\n\n\n    return true;\n  }\n\n  return a !== a && b !== b;\n} // end fast-deep-equal\n\n\nmodule.exports = function isEqual(a, b) {\n  try {\n    return equal(a, b);\n  } catch (error) {\n    if ((error.message || '').match(/stack|recursion/i)) {\n      // warn on circular references, don't crash\n      // browsers give this different errors name and messages:\n      // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\n      // firefox: \"InternalError\", too much recursion\"\n      // edge: \"Error\", \"Out of stack space\"\n      console.warn('react-fast-compare cannot handle circular refs');\n      return false;\n    } // some other error. we should definitely know about these\n\n\n    throw error;\n  }\n};","'use strict';\n\nfunction _interopDefault(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar React = require('react');\n\nvar React__default = _interopDefault(React);\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\nfunction withSideEffect(reducePropsToState, handleStateChangeOnClient, mapStateOnServer) {\n  if (typeof reducePropsToState !== 'function') {\n    throw new Error('Expected reducePropsToState to be a function.');\n  }\n\n  if (typeof handleStateChangeOnClient !== 'function') {\n    throw new Error('Expected handleStateChangeOnClient to be a function.');\n  }\n\n  if (typeof mapStateOnServer !== 'undefined' && typeof mapStateOnServer !== 'function') {\n    throw new Error('Expected mapStateOnServer to either be undefined or a function.');\n  }\n\n  function getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  }\n\n  return function wrap(WrappedComponent) {\n    if (typeof WrappedComponent !== 'function') {\n      throw new Error('Expected WrappedComponent to be a React component.');\n    }\n\n    var mountedInstances = [];\n    var state;\n\n    function emitChange() {\n      state = reducePropsToState(mountedInstances.map(function (instance) {\n        return instance.props;\n      }));\n\n      if (SideEffect.canUseDOM) {\n        handleStateChangeOnClient(state);\n      } else if (mapStateOnServer) {\n        state = mapStateOnServer(state);\n      }\n    }\n\n    var SideEffect = /*#__PURE__*/function (_PureComponent) {\n      _inheritsLoose(SideEffect, _PureComponent);\n\n      function SideEffect() {\n        return _PureComponent.apply(this, arguments) || this;\n      } // Try to use displayName of wrapped component\n      // Expose canUseDOM so tests can monkeypatch it\n\n\n      SideEffect.peek = function peek() {\n        return state;\n      };\n\n      SideEffect.rewind = function rewind() {\n        if (SideEffect.canUseDOM) {\n          throw new Error('You may only call rewind() on the server. Call peek() to read the current state.');\n        }\n\n        var recordedState = state;\n        state = undefined;\n        mountedInstances = [];\n        return recordedState;\n      };\n\n      var _proto = SideEffect.prototype;\n\n      _proto.UNSAFE_componentWillMount = function UNSAFE_componentWillMount() {\n        mountedInstances.push(this);\n        emitChange();\n      };\n\n      _proto.componentDidUpdate = function componentDidUpdate() {\n        emitChange();\n      };\n\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        var index = mountedInstances.indexOf(this);\n        mountedInstances.splice(index, 1);\n        emitChange();\n      };\n\n      _proto.render = function render() {\n        return /*#__PURE__*/React__default.createElement(WrappedComponent, this.props);\n      };\n\n      return SideEffect;\n    }(React.PureComponent);\n\n    _defineProperty(SideEffect, \"displayName\", \"SideEffect(\" + getDisplayName(WrappedComponent) + \")\");\n\n    _defineProperty(SideEffect, \"canUseDOM\", canUseDOM);\n\n    return SideEffect;\n  };\n}\n\nmodule.exports = withSideEffect;","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] < 4 ? 1 : match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","'use strict';\nvar isArray = require('../internals/is-array');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/function-bind-context');\n\n// `FlattenIntoArray` abstract operation\n// https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray\nvar flattenIntoArray = function (target, original, source, sourceLen, start, depth, mapper, thisArg) {\n  var targetIndex = start;\n  var sourceIndex = 0;\n  var mapFn = mapper ? bind(mapper, thisArg, 3) : false;\n  var element;\n\n  while (sourceIndex < sourceLen) {\n    if (sourceIndex in source) {\n      element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];\n\n      if (depth > 0 && isArray(element)) {\n        targetIndex = flattenIntoArray(target, original, element, toLength(element.length), targetIndex, depth - 1) - 1;\n      } else {\n        if (targetIndex >= 0x1FFFFFFFFFFFFF) throw TypeError('Exceed the acceptable array length');\n        target[targetIndex] = element;\n      }\n\n      targetIndex++;\n    }\n    sourceIndex++;\n  }\n  return targetIndex;\n};\n\nmodule.exports = flattenIntoArray;\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n","var toObject = require('../internals/to-object');\n\nvar hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function hasOwn(it, key) {\n  return hasOwnProperty.call(toObject(it), key);\n};\n","module.exports = {};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- requied for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    if (wmhas.call(store, it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (objectHas(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","module.exports = false;\n","/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = require('../internals/engine-v8-version');\nvar fails = require('../internals/fails');\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  return !String(Symbol()) ||\n    // Chrome 38 Symbol has incorrect toString conversion\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  var state;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) {\n      createNonEnumerableProperty(value, 'name', key);\n    }\n    state = enforceInternalState(value);\n    if (!state.source) {\n      state.source = TEMPLATE.join(typeof key == 'string' ? key : '');\n    }\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.13.0',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2021 Denis Pushkarev (zloirock.ru)'\n});\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.es/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name) || !(NATIVE_SYMBOL || typeof WellKnownSymbolsStore[name] == 'string')) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) {\n      WellKnownSymbolsStore[name] = Symbol[name];\n    } else {\n      WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n    }\n  } return WellKnownSymbolsStore[name];\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar flattenIntoArray = require('../internals/flatten-into-array');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\n// `Array.prototype.flat` method\n// https://tc39.es/ecma262/#sec-array.prototype.flat\n$({ target: 'Array', proto: true }, {\n  flat: function flat(/* depthArg = 1 */) {\n    var depthArg = arguments.length ? arguments[0] : undefined;\n    var O = toObject(this);\n    var sourceLen = toLength(O.length);\n    var A = arraySpeciesCreate(O, 0);\n    A.length = flattenIntoArray(A, O, O, sourceLen, 0, depthArg === undefined ? 1 : toInteger(depthArg));\n    return A;\n  }\n});\n","import $ from 'jquery';\nimport * as envision from 'envision';\nimport { useEffect } from 'react';\n\nexport const useCopyExample = (content) => {\n   useEffect(() => {\n      // Initialize Code Highlighter\n      content.current\n         .querySelectorAll('.gatsby-highlight[data-language=html]')\n         .forEach((element) => {\n            const example = document.createElement('div');\n            example.classList.add('code-example');\n            example.innerHTML = element.textContent;\n            element.parentNode.insertBefore(example, element);\n         });\n\n      // Initialize jQuery plugins\n      // TODO: Would be much nicer to use webpack externals, bu we run into a build issue..\n      $('.example-popover').envPopover();\n      $('.example-tabs').envTabs();\n      $('.example-tabs1').envTabs();\n      $('.example-tabs2').envTabs();\n      $('.example-tabs3').envTabs();\n      $('.example-range-slider').envRangeSlider({\n         values: [20, 70],\n      });\n\n      // Initialize Envision plugins\n\n      const exampleSelects = document.querySelector(\n         '.env-form .example-tag-select'\n      );\n      for (let i = 0; exampleSelects && i < exampleSelects.length; i++) {\n         envision.select(exampleSelects, {\n            maxItems: 6,\n            create: true,\n            i18n: 'en',\n         });\n      }\n\n      const simpleSelectEl = document.querySelector('#example-tag-select-1');\n      if (simpleSelectEl) {\n         envision.select(simpleSelectEl, { i18n: 'en' });\n      }\n\n      const advancedSelectEl = document.querySelector('#example-tag-select-2');\n      if (advancedSelectEl) {\n         const advancedSelect = envision.select(advancedSelectEl, {\n            maxItems: 5,\n            clearButton: true,\n            create: true,\n            placeholder: 'Select or add tags...',\n            items: ['fruit01'],\n            i18n: 'en',\n            options: [\n               {\n                  value: 'fruit01',\n                  text: 'Apple',\n               },\n               {\n                  value: 'fruit02',\n                  text: 'Banana',\n               },\n               {\n                  value: 'fruit03',\n                  text: 'Grapefruit',\n               },\n               {\n                  value: 'fruit04',\n                  text: 'Lemon',\n               },\n               {\n                  value: 'fruit05',\n                  text: 'Pear',\n               },\n            ],\n\n            onOptionAdd: function (value, data) {\n               console.log('Added:', value, data);\n            },\n         });\n         document\n            .getElementById('example-tag-select-2-add')\n            .addEventListener('click', function () {\n               const val = document.getElementById('example-tag-select-2-tag')\n                  .value;\n               advancedSelect[0].addOptions({\n                  value: val,\n                  text: val,\n               });\n               advancedSelect[0].addItem(val);\n            });\n\n         const remoteDataSelectEl = document.querySelector(\n            '#example-tag-select-3'\n         );\n         if (remoteDataSelectEl) {\n            envision.select(remoteDataSelectEl, {\n               maxItems: 5,\n               placeholder: 'Select a Github repository...',\n               i18n: 'en',\n               valueField: 'url',\n               labelField: 'name',\n               searchField: ['name'],\n               preload: true,\n               load: function (query, callback) {\n                  query = query || 'sitevision';\n                  var url =\n                     'https://api.github.com/search/repositories?q=' +\n                     encodeURIComponent(query);\n                  fetch(url)\n                     .then((response) => response.json())\n                     .then((json) => {\n                        callback(json.items);\n                     })\n                     .catch(() => {\n                        callback();\n                     });\n               },\n            });\n         }\n      }\n   }, [content]);\n};\n","import PropTypes from 'prop-types';\nimport withSideEffect from 'react-side-effect';\nimport isEqual from 'react-fast-compare';\nimport React from 'react';\nimport objectAssign from 'object-assign';\nvar ATTRIBUTE_NAMES = {\n  BODY: \"bodyAttributes\",\n  HTML: \"htmlAttributes\",\n  TITLE: \"titleAttributes\"\n};\nvar TAG_NAMES = {\n  BASE: \"base\",\n  BODY: \"body\",\n  HEAD: \"head\",\n  HTML: \"html\",\n  LINK: \"link\",\n  META: \"meta\",\n  NOSCRIPT: \"noscript\",\n  SCRIPT: \"script\",\n  STYLE: \"style\",\n  TITLE: \"title\"\n};\nvar VALID_TAG_NAMES = Object.keys(TAG_NAMES).map(function (name) {\n  return TAG_NAMES[name];\n});\nvar TAG_PROPERTIES = {\n  CHARSET: \"charset\",\n  CSS_TEXT: \"cssText\",\n  HREF: \"href\",\n  HTTPEQUIV: \"http-equiv\",\n  INNER_HTML: \"innerHTML\",\n  ITEM_PROP: \"itemprop\",\n  NAME: \"name\",\n  PROPERTY: \"property\",\n  REL: \"rel\",\n  SRC: \"src\",\n  TARGET: \"target\"\n};\nvar REACT_TAG_MAP = {\n  accesskey: \"accessKey\",\n  charset: \"charSet\",\n  class: \"className\",\n  contenteditable: \"contentEditable\",\n  contextmenu: \"contextMenu\",\n  \"http-equiv\": \"httpEquiv\",\n  itemprop: \"itemProp\",\n  tabindex: \"tabIndex\"\n};\nvar HELMET_PROPS = {\n  DEFAULT_TITLE: \"defaultTitle\",\n  DEFER: \"defer\",\n  ENCODE_SPECIAL_CHARACTERS: \"encodeSpecialCharacters\",\n  ON_CHANGE_CLIENT_STATE: \"onChangeClientState\",\n  TITLE_TEMPLATE: \"titleTemplate\"\n};\nvar HTML_TAG_MAP = Object.keys(REACT_TAG_MAP).reduce(function (obj, key) {\n  obj[REACT_TAG_MAP[key]] = key;\n  return obj;\n}, {});\nvar SELF_CLOSING_TAGS = [TAG_NAMES.NOSCRIPT, TAG_NAMES.SCRIPT, TAG_NAMES.STYLE];\nvar HELMET_ATTRIBUTE = \"data-react-helmet\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits = function inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar objectWithoutProperties = function objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\nvar possibleConstructorReturn = function possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar encodeSpecialCharacters = function encodeSpecialCharacters(str) {\n  var encode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  if (encode === false) {\n    return String(str);\n  }\n\n  return String(str).replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#x27;\");\n};\n\nvar getTitleFromPropsList = function getTitleFromPropsList(propsList) {\n  var innermostTitle = getInnermostProperty(propsList, TAG_NAMES.TITLE);\n  var innermostTemplate = getInnermostProperty(propsList, HELMET_PROPS.TITLE_TEMPLATE);\n\n  if (innermostTemplate && innermostTitle) {\n    // use function arg to avoid need to escape $ characters\n    return innermostTemplate.replace(/%s/g, function () {\n      return Array.isArray(innermostTitle) ? innermostTitle.join(\"\") : innermostTitle;\n    });\n  }\n\n  var innermostDefaultTitle = getInnermostProperty(propsList, HELMET_PROPS.DEFAULT_TITLE);\n  return innermostTitle || innermostDefaultTitle || undefined;\n};\n\nvar getOnChangeClientState = function getOnChangeClientState(propsList) {\n  return getInnermostProperty(propsList, HELMET_PROPS.ON_CHANGE_CLIENT_STATE) || function () {};\n};\n\nvar getAttributesFromPropsList = function getAttributesFromPropsList(tagType, propsList) {\n  return propsList.filter(function (props) {\n    return typeof props[tagType] !== \"undefined\";\n  }).map(function (props) {\n    return props[tagType];\n  }).reduce(function (tagAttrs, current) {\n    return _extends({}, tagAttrs, current);\n  }, {});\n};\n\nvar getBaseTagFromPropsList = function getBaseTagFromPropsList(primaryAttributes, propsList) {\n  return propsList.filter(function (props) {\n    return typeof props[TAG_NAMES.BASE] !== \"undefined\";\n  }).map(function (props) {\n    return props[TAG_NAMES.BASE];\n  }).reverse().reduce(function (innermostBaseTag, tag) {\n    if (!innermostBaseTag.length) {\n      var keys = Object.keys(tag);\n\n      for (var i = 0; i < keys.length; i++) {\n        var attributeKey = keys[i];\n        var lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n        if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && tag[lowerCaseAttributeKey]) {\n          return innermostBaseTag.concat(tag);\n        }\n      }\n    }\n\n    return innermostBaseTag;\n  }, []);\n};\n\nvar getTagsFromPropsList = function getTagsFromPropsList(tagName, primaryAttributes, propsList) {\n  // Calculate list of tags, giving priority innermost component (end of the propslist)\n  var approvedSeenTags = {};\n  return propsList.filter(function (props) {\n    if (Array.isArray(props[tagName])) {\n      return true;\n    }\n\n    if (typeof props[tagName] !== \"undefined\") {\n      warn(\"Helmet: \" + tagName + \" should be of type \\\"Array\\\". Instead found type \\\"\" + _typeof(props[tagName]) + \"\\\"\");\n    }\n\n    return false;\n  }).map(function (props) {\n    return props[tagName];\n  }).reverse().reduce(function (approvedTags, instanceTags) {\n    var instanceSeenTags = {};\n    instanceTags.filter(function (tag) {\n      var primaryAttributeKey = void 0;\n      var keys = Object.keys(tag);\n\n      for (var i = 0; i < keys.length; i++) {\n        var attributeKey = keys[i];\n        var lowerCaseAttributeKey = attributeKey.toLowerCase(); // Special rule with link tags, since rel and href are both primary tags, rel takes priority\n\n        if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && !(primaryAttributeKey === TAG_PROPERTIES.REL && tag[primaryAttributeKey].toLowerCase() === \"canonical\") && !(lowerCaseAttributeKey === TAG_PROPERTIES.REL && tag[lowerCaseAttributeKey].toLowerCase() === \"stylesheet\")) {\n          primaryAttributeKey = lowerCaseAttributeKey;\n        } // Special case for innerHTML which doesn't work lowercased\n\n\n        if (primaryAttributes.indexOf(attributeKey) !== -1 && (attributeKey === TAG_PROPERTIES.INNER_HTML || attributeKey === TAG_PROPERTIES.CSS_TEXT || attributeKey === TAG_PROPERTIES.ITEM_PROP)) {\n          primaryAttributeKey = attributeKey;\n        }\n      }\n\n      if (!primaryAttributeKey || !tag[primaryAttributeKey]) {\n        return false;\n      }\n\n      var value = tag[primaryAttributeKey].toLowerCase();\n\n      if (!approvedSeenTags[primaryAttributeKey]) {\n        approvedSeenTags[primaryAttributeKey] = {};\n      }\n\n      if (!instanceSeenTags[primaryAttributeKey]) {\n        instanceSeenTags[primaryAttributeKey] = {};\n      }\n\n      if (!approvedSeenTags[primaryAttributeKey][value]) {\n        instanceSeenTags[primaryAttributeKey][value] = true;\n        return true;\n      }\n\n      return false;\n    }).reverse().forEach(function (tag) {\n      return approvedTags.push(tag);\n    }); // Update seen tags with tags from this instance\n\n    var keys = Object.keys(instanceSeenTags);\n\n    for (var i = 0; i < keys.length; i++) {\n      var attributeKey = keys[i];\n      var tagUnion = objectAssign({}, approvedSeenTags[attributeKey], instanceSeenTags[attributeKey]);\n      approvedSeenTags[attributeKey] = tagUnion;\n    }\n\n    return approvedTags;\n  }, []).reverse();\n};\n\nvar getInnermostProperty = function getInnermostProperty(propsList, property) {\n  for (var i = propsList.length - 1; i >= 0; i--) {\n    var props = propsList[i];\n\n    if (props.hasOwnProperty(property)) {\n      return props[property];\n    }\n  }\n\n  return null;\n};\n\nvar reducePropsToState = function reducePropsToState(propsList) {\n  return {\n    baseTag: getBaseTagFromPropsList([TAG_PROPERTIES.HREF, TAG_PROPERTIES.TARGET], propsList),\n    bodyAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.BODY, propsList),\n    defer: getInnermostProperty(propsList, HELMET_PROPS.DEFER),\n    encode: getInnermostProperty(propsList, HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),\n    htmlAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.HTML, propsList),\n    linkTags: getTagsFromPropsList(TAG_NAMES.LINK, [TAG_PROPERTIES.REL, TAG_PROPERTIES.HREF], propsList),\n    metaTags: getTagsFromPropsList(TAG_NAMES.META, [TAG_PROPERTIES.NAME, TAG_PROPERTIES.CHARSET, TAG_PROPERTIES.HTTPEQUIV, TAG_PROPERTIES.PROPERTY, TAG_PROPERTIES.ITEM_PROP], propsList),\n    noscriptTags: getTagsFromPropsList(TAG_NAMES.NOSCRIPT, [TAG_PROPERTIES.INNER_HTML], propsList),\n    onChangeClientState: getOnChangeClientState(propsList),\n    scriptTags: getTagsFromPropsList(TAG_NAMES.SCRIPT, [TAG_PROPERTIES.SRC, TAG_PROPERTIES.INNER_HTML], propsList),\n    styleTags: getTagsFromPropsList(TAG_NAMES.STYLE, [TAG_PROPERTIES.CSS_TEXT], propsList),\n    title: getTitleFromPropsList(propsList),\n    titleAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.TITLE, propsList)\n  };\n};\n\nvar rafPolyfill = function () {\n  var clock = Date.now();\n  return function (callback) {\n    var currentTime = Date.now();\n\n    if (currentTime - clock > 16) {\n      clock = currentTime;\n      callback(currentTime);\n    } else {\n      setTimeout(function () {\n        rafPolyfill(callback);\n      }, 0);\n    }\n  };\n}();\n\nvar cafPolyfill = function cafPolyfill(id) {\n  return clearTimeout(id);\n};\n\nvar requestAnimationFrame = typeof window !== \"undefined\" ? window.requestAnimationFrame && window.requestAnimationFrame.bind(window) || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || rafPolyfill : global.requestAnimationFrame || rafPolyfill;\nvar cancelAnimationFrame = typeof window !== \"undefined\" ? window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || cafPolyfill : global.cancelAnimationFrame || cafPolyfill;\n\nvar warn = function warn(msg) {\n  return console && typeof console.warn === \"function\" && console.warn(msg);\n};\n\nvar _helmetCallback = null;\n\nvar handleClientStateChange = function handleClientStateChange(newState) {\n  if (_helmetCallback) {\n    cancelAnimationFrame(_helmetCallback);\n  }\n\n  if (newState.defer) {\n    _helmetCallback = requestAnimationFrame(function () {\n      commitTagChanges(newState, function () {\n        _helmetCallback = null;\n      });\n    });\n  } else {\n    commitTagChanges(newState);\n    _helmetCallback = null;\n  }\n};\n\nvar commitTagChanges = function commitTagChanges(newState, cb) {\n  var baseTag = newState.baseTag,\n      bodyAttributes = newState.bodyAttributes,\n      htmlAttributes = newState.htmlAttributes,\n      linkTags = newState.linkTags,\n      metaTags = newState.metaTags,\n      noscriptTags = newState.noscriptTags,\n      onChangeClientState = newState.onChangeClientState,\n      scriptTags = newState.scriptTags,\n      styleTags = newState.styleTags,\n      title = newState.title,\n      titleAttributes = newState.titleAttributes;\n  updateAttributes(TAG_NAMES.BODY, bodyAttributes);\n  updateAttributes(TAG_NAMES.HTML, htmlAttributes);\n  updateTitle(title, titleAttributes);\n  var tagUpdates = {\n    baseTag: updateTags(TAG_NAMES.BASE, baseTag),\n    linkTags: updateTags(TAG_NAMES.LINK, linkTags),\n    metaTags: updateTags(TAG_NAMES.META, metaTags),\n    noscriptTags: updateTags(TAG_NAMES.NOSCRIPT, noscriptTags),\n    scriptTags: updateTags(TAG_NAMES.SCRIPT, scriptTags),\n    styleTags: updateTags(TAG_NAMES.STYLE, styleTags)\n  };\n  var addedTags = {};\n  var removedTags = {};\n  Object.keys(tagUpdates).forEach(function (tagType) {\n    var _tagUpdates$tagType = tagUpdates[tagType],\n        newTags = _tagUpdates$tagType.newTags,\n        oldTags = _tagUpdates$tagType.oldTags;\n\n    if (newTags.length) {\n      addedTags[tagType] = newTags;\n    }\n\n    if (oldTags.length) {\n      removedTags[tagType] = tagUpdates[tagType].oldTags;\n    }\n  });\n  cb && cb();\n  onChangeClientState(newState, addedTags, removedTags);\n};\n\nvar flattenArray = function flattenArray(possibleArray) {\n  return Array.isArray(possibleArray) ? possibleArray.join(\"\") : possibleArray;\n};\n\nvar updateTitle = function updateTitle(title, attributes) {\n  if (typeof title !== \"undefined\" && document.title !== title) {\n    document.title = flattenArray(title);\n  }\n\n  updateAttributes(TAG_NAMES.TITLE, attributes);\n};\n\nvar updateAttributes = function updateAttributes(tagName, attributes) {\n  var elementTag = document.getElementsByTagName(tagName)[0];\n\n  if (!elementTag) {\n    return;\n  }\n\n  var helmetAttributeString = elementTag.getAttribute(HELMET_ATTRIBUTE);\n  var helmetAttributes = helmetAttributeString ? helmetAttributeString.split(\",\") : [];\n  var attributesToRemove = [].concat(helmetAttributes);\n  var attributeKeys = Object.keys(attributes);\n\n  for (var i = 0; i < attributeKeys.length; i++) {\n    var attribute = attributeKeys[i];\n    var value = attributes[attribute] || \"\";\n\n    if (elementTag.getAttribute(attribute) !== value) {\n      elementTag.setAttribute(attribute, value);\n    }\n\n    if (helmetAttributes.indexOf(attribute) === -1) {\n      helmetAttributes.push(attribute);\n    }\n\n    var indexToSave = attributesToRemove.indexOf(attribute);\n\n    if (indexToSave !== -1) {\n      attributesToRemove.splice(indexToSave, 1);\n    }\n  }\n\n  for (var _i = attributesToRemove.length - 1; _i >= 0; _i--) {\n    elementTag.removeAttribute(attributesToRemove[_i]);\n  }\n\n  if (helmetAttributes.length === attributesToRemove.length) {\n    elementTag.removeAttribute(HELMET_ATTRIBUTE);\n  } else if (elementTag.getAttribute(HELMET_ATTRIBUTE) !== attributeKeys.join(\",\")) {\n    elementTag.setAttribute(HELMET_ATTRIBUTE, attributeKeys.join(\",\"));\n  }\n};\n\nvar updateTags = function updateTags(type, tags) {\n  var headElement = document.head || document.querySelector(TAG_NAMES.HEAD);\n  var tagNodes = headElement.querySelectorAll(type + \"[\" + HELMET_ATTRIBUTE + \"]\");\n  var oldTags = Array.prototype.slice.call(tagNodes);\n  var newTags = [];\n  var indexToDelete = void 0;\n\n  if (tags && tags.length) {\n    tags.forEach(function (tag) {\n      var newElement = document.createElement(type);\n\n      for (var attribute in tag) {\n        if (tag.hasOwnProperty(attribute)) {\n          if (attribute === TAG_PROPERTIES.INNER_HTML) {\n            newElement.innerHTML = tag.innerHTML;\n          } else if (attribute === TAG_PROPERTIES.CSS_TEXT) {\n            if (newElement.styleSheet) {\n              newElement.styleSheet.cssText = tag.cssText;\n            } else {\n              newElement.appendChild(document.createTextNode(tag.cssText));\n            }\n          } else {\n            var value = typeof tag[attribute] === \"undefined\" ? \"\" : tag[attribute];\n            newElement.setAttribute(attribute, value);\n          }\n        }\n      }\n\n      newElement.setAttribute(HELMET_ATTRIBUTE, \"true\"); // Remove a duplicate tag from domTagstoRemove, so it isn't cleared.\n\n      if (oldTags.some(function (existingTag, index) {\n        indexToDelete = index;\n        return newElement.isEqualNode(existingTag);\n      })) {\n        oldTags.splice(indexToDelete, 1);\n      } else {\n        newTags.push(newElement);\n      }\n    });\n  }\n\n  oldTags.forEach(function (tag) {\n    return tag.parentNode.removeChild(tag);\n  });\n  newTags.forEach(function (tag) {\n    return headElement.appendChild(tag);\n  });\n  return {\n    oldTags: oldTags,\n    newTags: newTags\n  };\n};\n\nvar generateElementAttributesAsString = function generateElementAttributesAsString(attributes) {\n  return Object.keys(attributes).reduce(function (str, key) {\n    var attr = typeof attributes[key] !== \"undefined\" ? key + \"=\\\"\" + attributes[key] + \"\\\"\" : \"\" + key;\n    return str ? str + \" \" + attr : attr;\n  }, \"\");\n};\n\nvar generateTitleAsString = function generateTitleAsString(type, title, attributes, encode) {\n  var attributeString = generateElementAttributesAsString(attributes);\n  var flattenedTitle = flattenArray(title);\n  return attributeString ? \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeString + \">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\" : \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\";\n};\n\nvar generateTagsAsString = function generateTagsAsString(type, tags, encode) {\n  return tags.reduce(function (str, tag) {\n    var attributeHtml = Object.keys(tag).filter(function (attribute) {\n      return !(attribute === TAG_PROPERTIES.INNER_HTML || attribute === TAG_PROPERTIES.CSS_TEXT);\n    }).reduce(function (string, attribute) {\n      var attr = typeof tag[attribute] === \"undefined\" ? attribute : attribute + \"=\\\"\" + encodeSpecialCharacters(tag[attribute], encode) + \"\\\"\";\n      return string ? string + \" \" + attr : attr;\n    }, \"\");\n    var tagContent = tag.innerHTML || tag.cssText || \"\";\n    var isSelfClosing = SELF_CLOSING_TAGS.indexOf(type) === -1;\n    return str + \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeHtml + (isSelfClosing ? \"/>\" : \">\" + tagContent + \"</\" + type + \">\");\n  }, \"\");\n};\n\nvar convertElementAttributestoReactProps = function convertElementAttributestoReactProps(attributes) {\n  var initProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return Object.keys(attributes).reduce(function (obj, key) {\n    obj[REACT_TAG_MAP[key] || key] = attributes[key];\n    return obj;\n  }, initProps);\n};\n\nvar convertReactPropstoHtmlAttributes = function convertReactPropstoHtmlAttributes(props) {\n  var initAttributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return Object.keys(props).reduce(function (obj, key) {\n    obj[HTML_TAG_MAP[key] || key] = props[key];\n    return obj;\n  }, initAttributes);\n};\n\nvar generateTitleAsReactComponent = function generateTitleAsReactComponent(type, title, attributes) {\n  var _initProps; // assigning into an array to define toString function on it\n\n\n  var initProps = (_initProps = {\n    key: title\n  }, _initProps[HELMET_ATTRIBUTE] = true, _initProps);\n  var props = convertElementAttributestoReactProps(attributes, initProps);\n  return [React.createElement(TAG_NAMES.TITLE, props, title)];\n};\n\nvar generateTagsAsReactComponent = function generateTagsAsReactComponent(type, tags) {\n  return tags.map(function (tag, i) {\n    var _mappedTag;\n\n    var mappedTag = (_mappedTag = {\n      key: i\n    }, _mappedTag[HELMET_ATTRIBUTE] = true, _mappedTag);\n    Object.keys(tag).forEach(function (attribute) {\n      var mappedAttribute = REACT_TAG_MAP[attribute] || attribute;\n\n      if (mappedAttribute === TAG_PROPERTIES.INNER_HTML || mappedAttribute === TAG_PROPERTIES.CSS_TEXT) {\n        var content = tag.innerHTML || tag.cssText;\n        mappedTag.dangerouslySetInnerHTML = {\n          __html: content\n        };\n      } else {\n        mappedTag[mappedAttribute] = tag[attribute];\n      }\n    });\n    return React.createElement(type, mappedTag);\n  });\n};\n\nvar getMethodsForTag = function getMethodsForTag(type, tags, encode) {\n  switch (type) {\n    case TAG_NAMES.TITLE:\n      return {\n        toComponent: function toComponent() {\n          return generateTitleAsReactComponent(type, tags.title, tags.titleAttributes, encode);\n        },\n        toString: function toString() {\n          return generateTitleAsString(type, tags.title, tags.titleAttributes, encode);\n        }\n      };\n\n    case ATTRIBUTE_NAMES.BODY:\n    case ATTRIBUTE_NAMES.HTML:\n      return {\n        toComponent: function toComponent() {\n          return convertElementAttributestoReactProps(tags);\n        },\n        toString: function toString() {\n          return generateElementAttributesAsString(tags);\n        }\n      };\n\n    default:\n      return {\n        toComponent: function toComponent() {\n          return generateTagsAsReactComponent(type, tags);\n        },\n        toString: function toString() {\n          return generateTagsAsString(type, tags, encode);\n        }\n      };\n  }\n};\n\nvar mapStateOnServer = function mapStateOnServer(_ref) {\n  var baseTag = _ref.baseTag,\n      bodyAttributes = _ref.bodyAttributes,\n      encode = _ref.encode,\n      htmlAttributes = _ref.htmlAttributes,\n      linkTags = _ref.linkTags,\n      metaTags = _ref.metaTags,\n      noscriptTags = _ref.noscriptTags,\n      scriptTags = _ref.scriptTags,\n      styleTags = _ref.styleTags,\n      _ref$title = _ref.title,\n      title = _ref$title === undefined ? \"\" : _ref$title,\n      titleAttributes = _ref.titleAttributes;\n  return {\n    base: getMethodsForTag(TAG_NAMES.BASE, baseTag, encode),\n    bodyAttributes: getMethodsForTag(ATTRIBUTE_NAMES.BODY, bodyAttributes, encode),\n    htmlAttributes: getMethodsForTag(ATTRIBUTE_NAMES.HTML, htmlAttributes, encode),\n    link: getMethodsForTag(TAG_NAMES.LINK, linkTags, encode),\n    meta: getMethodsForTag(TAG_NAMES.META, metaTags, encode),\n    noscript: getMethodsForTag(TAG_NAMES.NOSCRIPT, noscriptTags, encode),\n    script: getMethodsForTag(TAG_NAMES.SCRIPT, scriptTags, encode),\n    style: getMethodsForTag(TAG_NAMES.STYLE, styleTags, encode),\n    title: getMethodsForTag(TAG_NAMES.TITLE, {\n      title: title,\n      titleAttributes: titleAttributes\n    }, encode)\n  };\n};\n\nvar Helmet = function Helmet(Component) {\n  var _class, _temp;\n\n  return _temp = _class = function (_React$Component) {\n    inherits(HelmetWrapper, _React$Component);\n\n    function HelmetWrapper() {\n      classCallCheck(this, HelmetWrapper);\n      return possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n    }\n\n    HelmetWrapper.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n      return !isEqual(this.props, nextProps);\n    };\n\n    HelmetWrapper.prototype.mapNestedChildrenToProps = function mapNestedChildrenToProps(child, nestedChildren) {\n      if (!nestedChildren) {\n        return null;\n      }\n\n      switch (child.type) {\n        case TAG_NAMES.SCRIPT:\n        case TAG_NAMES.NOSCRIPT:\n          return {\n            innerHTML: nestedChildren\n          };\n\n        case TAG_NAMES.STYLE:\n          return {\n            cssText: nestedChildren\n          };\n      }\n\n      throw new Error(\"<\" + child.type + \" /> elements are self-closing and can not contain children. Refer to our API for more information.\");\n    };\n\n    HelmetWrapper.prototype.flattenArrayTypeChildren = function flattenArrayTypeChildren(_ref) {\n      var _babelHelpers$extends;\n\n      var child = _ref.child,\n          arrayTypeChildren = _ref.arrayTypeChildren,\n          newChildProps = _ref.newChildProps,\n          nestedChildren = _ref.nestedChildren;\n      return _extends({}, arrayTypeChildren, (_babelHelpers$extends = {}, _babelHelpers$extends[child.type] = [].concat(arrayTypeChildren[child.type] || [], [_extends({}, newChildProps, this.mapNestedChildrenToProps(child, nestedChildren))]), _babelHelpers$extends));\n    };\n\n    HelmetWrapper.prototype.mapObjectTypeChildren = function mapObjectTypeChildren(_ref2) {\n      var _babelHelpers$extends2, _babelHelpers$extends3;\n\n      var child = _ref2.child,\n          newProps = _ref2.newProps,\n          newChildProps = _ref2.newChildProps,\n          nestedChildren = _ref2.nestedChildren;\n\n      switch (child.type) {\n        case TAG_NAMES.TITLE:\n          return _extends({}, newProps, (_babelHelpers$extends2 = {}, _babelHelpers$extends2[child.type] = nestedChildren, _babelHelpers$extends2.titleAttributes = _extends({}, newChildProps), _babelHelpers$extends2));\n\n        case TAG_NAMES.BODY:\n          return _extends({}, newProps, {\n            bodyAttributes: _extends({}, newChildProps)\n          });\n\n        case TAG_NAMES.HTML:\n          return _extends({}, newProps, {\n            htmlAttributes: _extends({}, newChildProps)\n          });\n      }\n\n      return _extends({}, newProps, (_babelHelpers$extends3 = {}, _babelHelpers$extends3[child.type] = _extends({}, newChildProps), _babelHelpers$extends3));\n    };\n\n    HelmetWrapper.prototype.mapArrayTypeChildrenToProps = function mapArrayTypeChildrenToProps(arrayTypeChildren, newProps) {\n      var newFlattenedProps = _extends({}, newProps);\n\n      Object.keys(arrayTypeChildren).forEach(function (arrayChildName) {\n        var _babelHelpers$extends4;\n\n        newFlattenedProps = _extends({}, newFlattenedProps, (_babelHelpers$extends4 = {}, _babelHelpers$extends4[arrayChildName] = arrayTypeChildren[arrayChildName], _babelHelpers$extends4));\n      });\n      return newFlattenedProps;\n    };\n\n    HelmetWrapper.prototype.warnOnInvalidChildren = function warnOnInvalidChildren(child, nestedChildren) {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (!VALID_TAG_NAMES.some(function (name) {\n          return child.type === name;\n        })) {\n          if (typeof child.type === \"function\") {\n            return warn(\"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.\");\n          }\n\n          return warn(\"Only elements types \" + VALID_TAG_NAMES.join(\", \") + \" are allowed. Helmet does not support rendering <\" + child.type + \"> elements. Refer to our API for more information.\");\n        }\n\n        if (nestedChildren && typeof nestedChildren !== \"string\" && (!Array.isArray(nestedChildren) || nestedChildren.some(function (nestedChild) {\n          return typeof nestedChild !== \"string\";\n        }))) {\n          throw new Error(\"Helmet expects a string as a child of <\" + child.type + \">. Did you forget to wrap your children in braces? ( <\" + child.type + \">{``}</\" + child.type + \"> ) Refer to our API for more information.\");\n        }\n      }\n\n      return true;\n    };\n\n    HelmetWrapper.prototype.mapChildrenToProps = function mapChildrenToProps(children, newProps) {\n      var _this2 = this;\n\n      var arrayTypeChildren = {};\n      React.Children.forEach(children, function (child) {\n        if (!child || !child.props) {\n          return;\n        }\n\n        var _child$props = child.props,\n            nestedChildren = _child$props.children,\n            childProps = objectWithoutProperties(_child$props, [\"children\"]);\n        var newChildProps = convertReactPropstoHtmlAttributes(childProps);\n\n        _this2.warnOnInvalidChildren(child, nestedChildren);\n\n        switch (child.type) {\n          case TAG_NAMES.LINK:\n          case TAG_NAMES.META:\n          case TAG_NAMES.NOSCRIPT:\n          case TAG_NAMES.SCRIPT:\n          case TAG_NAMES.STYLE:\n            arrayTypeChildren = _this2.flattenArrayTypeChildren({\n              child: child,\n              arrayTypeChildren: arrayTypeChildren,\n              newChildProps: newChildProps,\n              nestedChildren: nestedChildren\n            });\n            break;\n\n          default:\n            newProps = _this2.mapObjectTypeChildren({\n              child: child,\n              newProps: newProps,\n              newChildProps: newChildProps,\n              nestedChildren: nestedChildren\n            });\n            break;\n        }\n      });\n      newProps = this.mapArrayTypeChildrenToProps(arrayTypeChildren, newProps);\n      return newProps;\n    };\n\n    HelmetWrapper.prototype.render = function render() {\n      var _props = this.props,\n          children = _props.children,\n          props = objectWithoutProperties(_props, [\"children\"]);\n\n      var newProps = _extends({}, props);\n\n      if (children) {\n        newProps = this.mapChildrenToProps(children, newProps);\n      }\n\n      return React.createElement(Component, newProps);\n    };\n\n    createClass(HelmetWrapper, null, [{\n      key: \"canUseDOM\",\n      // Component.peek comes from react-side-effect:\n      // For testing, you may use a static peek() method available on the returned component.\n      // It lets you get the current state without resetting the mounted instance stack.\n      // Don’t use it for anything other than testing.\n\n      /**\n       * @param {Object} base: {\"target\": \"_blank\", \"href\": \"http://mysite.com/\"}\n       * @param {Object} bodyAttributes: {\"className\": \"root\"}\n       * @param {String} defaultTitle: \"Default Title\"\n       * @param {Boolean} defer: true\n       * @param {Boolean} encodeSpecialCharacters: true\n       * @param {Object} htmlAttributes: {\"lang\": \"en\", \"amp\": undefined}\n       * @param {Array} link: [{\"rel\": \"canonical\", \"href\": \"http://mysite.com/example\"}]\n       * @param {Array} meta: [{\"name\": \"description\", \"content\": \"Test description\"}]\n       * @param {Array} noscript: [{\"innerHTML\": \"<img src='http://mysite.com/js/test.js'\"}]\n       * @param {Function} onChangeClientState: \"(newState) => console.log(newState)\"\n       * @param {Array} script: [{\"type\": \"text/javascript\", \"src\": \"http://mysite.com/js/test.js\"}]\n       * @param {Array} style: [{\"type\": \"text/css\", \"cssText\": \"div { display: block; color: blue; }\"}]\n       * @param {String} title: \"Title\"\n       * @param {Object} titleAttributes: {\"itemprop\": \"name\"}\n       * @param {String} titleTemplate: \"MySite.com - %s\"\n       */\n      set: function set$$1(canUseDOM) {\n        Component.canUseDOM = canUseDOM;\n      }\n    }]);\n    return HelmetWrapper;\n  }(React.Component), _class.propTypes = {\n    base: PropTypes.object,\n    bodyAttributes: PropTypes.object,\n    children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n    defaultTitle: PropTypes.string,\n    defer: PropTypes.bool,\n    encodeSpecialCharacters: PropTypes.bool,\n    htmlAttributes: PropTypes.object,\n    link: PropTypes.arrayOf(PropTypes.object),\n    meta: PropTypes.arrayOf(PropTypes.object),\n    noscript: PropTypes.arrayOf(PropTypes.object),\n    onChangeClientState: PropTypes.func,\n    script: PropTypes.arrayOf(PropTypes.object),\n    style: PropTypes.arrayOf(PropTypes.object),\n    title: PropTypes.string,\n    titleAttributes: PropTypes.object,\n    titleTemplate: PropTypes.string\n  }, _class.defaultProps = {\n    defer: true,\n    encodeSpecialCharacters: true\n  }, _class.peek = Component.peek, _class.rewind = function () {\n    var mappedState = Component.rewind();\n\n    if (!mappedState) {\n      // provide fallback if mappedState is undefined\n      mappedState = mapStateOnServer({\n        baseTag: [],\n        bodyAttributes: {},\n        encodeSpecialCharacters: true,\n        htmlAttributes: {},\n        linkTags: [],\n        metaTags: [],\n        noscriptTags: [],\n        scriptTags: [],\n        styleTags: [],\n        title: \"\",\n        titleAttributes: {}\n      });\n    }\n\n    return mappedState;\n  }, _temp;\n};\n\nvar NullComponent = function NullComponent() {\n  return null;\n};\n\nvar HelmetSideEffects = withSideEffect(reducePropsToState, handleClientStateChange, mapStateOnServer)(NullComponent);\nvar HelmetExport = Helmet(HelmetSideEffects);\nHelmetExport.renderStatic = HelmetExport.rewind;\nexport default HelmetExport;\nexport { HelmetExport as Helmet };","import React from 'react';\nimport { Link as GatsbyLink } from 'gatsby';\nimport PropTypes from 'prop-types';\n\nconst Link = ({ to, children, ...rest }) => {\n   if (/^http/.test(to)) {\n      return <a href={to}>{children}</a>;\n   }\n\n   return (\n      <GatsbyLink to={to} {...rest}>\n         {children}\n      </GatsbyLink>\n   );\n};\n\nLink.propTypes = {\n   to: PropTypes.string,\n   children: PropTypes.node,\n};\n\nexport default Link;\n","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import React from 'react';\nimport Helmet from 'react-helmet';\nimport PropTypes from 'prop-types';\nimport Link from '../Link';\n\nconst Header = ({ title, menuItems }) => {\n   return (\n      <>\n         <Helmet>\n            <html lang=\"en\" className=\"sv-js\" />\n            <meta charset=\"utf-8\" />\n            <meta\n               name=\"viewport\"\n               content=\"width=device-width, initial-scale=1\"\n            />\n            <title>{`${title} \\u00B7 Envision by Sitevision`}</title>\n            <link\n               rel=\"icon\"\n               type=\"image/png\"\n               href=\"/images/envision_logo.png\"\n               sizes=\"32x32\"\n            />\n         </Helmet>\n         <div className=\"sv-header\">\n            <header className=\"header\">\n               <div className=\"logo\">\n                  <a href=\"https://www.sitevision.se\">\n                     <img src=\"/images/sitevision-logo.svg\" alt=\"Sitevision\" />\n                  </a>\n               </div>\n               <nav className=\"header-nav\">\n                  <ul\n                     className=\"env-nav env-nav--menubar env-nav--border\"\n                     role=\"menubar\"\n                  >\n                     {menuItems.map(({ label, to }) => (\n                        <li\n                           className=\"env-nav__item\"\n                           key={label}\n                           role=\"menuitem\"\n                        >\n                           <Link to={to} activeClassName=\"active\">\n                              {label}\n                           </Link>\n                        </li>\n                     ))}\n                  </ul>\n               </nav>\n            </header>\n         </div>\n      </>\n   );\n};\n\nHeader.propTypes = {\n   title: PropTypes.string,\n   menuItems: PropTypes.array,\n};\n\nexport default Header;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Link from '../Link';\n\nconst Sidenav = ({ categories, menuItems }) => {\n   return (\n      <nav className=\"sidenav\">\n         {categories.map(({ title, slug }) => (\n            <div key={slug}>\n               <Link to={menuItems[slug][0].slug}>{title}</Link>\n               <ul>\n                  {menuItems[slug].map(({ id, title, slug }) => (\n                     <li key={id}>\n                        <Link\n                           to={slug}\n                           className=\"env-link-secondary\"\n                           activeClassName=\"active\"\n                        >\n                           {title}\n                        </Link>\n                     </li>\n                  ))}\n               </ul>\n            </div>\n         ))}\n         <div className=\"theme-picker env-text\">\n            <a href=\"/theme/settings/\" className=\"env-link-secondary\">\n               Site theme settings\n            </a>\n         </div>\n      </nav>\n   );\n};\n\nSidenav.propTypes = {\n   categories: PropTypes.array,\n   menuItems: PropTypes.object,\n};\n\nexport default Sidenav;\n","import React from 'react';\nimport Helmet from 'react-helmet';\nimport PropTypes from 'prop-types';\nimport Link from '../Link';\n\nconst Footer = ({ menuItems }) => {\n   return (\n      <>\n         <div className=\"footer-wrapper\">\n            <footer className=\"footer\">\n               <a href=\"https://www.sitevision.se/\">© Sitevision</a>\n               <nav className=\"footer-nav\">\n                  <ul\n                     className=\"env-nav env-nav--menubar env-nav--border\"\n                     role=\"menubar\"\n                  >\n                     {menuItems.map(({ label, to }) => (\n                        <li\n                           className=\"env-nav__item\"\n                           key={label}\n                           role=\"menuitem\"\n                        >\n                           <Link to={to} activeClassName=\"active\">\n                              {label}\n                           </Link>\n                        </li>\n                     ))}\n                  </ul>\n               </nav>\n            </footer>\n         </div>\n         <Helmet>\n            <script>\n               {`var _paq = _paq || [];\n  /* tracker methods like \"setCustomDimension\" should be called before \"trackPageView\" */\n  _paq.push([\"setDoNotTrack\", true]);\n  _paq.push(['trackPageView']);\n  _paq.push(['enableLinkTracking']);\n  (function() {\n    var u=\"//uistats.sitevision.se/\";\n    _paq.push(['setTrackerUrl', u+'piwik.php']);\n    _paq.push(['setSiteId', '8']);\n    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];\n    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);\n  })();`}\n            </script>\n         </Helmet>\n      </>\n   );\n};\n\nFooter.propTypes = {\n   menuItems: PropTypes.array,\n};\n\nexport default Footer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Header from '../components/Header';\nimport Sidenav from '../components/Sidenav';\nimport Footer from '../components/Footer';\n\nconst filterMenuItems = (items) => {\n   return items\n      .map(({ node }) => ({\n         id: node.id,\n         title: node.frontmatter.title,\n         slug: node.fields.slug,\n      }))\n      .reduce((accumulated, item) => {\n         const pathItems = item.slug.split('/').filter((i) => i);\n         let parent = accumulated[pathItems[0]];\n         if (!parent) {\n            parent = accumulated[pathItems[0]] = [];\n         }\n\n         parent.push(item);\n\n         return accumulated;\n      }, {});\n};\nconst BaseTemplate = ({\n   title,\n   topMenuItems,\n   menuCategories,\n   menuItems,\n   children,\n}) => {\n   return (\n      <>\n         <Header title={title} menuItems={topMenuItems} />\n         <div className=\"main-container\">\n            <main>\n               <h1 className=\"main-heading\">{title}</h1>\n               {children}\n            </main>\n            <Sidenav\n               categories={menuCategories}\n               menuItems={filterMenuItems(menuItems)}\n            ></Sidenav>\n         </div>\n         <Footer menuItems={topMenuItems} />\n      </>\n   );\n};\n\nBaseTemplate.propTypes = {\n   title: PropTypes.string,\n   topMenuItems: PropTypes.array,\n   menuCategories: PropTypes.array,\n   menuItems: PropTypes.array,\n   children: PropTypes.node,\n};\n\nexport default BaseTemplate;\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"jquery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"jquery\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"envision\"] = factory(require(\"jquery\"));\n\telse\n\t\troot[\"envision\"] = factory(root[\"jQuery\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE__254__) {\nreturn ","/*!\n * @copyright Copyright (c) 2017 IcoMoon.io\n * @license   Licensed under MIT license\n *            See https://github.com/Keyamoon/svgxuse\n * @version   1.2.6\n */\n/*jslint browser: true */\n/*global XDomainRequest, MutationObserver, window */\n(function () {\n    \"use strict\";\n    if (typeof window !== \"undefined\" && window.addEventListener) {\n        var cache = Object.create(null); // holds xhr objects to prevent multiple requests\n        var checkUseElems;\n        var tid; // timeout id\n        var debouncedCheck = function () {\n            clearTimeout(tid);\n            tid = setTimeout(checkUseElems, 100);\n        };\n        var unobserveChanges = function () {\n            return;\n        };\n        var observeChanges = function () {\n            var observer;\n            window.addEventListener(\"resize\", debouncedCheck, false);\n            window.addEventListener(\"orientationchange\", debouncedCheck, false);\n            if (window.MutationObserver) {\n                observer = new MutationObserver(debouncedCheck);\n                observer.observe(document.documentElement, {\n                    childList: true,\n                    subtree: true,\n                    attributes: true\n                });\n                unobserveChanges = function () {\n                    try {\n                        observer.disconnect();\n                        window.removeEventListener(\"resize\", debouncedCheck, false);\n                        window.removeEventListener(\"orientationchange\", debouncedCheck, false);\n                    } catch (ignore) {}\n                };\n            } else {\n                document.documentElement.addEventListener(\"DOMSubtreeModified\", debouncedCheck, false);\n                unobserveChanges = function () {\n                    document.documentElement.removeEventListener(\"DOMSubtreeModified\", debouncedCheck, false);\n                    window.removeEventListener(\"resize\", debouncedCheck, false);\n                    window.removeEventListener(\"orientationchange\", debouncedCheck, false);\n                };\n            }\n        };\n        var createRequest = function (url) {\n            // In IE 9, cross origin requests can only be sent using XDomainRequest.\n            // XDomainRequest would fail if CORS headers are not set.\n            // Therefore, XDomainRequest should only be used with cross origin requests.\n            function getOrigin(loc) {\n                var a;\n                if (loc.protocol !== undefined) {\n                    a = loc;\n                } else {\n                    a = document.createElement(\"a\");\n                    a.href = loc;\n                }\n                return a.protocol.replace(/:/g, \"\") + a.host;\n            }\n            var Request;\n            var origin;\n            var origin2;\n            if (window.XMLHttpRequest) {\n                Request = new XMLHttpRequest();\n                origin = getOrigin(location);\n                origin2 = getOrigin(url);\n                if (Request.withCredentials === undefined && origin2 !== \"\" && origin2 !== origin) {\n                    Request = XDomainRequest || undefined;\n                } else {\n                    Request = XMLHttpRequest;\n                }\n            }\n            return Request;\n        };\n        var xlinkNS = \"http://www.w3.org/1999/xlink\";\n        checkUseElems = function () {\n            var base;\n            var bcr;\n            var fallback = \"\"; // optional fallback URL in case no base path to SVG file was given and no symbol definition was found.\n            var hash;\n            var href;\n            var i;\n            var inProgressCount = 0;\n            var isHidden;\n            var Request;\n            var url;\n            var uses;\n            var xhr;\n            function observeIfDone() {\n                // If done with making changes, start watching for chagnes in DOM again\n                inProgressCount -= 1;\n                if (inProgressCount === 0) { // if all xhrs were resolved\n                    unobserveChanges(); // make sure to remove old handlers\n                    observeChanges(); // watch for changes to DOM\n                }\n            }\n            function attrUpdateFunc(spec) {\n                return function () {\n                    if (cache[spec.base] !== true) {\n                        spec.useEl.setAttributeNS(xlinkNS, \"xlink:href\", \"#\" + spec.hash);\n                        if (spec.useEl.hasAttribute(\"href\")) {\n                            spec.useEl.setAttribute(\"href\", \"#\" + spec.hash);\n                        }\n                    }\n                };\n            }\n            function onloadFunc(xhr) {\n                return function () {\n                    var body = document.body;\n                    var x = document.createElement(\"x\");\n                    var svg;\n                    xhr.onload = null;\n                    x.innerHTML = xhr.responseText;\n                    svg = x.getElementsByTagName(\"svg\")[0];\n                    if (svg) {\n                        svg.setAttribute(\"aria-hidden\", \"true\");\n                        svg.style.position = \"absolute\";\n                        svg.style.width = 0;\n                        svg.style.height = 0;\n                        svg.style.overflow = \"hidden\";\n                        body.insertBefore(svg, body.firstChild);\n                    }\n                    observeIfDone();\n                };\n            }\n            function onErrorTimeout(xhr) {\n                return function () {\n                    xhr.onerror = null;\n                    xhr.ontimeout = null;\n                    observeIfDone();\n                };\n            }\n            unobserveChanges(); // stop watching for changes to DOM\n            // find all use elements\n            uses = document.getElementsByTagName(\"use\");\n            for (i = 0; i < uses.length; i += 1) {\n                try {\n                    bcr = uses[i].getBoundingClientRect();\n                } catch (ignore) {\n                    // failed to get bounding rectangle of the use element\n                    bcr = false;\n                }\n                href = uses[i].getAttribute(\"href\")\n                        || uses[i].getAttributeNS(xlinkNS, \"href\")\n                        || uses[i].getAttribute(\"xlink:href\");\n                if (href && href.split) {\n                    url = href.split(\"#\");\n                } else {\n                    url = [\"\", \"\"];\n                }\n                base = url[0];\n                hash = url[1];\n                isHidden = bcr && bcr.left === 0 && bcr.right === 0 && bcr.top === 0 && bcr.bottom === 0;\n                if (bcr && bcr.width === 0 && bcr.height === 0 && !isHidden) {\n                    // the use element is empty\n                    // if there is a reference to an external SVG, try to fetch it\n                    // use the optional fallback URL if there is no reference to an external SVG\n                    if (fallback && !base.length && hash && !document.getElementById(hash)) {\n                        base = fallback;\n                    }\n                    if (uses[i].hasAttribute(\"href\")) {\n                        uses[i].setAttributeNS(xlinkNS, \"xlink:href\", href);\n                    }\n                    if (base.length) {\n                        // schedule updating xlink:href\n                        xhr = cache[base];\n                        if (xhr !== true) {\n                            // true signifies that prepending the SVG was not required\n                            setTimeout(attrUpdateFunc({\n                                useEl: uses[i],\n                                base: base,\n                                hash: hash\n                            }), 0);\n                        }\n                        if (xhr === undefined) {\n                            Request = createRequest(base);\n                            if (Request !== undefined) {\n                                xhr = new Request();\n                                cache[base] = xhr;\n                                xhr.onload = onloadFunc(xhr);\n                                xhr.onerror = onErrorTimeout(xhr);\n                                xhr.ontimeout = onErrorTimeout(xhr);\n                                xhr.open(\"GET\", base);\n                                xhr.send();\n                                inProgressCount += 1;\n                            }\n                        }\n                    }\n                } else {\n                    if (!isHidden) {\n                        if (cache[base] === undefined) {\n                            // remember this URL if the use element was not empty and no request was sent\n                            cache[base] = true;\n                        } else if (cache[base].onload) {\n                            // if it turns out that prepending the SVG is not necessary,\n                            // abort the in-progress xhr.\n                            cache[base].abort();\n                            delete cache[base].onload;\n                            cache[base] = true;\n                        }\n                    } else if (base.length && cache[base]) {\n                        setTimeout(attrUpdateFunc({\n                            useEl: uses[i],\n                            base: base,\n                            hash: hash\n                        }), 0);\n                    }\n                }\n            }\n            uses = \"\";\n            inProgressCount += 1;\n            observeIfDone();\n        };\n        var winLoad;\n        winLoad = function () {\n            window.removeEventListener(\"load\", winLoad, false); // to prevent memory leaks\n            tid = setTimeout(checkUseElems, 0);\n        };\n        if (document.readyState !== \"complete\") {\n            // The load event fires when all resources have finished loading, which allows detecting whether SVG use elements are empty.\n            window.addEventListener(\"load\", winLoad, false);\n        } else {\n            // No need to add a listener if the document is already loaded, initialize immediately.\n            winLoad();\n        }\n    }\n}());\n","/**\n* Tom Select v1.7.0\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n*/\n\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.TomSelect = factory());\n}(this, (function () { 'use strict';\n\n\t/**\n\t * MicroEvent - to make any js object an event emitter\n\t *\n\t * - pure javascript - server compatible, browser compatible\n\t * - dont rely on the browser doms\n\t * - super simple - you get it immediatly, no mistery, no magic involved\n\t *\n\t * @author Jerome Etienne (https://github.com/jeromeetienne)\n\t */\n\n\t/**\n\t * Execute callback for each event in space separated list of event names\n\t *\n\t */\n\tfunction forEvents(events, callback) {\n\t  events.split(/\\s+/).forEach(event => {\n\t    callback(event);\n\t  });\n\t}\n\n\tclass MicroEvent {\n\t  constructor() {\n\t    this._events = {};\n\t  }\n\n\t  on(events, fct) {\n\t    forEvents(events, event => {\n\t      this._events[event] = this._events[event] || [];\n\n\t      this._events[event].push(fct);\n\t    });\n\t  }\n\n\t  off(events, fct) {\n\t    var n = arguments.length;\n\n\t    if (n === 0) {\n\t      this._events = {};\n\t      return;\n\t    }\n\n\t    forEvents(events, event => {\n\t      if (n === 1) return delete this._events[event];\n\t      if (event in this._events === false) return;\n\n\t      this._events[event].splice(this._events[event].indexOf(fct), 1);\n\t    });\n\t  }\n\n\t  trigger(events, ...args) {\n\t    var self = this;\n\t    forEvents(events, event => {\n\t      if (event in self._events === false) return;\n\n\t      for (let fct of self._events[event]) {\n\t        fct.apply(self, args);\n\t      }\n\t    });\n\t  }\n\n\t}\n\n\t/**\n\t * microplugin.js\n\t * Copyright (c) 2013 Brian Reavis & contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t * @author Brian Reavis <brian@thirdroute.com>\n\t */\n\tfunction MicroPlugin(Interface) {\n\t  Interface.plugins = {};\n\t  return class mixin extends Interface {\n\t    /**\n\t     * Registers a plugin.\n\t     *\n\t     * @param {string} name\n\t     * @param {function} fn\n\t     */\n\t    static define(name, fn) {\n\t      Interface.plugins[name] = {\n\t        'name': name,\n\t        'fn': fn\n\t      };\n\t    }\n\t    /**\n\t     * Initializes the listed plugins (with options).\n\t     * Acceptable formats:\n\t     *\n\t     * List (without options):\n\t     *   ['a', 'b', 'c']\n\t     *\n\t     * List (with options):\n\t     *   [{'name': 'a', options: {}}, {'name': 'b', options: {}}]\n\t     *\n\t     * Hash (with options):\n\t     *   {'a': { ... }, 'b': { ... }, 'c': { ... }}\n\t     *\n\t     * @param {array|object} plugins\n\t     */\n\n\n\t    initializePlugins(plugins) {\n\t      var i, n, key;\n\t      var self = this;\n\t      var queue = [];\n\t      self.plugins = {\n\t        names: [],\n\t        settings: {},\n\t        requested: {},\n\t        loaded: {}\n\t      };\n\n\t      if (Array.isArray(plugins)) {\n\t        for (i = 0, n = plugins.length; i < n; i++) {\n\t          if (typeof plugins[i] === 'string') {\n\t            queue.push(plugins[i]);\n\t          } else {\n\t            self.plugins.settings[plugins[i].name] = plugins[i].options;\n\t            queue.push(plugins[i].name);\n\t          }\n\t        }\n\t      } else if (plugins) {\n\t        for (key in plugins) {\n\t          if (plugins.hasOwnProperty(key)) {\n\t            self.plugins.settings[key] = plugins[key];\n\t            queue.push(key);\n\t          }\n\t        }\n\t      }\n\n\t      while (queue.length) {\n\t        self.require(queue.shift());\n\t      }\n\t    }\n\n\t    loadPlugin(name) {\n\t      var self = this;\n\t      var plugins = self.plugins;\n\t      var plugin = Interface.plugins[name];\n\n\t      if (!Interface.plugins.hasOwnProperty(name)) {\n\t        throw new Error('Unable to find \"' + name + '\" plugin');\n\t      }\n\n\t      plugins.requested[name] = true;\n\t      plugins.loaded[name] = plugin.fn.apply(self, [self.plugins.settings[name] || {}]);\n\t      plugins.names.push(name);\n\t    }\n\t    /**\n\t     * Initializes a plugin.\n\t     *\n\t     * @param {string} name\n\t     */\n\n\n\t    require(name) {\n\t      var self = this;\n\t      var plugins = self.plugins;\n\n\t      if (!self.plugins.loaded.hasOwnProperty(name)) {\n\t        if (plugins.requested[name]) {\n\t          throw new Error('Plugin has circular dependency (\"' + name + '\")');\n\t        }\n\n\t        self.loadPlugin(name);\n\t      }\n\n\t      return plugins.loaded[name];\n\t    }\n\n\t  };\n\t}\n\n\t/*! sifter.js | https://github.com/orchidjs/sifter.js | Apache License (v2) */\n\t// https://github.com/andrewrk/node-diacritics/blob/master/index.js\n\t/**\n\t * code points generated from toCodePoints();\n\t * removed 65339 to 65345\n\t */\n\n\tvar code_points = [[67, 67], [160, 160], [192, 438], [452, 652], [961, 961], [1019, 1019], [1083, 1083], [1281, 1289], [1984, 1984], [5095, 5095], [7429, 7441], [7545, 7549], [7680, 7935], [8580, 8580], [9398, 9449], [11360, 11391], [42792, 42793], [42802, 42851], [42873, 42897], [42912, 42922], [64256, 64260], [65313, 65338], [65345, 65370]];\n\t/**\n\t * Remove accents\n\t * via https://github.com/krisk/Fuse/issues/133#issuecomment-318692703\n\t *\n\t */\n\n\tfunction asciifold(str) {\n\t  return str.normalize('NFD').replace(/[\\u0300-\\u036F]/g, '').normalize('NFKD').toLowerCase();\n\t}\n\t/**\n\t * Generate a list of diacritics from the list of code points\n\t *\n\t */\n\n\n\tfunction generateDiacritics() {\n\t  var latin_convert = {\n\t    'l·': 'l',\n\t    'ʼn': 'n',\n\t    'æ': 'ae',\n\t    'ø': 'o',\n\t    'aʾ': 'a',\n\t    'dž': 'dz'\n\t  };\n\t  var diacritics = {}; //var no_latin\t= [];\n\n\t  code_points.forEach(code_range => {\n\t    for (let i = code_range[0]; i <= code_range[1]; i++) {\n\t      let diacritic = String.fromCharCode(i);\n\t      let latin = diacritic.normalize('NFD').replace(/[\\u0300-\\u036F]/g, '').normalize('NFKD');\n\n\t      if (latin == diacritic) {\n\t        //no_latin.push(diacritic);\n\t        continue;\n\t      }\n\n\t      latin = latin.toLowerCase();\n\n\t      if (latin in latin_convert) {\n\t        latin = latin_convert[latin];\n\t      }\n\n\t      if (!(latin in diacritics)) {\n\t        diacritics[latin] = latin + latin.toUpperCase();\n\t      }\n\n\t      diacritics[latin] += diacritic;\n\t    }\n\t  }); //console.log('no_latin',JSON.stringify(no_latin));\n\n\t  return diacritics;\n\t}\n\t/**\n\t * Expand a regular expression pattern to include diacritics\n\t * \teg /a/ becomes /aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐɑAⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ/\n\t *\n\t */\n\n\tvar diacritics = null;\n\tfunction diacriticRegexPoints(regex) {\n\t  if (diacritics === null) {\n\t    diacritics = generateDiacritics();\n\t  }\n\n\t  for (let latin in diacritics) {\n\t    if (diacritics.hasOwnProperty(latin)) {\n\t      regex = regex.replace(new RegExp(latin, 'g'), '[' + diacritics[latin] + ']');\n\t    }\n\t  }\n\n\t  return regex;\n\t}\n\n\t/*! sifter.js | https://github.com/orchidjs/sifter.js | Apache License (v2) */\n\n\t// @ts-ignore\n\t/**\n\t * A property getter resolving dot-notation\n\t * @param  {Object}  obj     The root object to fetch property on\n\t * @param  {String}  name    The optionally dotted property name to fetch\n\t * @return {Object}          The resolved property value\n\t */\n\n\tfunction getAttr(obj, name) {\n\t  if (!obj) return;\n\t  return obj[name];\n\t}\n\t/**\n\t * A property getter resolving dot-notation\n\t * @param  {Object}  obj     The root object to fetch property on\n\t * @param  {String}  name    The optionally dotted property name to fetch\n\t * @return {Object}          The resolved property value\n\t */\n\n\tfunction getAttrNesting(obj, name) {\n\t  if (!obj) return;\n\t  var names = name.split(\".\");\n\n\t  while (names.length && (obj = obj[names.shift()]));\n\n\t  return obj;\n\t}\n\t/**\n\t * Calculates how close of a match the\n\t * given value is against a search token.\n\t *\n\t * @param {object} token\n\t * @return {number}\n\t */\n\n\tfunction scoreValue(value, token, weight) {\n\t  var score, pos;\n\t  if (!value) return 0;\n\t  value = value + '';\n\t  pos = value.search(token.regex);\n\t  if (pos === -1) return 0;\n\t  score = token.string.length / value.length;\n\t  if (pos === 0) score += 0.5;\n\t  return score * weight;\n\t}\n\tfunction escape_regex(str) {\n\t  return (str + '').replace(/([.?*+^$[\\]\\\\(){}|-])/g, '\\\\$1');\n\t}\n\t/**\n\t * Cast object property to an array if it exists and has a value\n\t *\n\t */\n\n\tfunction propToArray(obj, key) {\n\t  var value = obj[key];\n\n\t  if (value && !Array.isArray(value)) {\n\t    obj[key] = [value];\n\t  }\n\t}\n\t/**\n\t * Iterates over arrays and hashes.\n\t *\n\t * ```\n\t * iterate(this.items, function(item, id) {\n\t *    // invoked for each item\n\t * });\n\t * ```\n\t *\n\t * @param {array|object} object\n\t */\n\n\tfunction iterate(object, callback) {\n\t  if (Array.isArray(object)) {\n\t    object.forEach(callback);\n\t  } else {\n\t    for (var key in object) {\n\t      if (object.hasOwnProperty(key)) {\n\t        callback(object[key], key);\n\t      }\n\t    }\n\t  }\n\t}\n\tfunction cmp(a, b) {\n\t  if (typeof a === 'number' && typeof b === 'number') {\n\t    return a > b ? 1 : a < b ? -1 : 0;\n\t  }\n\n\t  a = asciifold(a + '').toLowerCase();\n\t  b = asciifold(b + '').toLowerCase();\n\t  if (a > b) return 1;\n\t  if (b > a) return -1;\n\t  return 0;\n\t}\n\n\t/*! sifter.js | https://github.com/orchidjs/sifter.js | Apache License (v2) */\n\n\t/**\n\t * sifter.js\n\t * Copyright (c) 2013–2020 Brian Reavis & contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t * @author Brian Reavis <brian@thirdroute.com>\n\t */\n\tclass Sifter {\n\t  /**\n\t   * Textually searches arrays and hashes of objects\n\t   * by property (or multiple properties). Designed\n\t   * specifically for autocomplete.\n\t   *\n\t   * @constructor\n\t   * @param {array|object} items\n\t   * @param {object} items\n\t   */\n\t  constructor(items, settings) {\n\t    this.items = void 0;\n\t    this.settings = void 0;\n\t    this.items = items;\n\t    this.settings = settings || {\n\t      diacritics: true\n\t    };\n\t  }\n\n\t  /**\n\t   * Splits a search string into an array of individual\n\t   * regexps to be used to match results.\n\t   *\n\t   */\n\t  tokenize(query, respect_word_boundaries, weights) {\n\t    if (!query || !query.length) return [];\n\t    const tokens = [];\n\t    const words = query.split(/\\s+/);\n\t    var field_regex;\n\n\t    if (weights) {\n\t      field_regex = new RegExp('^(' + Object.keys(weights).map(escape_regex).join('|') + ')\\:(.*)$');\n\t    }\n\n\t    words.forEach(word => {\n\t      let field_match;\n\t      let field = null;\n\t      let regex = null; // look for \"field:query\" tokens\n\n\t      if (field_regex && (field_match = word.match(field_regex))) {\n\t        field = field_match[1];\n\t        word = field_match[2];\n\t      }\n\n\t      if (word.length > 0) {\n\t        regex = escape_regex(word);\n\n\t        if (this.settings.diacritics) {\n\t          regex = diacriticRegexPoints(regex);\n\t        }\n\n\t        if (respect_word_boundaries) regex = \"\\\\b\" + regex;\n\t        regex = new RegExp(regex, 'i');\n\t      }\n\n\t      tokens.push({\n\t        string: word,\n\t        regex: regex,\n\t        field: field\n\t      });\n\t    });\n\t    return tokens;\n\t  }\n\n\t  /**\n\t   * Returns a function to be used to score individual results.\n\t   *\n\t   * Good matches will have a higher score than poor matches.\n\t   * If an item is not a match, 0 will be returned by the function.\n\t   *\n\t   * @returns {function}\n\t   */\n\t  getScoreFunction(query, options) {\n\t    var search = this.prepareSearch(query, options);\n\t    return this._getScoreFunction(search);\n\t  }\n\n\t  _getScoreFunction(search) {\n\t    const tokens = search.tokens,\n\t          token_count = tokens.length;\n\n\t    if (!token_count) {\n\t      return function () {\n\t        return 0;\n\t      };\n\t    }\n\n\t    const fields = search.options.fields,\n\t          weights = search.weights,\n\t          field_count = fields.length,\n\t          getAttrFn = search.getAttrFn;\n\n\t    if (!field_count) {\n\t      return function () {\n\t        return 1;\n\t      };\n\t    }\n\t    /**\n\t     * Calculates the score of an object\n\t     * against the search query.\n\t     *\n\t     * @param {TToken} token\n\t     * @param {object} data\n\t     * @return {number}\n\t     */\n\n\n\t    const scoreObject = function () {\n\t      if (field_count === 1) {\n\t        return function (token, data) {\n\t          const field = fields[0].field;\n\t          return scoreValue(getAttrFn(data, field), token, weights[field]);\n\t        };\n\t      }\n\n\t      return function (token, data) {\n\t        var sum = 0; // is the token specific to a field?\n\n\t        if (token.field) {\n\t          const value = getAttrFn(data, token.field);\n\n\t          if (!token.regex && value) {\n\t            sum += 1 / field_count;\n\t          } else {\n\t            sum += scoreValue(value, token, 1);\n\t          }\n\t        } else {\n\t          iterate(weights, (weight, field) => {\n\t            sum += scoreValue(getAttrFn(data, field), token, weight);\n\t          });\n\t        }\n\n\t        return sum / field_count;\n\t      };\n\t    }();\n\n\t    if (token_count === 1) {\n\t      return function (data) {\n\t        return scoreObject(tokens[0], data);\n\t      };\n\t    }\n\n\t    if (search.options.conjunction === 'and') {\n\t      return function (data) {\n\t        var i = 0,\n\t            score,\n\t            sum = 0;\n\n\t        for (; i < token_count; i++) {\n\t          score = scoreObject(tokens[i], data);\n\t          if (score <= 0) return 0;\n\t          sum += score;\n\t        }\n\n\t        return sum / token_count;\n\t      };\n\t    } else {\n\t      return function (data) {\n\t        var sum = 0;\n\t        iterate(tokens, token => {\n\t          sum += scoreObject(token, data);\n\t        });\n\t        return sum / token_count;\n\t      };\n\t    }\n\t  }\n\n\t  /**\n\t   * Returns a function that can be used to compare two\n\t   * results, for sorting purposes. If no sorting should\n\t   * be performed, `null` will be returned.\n\t   *\n\t   * @return function(a,b)\n\t   */\n\t  getSortFunction(query, options) {\n\t    var search = this.prepareSearch(query, options);\n\t    return this._getSortFunction(search);\n\t  }\n\n\t  _getSortFunction(search) {\n\t    var i, n, sort_fld, sort_flds_count, multiplier, implicit_score;\n\t    const self = this,\n\t          options = search.options,\n\t          sort = !search.query && options.sort_empty || options.sort,\n\t          sort_flds = [],\n\t          multipliers = [];\n\t    /**\n\t     * Fetches the specified sort field value\n\t     * from a search result item.\n\t     *\n\t     * @param  {string} name\n\t     * @param  {object} result\n\t     * @return {string}\n\t     */\n\n\t    const get_field = function get_field(name, result) {\n\t      if (name === '$score') return result.score;\n\t      return search.getAttrFn(self.items[result.id], name);\n\t    }; // parse options\n\n\n\t    if (sort) {\n\t      for (i = 0, n = sort.length; i < n; i++) {\n\t        if (search.query || sort[i].field !== '$score') {\n\t          sort_flds.push(sort[i]);\n\t        }\n\t      }\n\t    } // the \"$score\" field is implied to be the primary\n\t    // sort field, unless it's manually specified\n\n\n\t    if (search.query) {\n\t      implicit_score = true;\n\n\t      for (i = 0, n = sort_flds.length; i < n; i++) {\n\t        if (sort_flds[i].field === '$score') {\n\t          implicit_score = false;\n\t          break;\n\t        }\n\t      }\n\n\t      if (implicit_score) {\n\t        sort_flds.unshift({\n\t          field: '$score',\n\t          direction: 'desc'\n\t        });\n\t      }\n\t    } else {\n\t      for (i = 0, n = sort_flds.length; i < n; i++) {\n\t        if (sort_flds[i].field === '$score') {\n\t          sort_flds.splice(i, 1);\n\t          break;\n\t        }\n\t      }\n\t    }\n\n\t    for (i = 0, n = sort_flds.length; i < n; i++) {\n\t      multipliers.push(sort_flds[i].direction === 'desc' ? -1 : 1);\n\t    } // build function\n\n\n\t    sort_flds_count = sort_flds.length;\n\n\t    if (!sort_flds_count) {\n\t      return null;\n\t    } else if (sort_flds_count === 1) {\n\t      sort_fld = sort_flds[0].field;\n\t      multiplier = multipliers[0];\n\t      return function (a, b) {\n\t        return multiplier * cmp(get_field(sort_fld, a), get_field(sort_fld, b));\n\t      };\n\t    } else {\n\t      return function (a, b) {\n\t        var i, result, field;\n\n\t        for (i = 0; i < sort_flds_count; i++) {\n\t          field = sort_flds[i].field;\n\t          result = multipliers[i] * cmp(get_field(field, a), get_field(field, b));\n\t          if (result) return result;\n\t        }\n\n\t        return 0;\n\t      };\n\t    }\n\t  }\n\n\t  /**\n\t   * Parses a search query and returns an object\n\t   * with tokens and fields ready to be populated\n\t   * with results.\n\t   *\n\t   */\n\t  prepareSearch(query, optsUser) {\n\t    const weights = {};\n\t    var options = Object.assign({}, optsUser);\n\t    propToArray(options, 'sort');\n\t    propToArray(options, 'sort_empty'); // convert fields to new format\n\n\t    if (options.fields) {\n\t      propToArray(options, 'fields');\n\n\t      if (Array.isArray(options.fields) && typeof options.fields[0] !== 'object') {\n\t        var fields = [];\n\t        options.fields.forEach(fld_name => {\n\t          fields.push({\n\t            field: fld_name\n\t          });\n\t        });\n\t        options.fields = fields;\n\t      }\n\n\t      options.fields.forEach(field_params => {\n\t        weights[field_params.field] = 'weight' in field_params ? field_params.weight : 1;\n\t      });\n\t    }\n\n\t    query = asciifold(query + '').toLowerCase().trim();\n\t    return {\n\t      options: options,\n\t      query: query,\n\t      tokens: this.tokenize(query, options.respect_word_boundaries, weights),\n\t      total: 0,\n\t      items: [],\n\t      weights: weights,\n\t      getAttrFn: options.nesting ? getAttrNesting : getAttr\n\t    };\n\t  }\n\n\t  /**\n\t   * Searches through all items and returns a sorted array of matches.\n\t   *\n\t   */\n\t  search(query, options) {\n\t    var self = this,\n\t        score,\n\t        search;\n\t    var fn_sort;\n\t    var fn_score;\n\t    search = this.prepareSearch(query, options);\n\t    options = search.options;\n\t    query = search.query; // generate result scoring function\n\n\t    fn_score = options.score || self._getScoreFunction(search); // perform search and sort\n\n\t    if (query.length) {\n\t      iterate(self.items, (item, id) => {\n\t        score = fn_score(item);\n\n\t        if (options.filter === false || score > 0) {\n\t          search.items.push({\n\t            'score': score,\n\t            'id': id\n\t          });\n\t        }\n\t      });\n\t    } else {\n\t      iterate(self.items, (item, id) => {\n\t        search.items.push({\n\t          'score': 1,\n\t          'id': id\n\t        });\n\t      });\n\t    }\n\n\t    fn_sort = self._getSortFunction(search);\n\t    if (fn_sort) search.items.sort(fn_sort); // apply limits\n\n\t    search.total = search.items.length;\n\n\t    if (typeof options.limit === 'number') {\n\t      search.items = search.items.slice(0, options.limit);\n\t    }\n\n\t    return search;\n\t  }\n\n\t}\n\n\t/**\n\t * highlight v3 | MIT license | Johann Burkard <jb@eaio.com>\n\t * Highlights arbitrary terms in a node.\n\t *\n\t * - Modified by Marshal <beatgates@gmail.com> 2011-6-24 (added regex)\n\t * - Modified by Brian Reavis <brian@thirdroute.com> 2012-8-27 (cleanup)\n\t */\n\tfunction highlight(element, regex) {\n\t  if (regex === null) return; // convet string to regex\n\n\t  if (typeof regex === 'string') {\n\t    if (!regex.length) return;\n\t    regex = new RegExp(regex, 'i');\n\t  }\n\n\t  var highlight = function highlight(node) {\n\t    var skip = 0; // Wrap matching part of text node with highlighting <span>, e.g.\n\t    // Soccer  ->  <span class=\"highlight\">Soc</span>cer  for regex = /soc/i\n\n\t    if (node.nodeType === 3) {\n\t      var pos = node.data.search(regex);\n\n\t      if (pos >= 0 && node.data.length > 0) {\n\t        var match = node.data.match(regex);\n\t        var spannode = document.createElement('span');\n\t        spannode.className = 'highlight';\n\t        var middlebit = node.splitText(pos);\n\t        middlebit.splitText(match[0].length);\n\t        var middleclone = middlebit.cloneNode(true);\n\t        spannode.appendChild(middleclone);\n\t        middlebit.parentNode.replaceChild(spannode, middlebit);\n\t        skip = 1;\n\t      }\n\t    } // Recurse element node, looking for child text nodes to highlight, unless element\n\t    // is childless, <script>, <style>, or already highlighted: <span class=\"hightlight\">\n\t    else if (node.nodeType === 1 && node.childNodes && !/(script|style)/i.test(node.tagName) && (node.className !== 'highlight' || node.tagName !== 'SPAN')) {\n\t        for (var i = 0; i < node.childNodes.length; ++i) {\n\t          i += highlight(node.childNodes[i]);\n\t        }\n\t      }\n\n\t    return skip;\n\t  };\n\n\t  highlight(element);\n\t}\n\t/**\n\t * removeHighlight fn copied from highlight v5 and\n\t * edited to remove with(), pass js strict mode, and use without jquery\n\t */\n\n\tfunction removeHighlight(el) {\n\t  var elements = document.querySelectorAll(\"span.highlight\");\n\t  Array.prototype.forEach.call(elements, function (el, i) {\n\t    var parent = el.parentNode;\n\t    parent.replaceChild(el.firstChild, el);\n\t    parent.normalize();\n\t  });\n\t}\n\n\tconst KEY_A = 65;\n\tconst KEY_RETURN = 13;\n\tconst KEY_ESC = 27;\n\tconst KEY_LEFT = 37;\n\tconst KEY_UP = 38;\n\tconst KEY_RIGHT = 39;\n\tconst KEY_DOWN = 40;\n\tconst KEY_BACKSPACE = 8;\n\tconst KEY_DELETE = 46;\n\tconst KEY_TAB = 9;\n\tconst IS_MAC = typeof navigator === 'undefined' ? false : /Mac/.test(navigator.userAgent);\n\tconst KEY_SHORTCUT = IS_MAC ? 'metaKey' : 'ctrlKey'; // ctrl key or apple key for ma\n\n\tvar defaults = {\n\t  options: [],\n\t  optgroups: [],\n\t  plugins: [],\n\t  delimiter: ',',\n\t  splitOn: null,\n\t  // regexp or string for splitting up values from a paste command\n\t  persist: true,\n\t  diacritics: true,\n\t  create: null,\n\t  createOnBlur: false,\n\t  createFilter: null,\n\t  highlight: true,\n\t  openOnFocus: true,\n\t  shouldOpen: null,\n\t  maxOptions: 50,\n\t  maxItems: null,\n\t  hideSelected: null,\n\t  duplicates: false,\n\t  addPrecedence: false,\n\t  selectOnTab: false,\n\t  preload: null,\n\t  allowEmptyOption: false,\n\t  closeAfterSelect: false,\n\t  loadThrottle: 300,\n\t  loadingClass: 'loading',\n\t  dataAttr: null,\n\t  //'data-data',\n\t  optgroupField: 'optgroup',\n\t  valueField: 'value',\n\t  labelField: 'text',\n\t  disabledField: 'disabled',\n\t  optgroupLabelField: 'label',\n\t  optgroupValueField: 'value',\n\t  lockOptgroupOrder: false,\n\t  sortField: '$order',\n\t  searchField: ['text'],\n\t  searchConjunction: 'and',\n\t  mode: null,\n\t  wrapperClass: 'ts-control',\n\t  inputClass: 'ts-input',\n\t  dropdownClass: 'ts-dropdown',\n\t  dropdownContentClass: 'ts-dropdown-content',\n\t  itemClass: 'item',\n\t  optionClass: 'option',\n\t  dropdownParent: null,\n\t  controlInput: null,\n\t  copyClassesToDropdown: true,\n\t  placeholder: null,\n\t  hidePlaceholder: null,\n\t  shouldLoad: function (query) {\n\t    return query.length > 0;\n\t  },\n\n\t  /*\n\t  load                 : null, // function(query, callback) { ... }\n\t  score                : null, // function(search) { ... }\n\t  onInitialize         : null, // function() { ... }\n\t  onChange             : null, // function(value) { ... }\n\t  onItemAdd            : null, // function(value, $item) { ... }\n\t  onItemRemove         : null, // function(value) { ... }\n\t  onClear              : null, // function() { ... }\n\t  onOptionAdd          : null, // function(value, data) { ... }\n\t  onOptionRemove       : null, // function(value) { ... }\n\t  onOptionClear        : null, // function() { ... }\n\t  onOptionGroupAdd     : null, // function(id, data) { ... }\n\t  onOptionGroupRemove  : null, // function(id) { ... }\n\t  onOptionGroupClear   : null, // function() { ... }\n\t  onDropdownOpen       : null, // function(dropdown) { ... }\n\t  onDropdownClose      : null, // function(dropdown) { ... }\n\t  onType               : null, // function(str) { ... }\n\t  onDelete             : null, // function(values) { ... }\n\t  */\n\t  render: {\n\t    /*\n\t    item: null,\n\t    optgroup: null,\n\t    optgroup_header: null,\n\t    option: null,\n\t    option_create: null\n\t    */\n\t  }\n\t};\n\n\t/**\n\t * Converts a scalar to its best string representation\n\t * for hash keys and HTML attribute values.\n\t *\n\t * Transformations:\n\t *   'str'     -> 'str'\n\t *   null      -> ''\n\t *   undefined -> ''\n\t *   true      -> '1'\n\t *   false     -> '0'\n\t *   0         -> '0'\n\t *   1         -> '1'\n\t *\n\t */\n\tfunction hash_key(value) {\n\t  if (typeof value === 'undefined' || value === null) return null;\n\t  if (typeof value === 'boolean') return value ? '1' : '0';\n\t  return value + '';\n\t}\n\t/**\n\t * Escapes a string for use within HTML.\n\t *\n\t */\n\n\tfunction escape_html(str) {\n\t  return (str + '').replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;');\n\t}\n\t/**\n\t * Debounce the user provided load function\n\t *\n\t */\n\n\tfunction loadDebounce(fn, delay) {\n\t  var timeout;\n\t  return function (value, callback) {\n\t    var self = this;\n\n\t    if (timeout) {\n\t      self.loading = Math.max(self.loading - 1, 0);\n\t    }\n\n\t    clearTimeout(timeout);\n\t    timeout = setTimeout(function () {\n\t      timeout = null;\n\t      self.loadedSearches[value] = true;\n\t      fn.call(self, value, callback);\n\t    }, delay);\n\t  };\n\t}\n\t/**\n\t * Debounce all fired events types listed in `types`\n\t * while executing the provided `fn`.\n\t *\n\t */\n\n\tfunction debounce_events(self, types, fn) {\n\t  var type;\n\t  var trigger = self.trigger;\n\t  var event_args = {}; // override trigger method\n\n\t  self.trigger = function () {\n\t    var type = arguments[0];\n\n\t    if (types.indexOf(type) !== -1) {\n\t      event_args[type] = arguments;\n\t    } else {\n\t      return trigger.apply(self, arguments);\n\t    }\n\t  }; // invoke provided function\n\n\n\t  fn.apply(self, []);\n\t  self.trigger = trigger; // trigger queued events\n\n\t  for (type in event_args) {\n\t    trigger.apply(self, event_args[type]);\n\t  }\n\t}\n\t/**\n\t * Determines the current selection within a text input control.\n\t * Returns an object containing:\n\t *   - start\n\t *   - length\n\t *\n\t */\n\n\tfunction getSelection(input) {\n\t  return {\n\t    start: input.selectionStart,\n\t    length: input.selectionEnd - input.selectionStart\n\t  };\n\t}\n\t/**\n\t * Prevent default\n\t *\n\t */\n\n\tfunction preventDefault(evt, stop = false) {\n\t  if (evt) {\n\t    evt.preventDefault();\n\n\t    if (stop) {\n\t      evt.stopPropagation();\n\t    }\n\t  }\n\t}\n\t/**\n\t * Prevent default\n\t *\n\t */\n\n\tfunction addEvent(target, type, callback, options) {\n\t  target.addEventListener(type, callback, options);\n\t}\n\t/**\n\t * Return true if the requested key is down\n\t * Will return false if more than one control character is pressed ( when [ctrl+shift+a] != [ctrl+a] )\n\t * The current evt may not always set ( eg calling advanceSelection() )\n\t *\n\t */\n\n\tfunction isKeyDown(key_name, evt) {\n\t  if (!evt) {\n\t    return false;\n\t  }\n\n\t  if (!evt[key_name]) {\n\t    return false;\n\t  }\n\n\t  var count = (evt.altKey ? 1 : 0) + (evt.ctrlKey ? 1 : 0) + (evt.shiftKey ? 1 : 0) + (evt.metaKey ? 1 : 0);\n\n\t  if (count === 1) {\n\t    return true;\n\t  }\n\n\t  return false;\n\t}\n\t/**\n\t * Get the id of an element\n\t * If the id attribute is not set, set the attribute with the given id\n\t *\n\t */\n\n\tfunction getId(el, id) {\n\t  const existing_id = el.getAttribute('id');\n\n\t  if (existing_id) {\n\t    return existing_id;\n\t  }\n\n\t  el.setAttribute('id', id);\n\t  return id;\n\t}\n\t/**\n\t * Quote string with slashes\n\t *\n\t */\n\n\tfunction addSlashes(str) {\n\t  return str.replace(/\\\\/g, '\\\\\\\\').replace(/\"/g, '\\\\\"').replace(/'/g, \"\\\\'\");\n\t}\n\n\tfunction getSettings(input, settings_user) {\n\t  var settings = Object.assign({}, defaults, settings_user);\n\t  var attr_data = settings.dataAttr;\n\t  var field_label = settings.labelField;\n\t  var field_value = settings.valueField;\n\t  var field_disabled = settings.disabledField;\n\t  var field_optgroup = settings.optgroupField;\n\t  var field_optgroup_label = settings.optgroupLabelField;\n\t  var field_optgroup_value = settings.optgroupValueField;\n\t  var tag_name = input.tagName.toLowerCase();\n\t  var placeholder = input.getAttribute('placeholder') || input.getAttribute('data-placeholder');\n\n\t  if (!placeholder && !settings.allowEmptyOption) {\n\t    let option = input.querySelector('option[value=\"\"]');\n\n\t    if (option) {\n\t      placeholder = option.textContent;\n\t    }\n\t  }\n\n\t  var settings_element = {\n\t    placeholder: placeholder,\n\t    options: [],\n\t    optgroups: [],\n\t    items: [],\n\t    maxItems: null\n\t  };\n\t  /**\n\t   * Initialize from a <select> element.\n\t   *\n\t   */\n\n\t  var init_select = () => {\n\t    var tagName;\n\t    var options = settings_element.options;\n\t    var optionsMap = {};\n\t    var group_count = 1;\n\n\t    var readData = el => {\n\t      var data = Object.assign({}, el.dataset); // get plain object from DOMStringMap\n\n\t      var json = attr_data && data[attr_data];\n\n\t      if (typeof json === 'string' && json.length) {\n\t        data = Object.assign(data, JSON.parse(json));\n\t      }\n\n\t      return data;\n\t    };\n\n\t    var addOption = (option, group) => {\n\t      var value = hash_key(option.value);\n\t      if (!value && !settings.allowEmptyOption) return; // if the option already exists, it's probably been\n\t      // duplicated in another optgroup. in this case, push\n\t      // the current group to the \"optgroup\" property on the\n\t      // existing option so that it's rendered in both places.\n\n\t      if (optionsMap.hasOwnProperty(value)) {\n\t        if (group) {\n\t          var arr = optionsMap[value][field_optgroup];\n\n\t          if (!arr) {\n\t            optionsMap[value][field_optgroup] = group;\n\t          } else if (!Array.isArray(arr)) {\n\t            optionsMap[value][field_optgroup] = [arr, group];\n\t          } else {\n\t            arr.push(group);\n\t          }\n\t        }\n\n\t        return;\n\t      }\n\n\t      var option_data = readData(option);\n\t      option_data[field_label] = option_data[field_label] || option.textContent;\n\t      option_data[field_value] = option_data[field_value] || value;\n\t      option_data[field_disabled] = option_data[field_disabled] || option.disabled;\n\t      option_data[field_optgroup] = option_data[field_optgroup] || group;\n\t      option_data.$option = option;\n\t      optionsMap[value] = option_data;\n\t      options.push(option_data);\n\n\t      if (option.selected) {\n\t        settings_element.items.push(value);\n\t      }\n\t    };\n\n\t    var addGroup = optgroup => {\n\t      var id, optgroup_data;\n\t      optgroup_data = readData(optgroup);\n\t      optgroup_data[field_optgroup_label] = optgroup_data[field_optgroup_label] || optgroup.getAttribute('label') || '';\n\t      optgroup_data[field_optgroup_value] = optgroup_data[field_optgroup_value] || group_count++;\n\t      optgroup_data[field_disabled] = optgroup_data[field_disabled] || optgroup.disabled;\n\t      settings_element.optgroups.push(optgroup_data);\n\t      id = optgroup_data[field_optgroup_value];\n\n\t      for (const option of optgroup.children) {\n\t        addOption(option, id);\n\t      }\n\t    };\n\n\t    settings_element.maxItems = input.hasAttribute('multiple') ? null : 1;\n\n\t    for (const child of input.children) {\n\t      tagName = child.tagName.toLowerCase();\n\n\t      if (tagName === 'optgroup') {\n\t        addGroup(child);\n\t      } else if (tagName === 'option') {\n\t        addOption(child);\n\t      }\n\t    }\n\t  };\n\t  /**\n\t   * Initialize from a <input type=\"text\"> element.\n\t   *\n\t   */\n\n\n\t  var init_textbox = () => {\n\t    var values, option;\n\t    var data_raw = input.getAttribute(attr_data);\n\n\t    if (!data_raw) {\n\t      var value = input.value.trim() || '';\n\t      if (!settings.allowEmptyOption && !value.length) return;\n\t      values = value.split(settings.delimiter);\n\n\t      for (const _value of values) {\n\t        option = {};\n\t        option[field_label] = _value;\n\t        option[field_value] = _value;\n\t        settings_element.options.push(option);\n\t      }\n\n\t      settings_element.items = values;\n\t    } else {\n\t      settings_element.options = JSON.parse(data_raw);\n\n\t      for (const opt of settings_element.options) {\n\t        settings_element.items.push(opt[field_value]);\n\t      }\n\t    }\n\t  };\n\n\t  if (tag_name === 'select') {\n\t    init_select();\n\t  } else {\n\t    init_textbox();\n\t  }\n\n\t  return Object.assign({}, defaults, settings_element, settings_user);\n\t}\n\n\t/**\n\t * Return a dom element from either a dom query string, jQuery object, a dom element or html string\n\t * https://stackoverflow.com/questions/494143/creating-a-new-dom-element-from-an-html-string-using-built-in-dom-methods-or-pro/35385518#35385518\n\t *\n\t * param query should be {}\n\t */\n\tfunction getDom(query) {\n\t  if (query.jquery) {\n\t    return query[0];\n\t  }\n\n\t  if (query instanceof HTMLElement) {\n\t    return query;\n\t  }\n\n\t  if (query.indexOf('<') > -1) {\n\t    let div = document.createElement('div');\n\t    div.innerHTML = query.trim(); // Never return a text node of whitespace as the result\n\n\t    return div.firstChild;\n\t  }\n\n\t  return document.querySelector(query);\n\t}\n\tfunction escapeQuery(query) {\n\t  return query.replace(/['\"\\\\]/g, '\\\\$&');\n\t}\n\t/**\n\t * Dispatch an event\n\t *\n\t */\n\n\tfunction triggerEvent(dom_el, event_name) {\n\t  var event = document.createEvent('HTMLEvents');\n\t  event.initEvent(event_name, true, false);\n\t  dom_el.dispatchEvent(event);\n\t}\n\t/**\n\t * Apply CSS rules to a dom element\n\t *\n\t */\n\n\tfunction applyCSS(dom_el, css) {\n\t  Object.assign(dom_el.style, css);\n\t}\n\t/**\n\t * Add css classes\n\t *\n\t */\n\n\tfunction addClasses(elmts, ...classes) {\n\t  var norm_classes = classesArray(classes);\n\t  elmts = castAsArray(elmts);\n\t  elmts.map(el => {\n\t    norm_classes.map(cls => {\n\t      el.classList.add(cls);\n\t    });\n\t  });\n\t}\n\t/**\n\t * Remove css classes\n\t *\n\t */\n\n\tfunction removeClasses(elmts, ...classes) {\n\t  var norm_classes = classesArray(classes);\n\t  elmts = castAsArray(elmts);\n\t  elmts.map(el => {\n\t    norm_classes.map(cls => {\n\t      el.classList.remove(cls);\n\t    });\n\t  });\n\t}\n\t/**\n\t * Return arguments\n\t *\n\t */\n\n\tfunction classesArray(args) {\n\t  var classes = [];\n\n\t  for (let _classes of args) {\n\t    if (typeof _classes === 'string') {\n\t      _classes = _classes.trim().split(/[\\11\\12\\14\\15\\40]/);\n\t    }\n\n\t    if (Array.isArray(_classes)) {\n\t      classes = classes.concat(_classes);\n\t    }\n\t  }\n\n\t  return classes.filter(Boolean);\n\t}\n\t/**\n\t * Create an array from arg if it's not already an array\n\t *\n\t */\n\n\tfunction castAsArray(arg) {\n\t  if (!Array.isArray(arg)) {\n\t    arg = [arg];\n\t  }\n\n\t  return arg;\n\t}\n\t/**\n\t * Get the closest node to the evt.target matching the selector\n\t * Stops at wrapper\n\t *\n\t */\n\n\tfunction parentMatch(target, selector, wrapper) {\n\t  if (wrapper && !wrapper.contains(target)) {\n\t    return;\n\t  }\n\n\t  while (target && target.matches) {\n\t    if (target.matches(selector)) {\n\t      return target;\n\t    }\n\n\t    target = target.parentNode;\n\t  }\n\t}\n\t/**\n\t * Get the first or last item from an array\n\t *\n\t * > 0 - right (last)\n\t * < 0 - left (first)\n\t *\n\t */\n\n\tfunction getTail(list, direction) {\n\t  if (direction > 0) {\n\t    return list[list.length - 1];\n\t  }\n\n\t  return list[0];\n\t}\n\t/**\n\t * Return true if an object is empty\n\t *\n\t */\n\n\tfunction isEmptyObject(obj) {\n\t  return Object.keys(obj).length === 0;\n\t}\n\t/**\n\t * Get the index of an element amongst sibling nodes of the same type\n\t *\n\t */\n\n\tfunction nodeIndex(el, amongst) {\n\t  if (!el) return -1;\n\t  amongst = amongst || el.nodeName;\n\t  var i = 0;\n\n\t  while (el = el.previousElementSibling) {\n\t    if (el.matches(amongst)) {\n\t      i++;\n\t    }\n\t  }\n\n\t  return i;\n\t}\n\t/**\n\t * Set attributes of an element\n\t *\n\t */\n\n\tfunction setAttr(el, attrs) {\n\t  for (const attr in attrs) {\n\t    el.setAttribute(attr, attrs[attr]);\n\t  }\n\t}\n\n\tvar instance_i = 0;\n\tclass TomSelect extends MicroPlugin(MicroEvent) {\n\t  constructor(input_arg, settings) {\n\t    super();\n\t    this.control_input = void 0;\n\t    this.wrapper = void 0;\n\t    this.dropdown = void 0;\n\t    this.control = void 0;\n\t    this.dropdown_content = void 0;\n\t    this.order = 0;\n\t    this.settings = void 0;\n\t    this.input = void 0;\n\t    this.tabIndex = void 0;\n\t    this.is_select_tag = void 0;\n\t    this.rtl = void 0;\n\t    this.inputId = void 0;\n\t    this._destroy = void 0;\n\t    this.sifter = void 0;\n\t    this.tab_key = false;\n\t    this.isOpen = false;\n\t    this.isDisabled = false;\n\t    this.isRequired = void 0;\n\t    this.isInvalid = false;\n\t    this.isLocked = false;\n\t    this.isFocused = false;\n\t    this.isInputHidden = false;\n\t    this.isSetup = false;\n\t    this.ignoreFocus = false;\n\t    this.hasOptions = false;\n\t    this.currentResults = null;\n\t    this.lastValue = '';\n\t    this.caretPos = 0;\n\t    this.loading = 0;\n\t    this.loadedSearches = {};\n\t    this.activeOption = null;\n\t    this.activeItems = [];\n\t    this.optgroups = {};\n\t    this.options = {};\n\t    this.userOptions = {};\n\t    this.items = [];\n\t    this.renderCache = {\n\t      'item': {},\n\t      'option': {}\n\t    };\n\t    instance_i++;\n\t    var dir;\n\t    var input = getDom(input_arg);\n\n\t    if (input.tomselect) {\n\t      throw new Error('Tom Select already initialized on this element');\n\t    }\n\n\t    input.tomselect = this; // detect rtl environment\n\n\t    var computedStyle = window.getComputedStyle && window.getComputedStyle(input, null);\n\t    dir = computedStyle.getPropertyValue('direction'); // setup default state\n\n\t    this.settings = getSettings(input, settings);\n\t    this.input = input;\n\t    this.tabIndex = input.tabIndex || 0;\n\t    this.is_select_tag = input.tagName.toLowerCase() === 'select';\n\t    this.rtl = /rtl/i.test(dir);\n\t    this.inputId = getId(input, 'tomselect-' + instance_i);\n\t    this.isRequired = input.required; // search system\n\n\t    this.sifter = new Sifter(this.options, {\n\t      diacritics: this.settings.diacritics\n\t    });\n\t    this.setupOptions(this.settings.options, this.settings.optgroups);\n\t    delete this.settings.optgroups;\n\t    delete this.settings.options; // option-dependent defaults\n\n\t    this.settings.mode = this.settings.mode || (this.settings.maxItems === 1 ? 'single' : 'multi');\n\n\t    if (typeof this.settings.hideSelected !== 'boolean') {\n\t      this.settings.hideSelected = this.settings.mode === 'multi';\n\t    }\n\n\t    if (typeof this.settings.hidePlaceholder !== 'boolean') {\n\t      this.settings.hidePlaceholder = this.settings.mode !== 'multi';\n\t    } // set up createFilter callback\n\n\n\t    var filter = this.settings.createFilter;\n\n\t    if (typeof filter !== 'function') {\n\t      if (typeof filter === 'string') {\n\t        filter = new RegExp(filter);\n\t      }\n\n\t      if (filter instanceof RegExp) {\n\t        this.settings.createFilter = input => filter.test(input);\n\t      } else {\n\t        this.settings.createFilter = () => true;\n\t      }\n\t    }\n\n\t    this.initializePlugins(this.settings.plugins);\n\t    this.setupCallbacks();\n\t    this.setupTemplates();\n\t    this.setup();\n\t  } // methods\n\t  // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n\t  /**\n\t   * Creates all elements and sets up event bindings.\n\t   *\n\t   */\n\n\n\t  setup() {\n\t    var self = this;\n\t    var settings = self.settings;\n\t    var wrapper;\n\t    var control;\n\t    var control_input;\n\t    var dropdown;\n\t    var dropdown_content;\n\t    var inputMode;\n\t    var classes;\n\t    var classes_plugins;\n\t    var input = self.input;\n\t    var control_id;\n\t    const passive_event = {\n\t      passive: true\n\t    };\n\t    const listboxId = self.inputId + '-ts-dropdown';\n\t    inputMode = self.settings.mode;\n\t    classes = input.getAttribute('class') || '';\n\t    wrapper = getDom('<div>');\n\t    addClasses(wrapper, settings.wrapperClass, classes, inputMode);\n\t    control = getDom('<div class=\"items\">');\n\t    addClasses(control, settings.inputClass);\n\t    wrapper.append(control);\n\t    dropdown = self.render('dropdown');\n\t    addClasses(dropdown, settings.dropdownClass, inputMode);\n\t    dropdown_content = getDom(`<div role=\"listbox\" id=\"${listboxId}\" tabindex=\"-1\">`);\n\t    addClasses(dropdown_content, settings.dropdownContentClass);\n\t    dropdown.append(dropdown_content);\n\t    getDom(settings.dropdownParent || wrapper).appendChild(dropdown);\n\n\t    if (settings.controlInput) {\n\t      control_input = getDom(settings.controlInput);\n\t    } else {\n\t      control_input = getDom('<input type=\"text\" autocomplete=\"off\" size=\"1\" />'); // set attributes\n\n\t      var attrs = ['autocorrect', 'autocapitalize', 'autocomplete'];\n\n\t      for (const attr of attrs) {\n\t        if (input.getAttribute(attr)) {\n\t          setAttr(control_input, {\n\t            [attr]: input.getAttribute(attr)\n\t          });\n\t        }\n\t      }\n\t    }\n\n\t    if (!settings.controlInput) {\n\t      control_input.tabIndex = input.disabled ? -1 : self.tabIndex;\n\t      control.appendChild(control_input);\n\t    }\n\n\t    setAttr(control_input, {\n\t      role: 'combobox',\n\t      haspopup: 'listbox',\n\t      'aria-expanded': 'false',\n\t      'aria-controls': listboxId\n\t    });\n\t    control_id = getId(control_input, self.inputId + '-tomselected');\n\t    let query = \"label[for='\" + escapeQuery(self.inputId) + \"']\";\n\t    let label = document.querySelector(query);\n\n\t    if (label) {\n\t      setAttr(label, {\n\t        for: control_id\n\t      });\n\t      let label_id = getId(label, self.inputId + '-ts-label');\n\t      setAttr(dropdown_content, {\n\t        'aria-labelledby': label_id\n\t      });\n\t    }\n\n\t    if (self.settings.copyClassesToDropdown) {\n\t      addClasses(dropdown, classes);\n\t    }\n\n\t    wrapper.style.width = input.style.width;\n\n\t    if (self.plugins.names.length) {\n\t      classes_plugins = 'plugin-' + self.plugins.names.join(' plugin-');\n\t      addClasses([wrapper, dropdown], classes_plugins);\n\t    }\n\n\t    if ((settings.maxItems === null || settings.maxItems > 1) && self.is_select_tag) {\n\t      setAttr(input, {\n\t        multiple: 'multiple'\n\t      });\n\t    }\n\n\t    if (self.settings.placeholder) {\n\t      setAttr(control_input, {\n\t        placeholder: settings.placeholder\n\t      });\n\t    } // if splitOn was not passed in, construct it from the delimiter to allow pasting universally\n\n\n\t    if (!self.settings.splitOn && self.settings.delimiter) {\n\t      self.settings.splitOn = new RegExp('\\\\s*' + escape_regex(self.settings.delimiter) + '+\\\\s*');\n\t    } // debounce user defined load() if loadThrottle > 0\n\t    // after initializePlugins() so plugins can create/modify user defined loaders\n\n\n\t    if (this.settings.load && this.settings.loadThrottle) {\n\t      this.settings.load = loadDebounce(this.settings.load, this.settings.loadThrottle);\n\t    }\n\n\t    self.control = control;\n\t    self.control_input = control_input;\n\t    self.wrapper = wrapper;\n\t    self.dropdown = dropdown;\n\t    self.dropdown_content = dropdown_content;\n\t    self.control_input.type = input.type; // clicking on an option should select it\n\n\t    addEvent(dropdown, 'click', evt => {\n\t      const option = parentMatch(evt.target, '[data-selectable]');\n\n\t      if (option) {\n\t        self.onOptionSelect(evt, option);\n\t      }\n\t    });\n\t    addEvent(control, 'click', evt => {\n\t      var target_match = parentMatch(evt.target, '.' + self.settings.itemClass, control);\n\n\t      if (target_match && self.onItemSelect(evt, target_match)) {\n\t        return;\n\t      } // retain focus (see control_input mousedown)\n\n\n\t      if (control_input.value != '') {\n\t        return;\n\t      }\n\n\t      self.onClick(evt);\n\t    }); // retain focus by preventing native handling. if the\n\t    // event target is the input it should not be modified.\n\t    // otherwise, text selection within the input won't work.\n\n\t    addEvent(control_input, 'mousedown', e => {\n\t      if (control_input.value !== '') {\n\t        e.stopPropagation();\n\t      }\n\t    });\n\t    addEvent(control_input, 'keydown', e => self.onKeyDown(e));\n\t    addEvent(control_input, 'keyup', e => self.onKeyUp(e));\n\t    addEvent(control_input, 'keypress', e => self.onKeyPress(e));\n\t    addEvent(control_input, 'resize', () => self.positionDropdown(), passive_event);\n\t    addEvent(control_input, 'blur', e => self.onBlur(e));\n\t    addEvent(control_input, 'focus', e => self.onFocus(e));\n\t    addEvent(control_input, 'paste', e => self.onPaste(e));\n\n\t    const doc_mousedown = e => {\n\t      // blur if target is outside of this instance\n\t      // dropdown is not always inside wrapper\n\t      if (!wrapper.contains(e.target) && !dropdown.contains(e.target)) {\n\t        if (self.isFocused) {\n\t          self.blur();\n\t        }\n\n\t        self.inputState();\n\t        return;\n\t      } // clicking anywhere in the control should not blur the control_input & close the dropdown\n\n\n\t      preventDefault(e, true);\n\t    };\n\n\t    var win_scroll = () => {\n\t      if (self.isOpen) {\n\t        self.positionDropdown();\n\t      }\n\t    };\n\n\t    addEvent(document, 'mousedown', doc_mousedown);\n\t    addEvent(window, 'sroll', win_scroll, passive_event);\n\t    addEvent(window, 'resize', win_scroll, passive_event);\n\n\t    self._destroy = () => {\n\t      document.removeEventListener('mousedown', doc_mousedown);\n\t      window.removeEventListener('sroll', win_scroll);\n\t      window.removeEventListener('resize', win_scroll);\n\t    }; // store original html and tab index so that they can be\n\t    // restored when the destroy() method is called.\n\n\n\t    this.revertSettings = {\n\t      innerHTML: input.innerHTML,\n\t      tabIndex: input.tabIndex\n\t    };\n\t    input.tabIndex = -1;\n\t    setAttr(input, {\n\t      hidden: 'hidden'\n\t    });\n\t    input.insertAdjacentElement('afterend', self.wrapper);\n\t    self.setValue(settings.items);\n\t    delete settings.items;\n\t    addEvent(input, 'invalid', e => {\n\t      preventDefault(e);\n\n\t      if (!self.isInvalid) {\n\t        self.isInvalid = true;\n\t        self.refreshState();\n\t      }\n\t    });\n\t    self.updateOriginalInput();\n\t    self.refreshItems();\n\t    self.refreshState();\n\t    self.inputState();\n\t    self.isSetup = true;\n\n\t    if (input.disabled) {\n\t      self.disable();\n\t    }\n\n\t    self.on('change', this.onChange);\n\t    addClasses(input, 'tomselected');\n\t    self.trigger('initialize'); // preload options\n\n\t    if (settings.preload === true) {\n\t      self.load('');\n\t    }\n\t  }\n\t  /**\n\t   * Register options and optgroups\n\t   *\n\t   */\n\n\n\t  setupOptions(options = [], optgroups = []) {\n\t    // build options table\n\t    for (const option of options) {\n\t      this.registerOption(option);\n\t    } // build optgroup table\n\n\n\t    for (const optgroup of optgroups) {\n\t      this.registerOptionGroup(optgroup);\n\t    }\n\t  }\n\t  /**\n\t   * Sets up default rendering functions.\n\t   */\n\n\n\t  setupTemplates() {\n\t    var self = this;\n\t    var field_label = self.settings.labelField;\n\t    var field_optgroup = self.settings.optgroupLabelField;\n\t    var templates = {\n\t      'optgroup': (data, escape) => {\n\t        let optgroup = document.createElement('div');\n\t        optgroup.className = 'optgroup';\n\t        optgroup.appendChild(data.options);\n\t        return optgroup;\n\t      },\n\t      'optgroup_header': (data, escape) => {\n\t        return '<div class=\"optgroup-header\">' + escape(data[field_optgroup]) + '</div>';\n\t      },\n\t      'option': (data, escape) => {\n\t        return '<div>' + escape(data[field_label]) + '</div>';\n\t      },\n\t      'item': (data, escape) => {\n\t        return '<div>' + escape(data[field_label]) + '</div>';\n\t      },\n\t      'option_create': (data, escape) => {\n\t        return '<div class=\"create\">Add <strong>' + escape(data.input) + '</strong>&hellip;</div>';\n\t      },\n\t      'no_results': (data, escape) => {\n\t        return '<div class=\"no-results\">No results found</div>';\n\t      },\n\t      'loading': (data, escape) => {\n\t        return '<div class=\"spinner\"></div>';\n\t      },\n\t      'not_loading': () => {},\n\t      'dropdown': () => {\n\t        return '<div></div>';\n\t      }\n\t    };\n\t    self.settings.render = Object.assign({}, templates, self.settings.render);\n\t  }\n\t  /**\n\t   * Maps fired events to callbacks provided\n\t   * in the settings used when creating the control.\n\t   */\n\n\n\t  setupCallbacks() {\n\t    var key, fn;\n\t    var callbacks = {\n\t      'initialize': 'onInitialize',\n\t      'change': 'onChange',\n\t      'item_add': 'onItemAdd',\n\t      'item_remove': 'onItemRemove',\n\t      'clear': 'onClear',\n\t      'option_add': 'onOptionAdd',\n\t      'option_remove': 'onOptionRemove',\n\t      'option_clear': 'onOptionClear',\n\t      'optgroup_add': 'onOptionGroupAdd',\n\t      'optgroup_remove': 'onOptionGroupRemove',\n\t      'optgroup_clear': 'onOptionGroupClear',\n\t      'dropdown_open': 'onDropdownOpen',\n\t      'dropdown_close': 'onDropdownClose',\n\t      'type': 'onType',\n\t      'load': 'onLoad',\n\t      'focus': 'onFocus',\n\t      'blur': 'onBlur'\n\t    };\n\n\t    for (key in callbacks) {\n\t      fn = this.settings[callbacks[key]];\n\t      if (fn) this.on(key, fn);\n\t    }\n\t  }\n\t  /**\n\t   * Triggered when the main control element\n\t   * has a click event.\n\t   *\n\t   */\n\n\n\t  onClick(e) {\n\t    var self = this;\n\n\t    if (self.activeItems.length > 0) {\n\t      self.clearActiveItems();\n\t      self.focus();\n\t      return;\n\t    }\n\n\t    if (self.isFocused && self.isOpen) {\n\t      self.blur();\n\t    } else {\n\t      self.focus();\n\t    }\n\t  }\n\t  /**\n\t   * @deprecated v1.7\n\t   *\n\t   */\n\n\n\t  onMouseDown(e) {}\n\t  /**\n\t   * Triggered when the value of the control has been changed.\n\t   * This should propagate the event to the original DOM\n\t   * input / select element.\n\t   */\n\n\n\t  onChange() {\n\t    triggerEvent(this.input, 'input');\n\t    triggerEvent(this.input, 'change');\n\t  }\n\t  /**\n\t   * Triggered on <input> paste.\n\t   *\n\t   */\n\n\n\t  onPaste(e) {\n\t    var self = this;\n\n\t    if (self.isFull() || self.isInputHidden || self.isLocked) {\n\t      preventDefault(e);\n\t      return;\n\t    } // If a regex or string is included, this will split the pasted\n\t    // input and create Items for each separate value\n\n\n\t    if (self.settings.splitOn) {\n\t      // Wait for pasted text to be recognized in value\n\t      setTimeout(() => {\n\t        var pastedText = self.inputValue();\n\n\t        if (!pastedText.match(self.settings.splitOn)) {\n\t          return;\n\t        }\n\n\t        var splitInput = pastedText.trim().split(self.settings.splitOn);\n\n\t        for (const piece of splitInput) {\n\t          self.createItem(piece);\n\t        }\n\t      }, 0);\n\t    }\n\t  }\n\t  /**\n\t   * Triggered on <input> keypress.\n\t   *\n\t   */\n\n\n\t  onKeyPress(e) {\n\t    var self = this;\n\n\t    if (self.isLocked) {\n\t      preventDefault(e);\n\t      return;\n\t    }\n\n\t    var character = String.fromCharCode(e.keyCode || e.which);\n\n\t    if (self.settings.create && self.settings.mode === 'multi' && character === self.settings.delimiter) {\n\t      self.createItem();\n\t      preventDefault(e);\n\t      return;\n\t    }\n\t  }\n\t  /**\n\t   * Triggered on <input> keydown.\n\t   *\n\t   */\n\n\n\t  onKeyDown(e) {\n\t    var self = this;\n\n\t    if (self.isLocked) {\n\t      if (e.keyCode !== KEY_TAB) {\n\t        preventDefault(e);\n\t      }\n\n\t      return;\n\t    }\n\n\t    switch (e.keyCode) {\n\t      // ctrl+A: select all\n\t      case KEY_A:\n\t        if (isKeyDown(KEY_SHORTCUT, e)) {\n\t          self.selectAll();\n\t          return;\n\t        }\n\n\t        break;\n\t      // esc: close dropdown\n\n\t      case KEY_ESC:\n\t        if (self.isOpen) {\n\t          preventDefault(e, true);\n\t          self.close();\n\t        }\n\n\t        self.clearActiveItems();\n\t        return;\n\t      // down: open dropdown or move selection down\n\n\t      case KEY_DOWN:\n\t        if (!self.isOpen && self.hasOptions) {\n\t          self.open();\n\t        } else if (self.activeOption) {\n\t          let next = self.getAdjacent(self.activeOption, 1);\n\t          if (next) self.setActiveOption(next);\n\t        }\n\n\t        preventDefault(e);\n\t        return;\n\t      // up: move selection up\n\n\t      case KEY_UP:\n\t        if (self.activeOption) {\n\t          let prev = self.getAdjacent(self.activeOption, -1);\n\t          if (prev) self.setActiveOption(prev);\n\t        }\n\n\t        preventDefault(e);\n\t        return;\n\t      // doc_src select active option\n\n\t      case KEY_RETURN:\n\t        if (self.isOpen && self.activeOption) {\n\t          self.onOptionSelect(e, self.activeOption);\n\t          preventDefault(e); // if the option_create=null, the dropdown might be closed\n\t        } else if (self.settings.create && self.createItem()) {\n\t          preventDefault(e);\n\t        }\n\n\t        return;\n\t      // left: modifiy item selection to the left\n\n\t      case KEY_LEFT:\n\t        self.advanceSelection(-1, e);\n\t        return;\n\t      // right: modifiy item selection to the right\n\n\t      case KEY_RIGHT:\n\t        self.advanceSelection(1, e);\n\t        return;\n\t      // tab: select active option and/or create item\n\n\t      case KEY_TAB:\n\t        if (self.settings.selectOnTab) {\n\t          if (self.isOpen && self.activeOption) {\n\t            self.tab_key = true;\n\t            self.onOptionSelect(e, self.activeOption); // prevent default [tab] behaviour of jump to the next field\n\t            // if select isFull, then the dropdown won't be open and [tab] will work normally\n\n\t            preventDefault(e);\n\t            self.tab_key = false;\n\t          }\n\n\t          if (self.settings.create && self.createItem()) {\n\t            preventDefault(e);\n\t          }\n\t        }\n\n\t        return;\n\t      // delete|backspace: delete items\n\n\t      case KEY_BACKSPACE:\n\t      case KEY_DELETE:\n\t        self.deleteSelection(e);\n\t        return;\n\t    } // don't enter text in the control_input when active items are selected\n\n\n\t    if (self.isInputHidden && !isKeyDown(KEY_SHORTCUT, e)) {\n\t      preventDefault(e);\n\t    }\n\t  }\n\t  /**\n\t   * Triggered on <input> keyup.\n\t   *\n\t   */\n\n\n\t  onKeyUp(e) {\n\t    var self = this;\n\n\t    if (self.isLocked) {\n\t      preventDefault(e);\n\t      return;\n\t    }\n\n\t    var value = self.inputValue();\n\n\t    if (self.lastValue !== value) {\n\t      self.lastValue = value;\n\n\t      if (self.settings.shouldLoad.call(self, value)) {\n\t        self.load(value);\n\t      }\n\n\t      self.refreshOptions();\n\t      self.trigger('type', value);\n\t    }\n\t  }\n\t  /**\n\t   * Triggered on <input> focus.\n\t   *\n\t   */\n\n\n\t  onFocus(e) {\n\t    var self = this;\n\t    var wasFocused = self.isFocused;\n\n\t    if (self.isDisabled) {\n\t      self.blur();\n\t      preventDefault(e);\n\t      return;\n\t    }\n\n\t    if (self.ignoreFocus) return;\n\t    self.isFocused = true;\n\t    if (self.settings.preload === 'focus') self.load('');\n\t    if (!wasFocused) self.trigger('focus');\n\n\t    if (!self.activeItems.length) {\n\t      self.showInput();\n\t      self.setActiveItem();\n\t      self.refreshOptions(!!self.settings.openOnFocus);\n\t    }\n\n\t    self.refreshState();\n\t  }\n\t  /**\n\t   * Triggered on <input> blur.\n\t   *\n\t   */\n\n\n\t  onBlur(e) {\n\t    var self = this;\n\t    if (!self.isFocused) return;\n\t    self.isFocused = false;\n\t    self.ignoreFocus = false;\n\n\t    var deactivate = () => {\n\t      self.close();\n\t      self.setActiveItem();\n\t      self.setCaret(self.items.length);\n\t      self.trigger('blur');\n\t    };\n\n\t    if (self.settings.create && self.settings.createOnBlur) {\n\t      self.createItem(null, false, deactivate);\n\t    } else {\n\t      deactivate();\n\t    }\n\t  }\n\t  /**\n\t   * Triggered when the user clicks on an option\n\t   * in the autocomplete dropdown menu.\n\t   *\n\t   */\n\n\n\t  onOptionSelect(evt, option) {\n\t    var value,\n\t        self = this;\n\n\t    if (!option) {\n\t      return;\n\t    } // should not be possible to trigger a option under a disabled optgroup\n\n\n\t    if (option.parentElement && option.parentElement.matches('[data-disabled]')) {\n\t      return;\n\t    }\n\n\t    if (option.classList.contains('create')) {\n\t      self.createItem(null, true, () => {\n\t        if (self.settings.closeAfterSelect) {\n\t          self.close();\n\t        }\n\t      });\n\t    } else {\n\t      value = option.dataset.value;\n\n\t      if (typeof value !== 'undefined') {\n\t        self.lastQuery = null;\n\t        self.addItem(value);\n\n\t        if (self.settings.closeAfterSelect) {\n\t          self.close();\n\t        } else if (!self.settings.hideSelected && evt.type && /mouse/.test(evt.type)) {\n\t          self.setActiveOption(self.getOption(value));\n\t        }\n\t      }\n\t    }\n\t  }\n\t  /**\n\t   * Triggered when the user clicks on an item\n\t   * that has been selected.\n\t   *\n\t   */\n\n\n\t  onItemSelect(evt, item) {\n\t    var self = this;\n\n\t    if (!self.isLocked && self.settings.mode === 'multi') {\n\t      preventDefault(evt);\n\t      self.setActiveItem(item, evt);\n\t      return true;\n\t    }\n\n\t    return false;\n\t  }\n\t  /**\n\t   * Determines whether or not to invoke\n\t   * the user-provided option provider / loader\n\t   *\n\t   * Note, there is a subtle difference between\n\t   * this.canLoad() and this.settings.shouldLoad();\n\t   *\n\t   *\t- settings.shouldLoad() is a user-input validator.\n\t   *\tWhen false is returned, the not_loading template\n\t   *\twill be added to the dropdown\n\t   *\n\t   *\t- canLoad() is lower level validator that checks\n\t   * \tthe Tom Select instance. There is no inherent user\n\t   *\tfeedback when canLoad returns false\n\t   *\n\t   */\n\n\n\t  canLoad(value) {\n\t    if (!this.settings.load) return false;\n\t    if (this.loadedSearches.hasOwnProperty(value)) return false;\n\t    return true;\n\t  }\n\t  /**\n\t   * Invokes the user-provided option provider / loader.\n\t   *\n\t   */\n\n\n\t  load(value) {\n\t    const self = this;\n\t    if (!self.canLoad(value)) return;\n\t    addClasses(self.wrapper, self.settings.loadingClass);\n\t    self.loading++;\n\t    const callback = self.loadCallback.bind(self, value);\n\t    self.settings.load.call(self, value, callback);\n\t  }\n\t  /**\n\t   * Invoked by the user-provided option provider\n\t   *\n\t   */\n\n\n\t  loadCallback(value, options, optgroups) {\n\t    const self = this;\n\t    self.loading = Math.max(self.loading - 1, 0);\n\t    self.lastQuery = null;\n\t    self.clearActiveOption(); // when new results load, focus should be on first option\n\n\t    self.setupOptions(options, optgroups);\n\t    self.refreshOptions(self.isFocused && !self.isInputHidden);\n\n\t    if (!self.loading) {\n\t      removeClasses(self.wrapper, self.settings.loadingClass);\n\t    }\n\n\t    self.trigger('load', options, optgroups);\n\t  }\n\t  /**\n\t   * Sets the input field of the control to the specified value.\n\t   *\n\t   */\n\n\n\t  setTextboxValue(value = '') {\n\t    var input = this.control_input;\n\t    var changed = input.value !== value;\n\n\t    if (changed) {\n\t      input.value = value;\n\t      triggerEvent(input, 'update');\n\t      this.lastValue = value;\n\t    }\n\t  }\n\t  /**\n\t   * Returns the value of the control. If multiple items\n\t   * can be selected (e.g. <select multiple>), this returns\n\t   * an array. If only one item can be selected, this\n\t   * returns a string.\n\t   *\n\t   */\n\n\n\t  getValue() {\n\t    if (this.is_select_tag && this.input.hasAttribute('multiple')) {\n\t      return this.items;\n\t    }\n\n\t    return this.items.join(this.settings.delimiter);\n\t  }\n\t  /**\n\t   * Resets the selected items to the given value.\n\t   *\n\t   */\n\n\n\t  setValue(value, silent) {\n\t    var events = silent ? [] : ['change'];\n\t    debounce_events(this, events, () => {\n\t      this.clear(silent);\n\t      this.addItems(value, silent);\n\t    });\n\t  }\n\t  /**\n\t   * Resets the number of max items to the given value\n\t   *\n\t   */\n\n\n\t  setMaxItems(value) {\n\t    if (value === 0) value = null; //reset to unlimited items.\n\n\t    this.settings.maxItems = value;\n\t    this.refreshState();\n\t  }\n\t  /**\n\t   * Sets the selected item.\n\t   *\n\t   */\n\n\n\t  setActiveItem(item, e) {\n\t    var self = this;\n\t    var eventName;\n\t    var i, begin, end, swap;\n\t    var last;\n\t    if (self.settings.mode === 'single') return; // clear the active selection\n\n\t    if (!item) {\n\t      self.clearActiveItems();\n\n\t      if (self.isFocused) {\n\t        self.showInput();\n\t      }\n\n\t      return;\n\t    } // modify selection\n\n\n\t    eventName = e && e.type.toLowerCase();\n\n\t    if (eventName === 'click' && isKeyDown('shiftKey', e) && self.activeItems.length) {\n\t      last = self.getLastActive();\n\t      begin = Array.prototype.indexOf.call(self.control.children, last);\n\t      end = Array.prototype.indexOf.call(self.control.children, item);\n\n\t      if (begin > end) {\n\t        swap = begin;\n\t        begin = end;\n\t        end = swap;\n\t      }\n\n\t      for (i = begin; i <= end; i++) {\n\t        item = self.control.children[i];\n\n\t        if (self.activeItems.indexOf(item) === -1) {\n\t          self.setActiveItemClass(item);\n\t        }\n\t      }\n\n\t      preventDefault(e);\n\t    } else if (eventName === 'click' && isKeyDown(KEY_SHORTCUT, e) || eventName === 'keydown' && isKeyDown('shiftKey', e)) {\n\t      if (item.classList.contains('active')) {\n\t        self.removeActiveItem(item);\n\t      } else {\n\t        self.setActiveItemClass(item);\n\t      }\n\t    } else {\n\t      self.clearActiveItems();\n\t      self.setActiveItemClass(item);\n\t    } // ensure control has focus\n\n\n\t    self.hideInput();\n\n\t    if (!self.isFocused) {\n\t      self.focus();\n\t    }\n\t  }\n\t  /**\n\t   * Set the active and last-active classes\n\t   *\n\t   */\n\n\n\t  setActiveItemClass(item) {\n\t    var last_active = this.control.querySelector('.last-active');\n\t    if (last_active) removeClasses(last_active, 'last-active');\n\t    addClasses(item, 'active last-active');\n\n\t    if (this.activeItems.indexOf(item) == -1) {\n\t      this.activeItems.push(item);\n\t    }\n\t  }\n\t  /**\n\t   * Remove active item\n\t   *\n\t   */\n\n\n\t  removeActiveItem(item) {\n\t    var idx = this.activeItems.indexOf(item);\n\t    this.activeItems.splice(idx, 1);\n\t    removeClasses(item, 'active');\n\t  }\n\t  /**\n\t   * Clears all the active items\n\t   *\n\t   */\n\n\n\t  clearActiveItems() {\n\t    removeClasses(this.activeItems, 'active');\n\t    this.activeItems = [];\n\t  }\n\t  /**\n\t   * Sets the selected item in the dropdown menu\n\t   * of available options.\n\t   *\n\t   */\n\n\n\t  setActiveOption(option) {\n\t    var height_menu, height_item, y;\n\n\t    if (option === this.activeOption) {\n\t      return;\n\t    }\n\n\t    this.clearActiveOption();\n\t    if (!option) return;\n\t    this.activeOption = option;\n\t    setAttr(this.control_input, {\n\t      'aria-activedescendant': option.getAttribute('id')\n\t    });\n\t    setAttr(option, {\n\t      'aria-selected': 'true'\n\t    });\n\t    addClasses(option, 'active');\n\t    height_menu = this.dropdown_content.clientHeight;\n\t    let scrollTop = this.dropdown_content.scrollTop || 0;\n\t    height_item = this.activeOption.offsetHeight;\n\t    y = this.activeOption.getBoundingClientRect().top - this.dropdown_content.getBoundingClientRect().top + scrollTop;\n\n\t    if (y + height_item > height_menu + scrollTop) {\n\t      this.dropdown_content.scrollTop = y - height_menu + height_item;\n\t    } else if (y < scrollTop) {\n\t      this.dropdown_content.scrollTop = y;\n\t    }\n\t  }\n\t  /**\n\t   * Clears the active option\n\t   *\n\t   */\n\n\n\t  clearActiveOption() {\n\t    if (this.activeOption) {\n\t      removeClasses(this.activeOption, 'active');\n\t      this.activeOption.removeAttribute('aria-selected');\n\t    }\n\n\t    this.activeOption = null;\n\t    this.control_input.removeAttribute('aria-activedescendant');\n\t  }\n\t  /**\n\t   * Selects all items (CTRL + A).\n\t   */\n\n\n\t  selectAll() {\n\t    if (this.settings.mode === 'single') return;\n\t    this.activeItems = this.controlChildren();\n\n\t    if (this.activeItems.length) {\n\t      addClasses(this.activeItems, 'active');\n\t      this.hideInput();\n\t      this.close();\n\t    }\n\n\t    this.focus();\n\t  }\n\t  /**\n\t   * Determines if the control_input should be in a hidden or visible state\n\t   *\n\t   */\n\n\n\t  inputState() {\n\t    var self = this;\n\t    if (self.settings.controlInput) return;\n\n\t    if (self.activeItems.length > 0 || !self.isFocused && this.settings.hidePlaceholder && self.items.length > 0) {\n\t      self.setTextboxValue();\n\t      self.isInputHidden = true;\n\t      addClasses(self.wrapper, 'input-hidden');\n\t    } else {\n\t      self.isInputHidden = false;\n\t      removeClasses(self.wrapper, 'input-hidden');\n\t    }\n\t  }\n\t  /**\n\t   * Hides the input element out of view, while\n\t   * retaining its focus.\n\t   * @deprecated 1.3\n\t   */\n\n\n\t  hideInput() {\n\t    this.inputState();\n\t  }\n\t  /**\n\t   * Restores input visibility.\n\t   * @deprecated 1.3\n\t   */\n\n\n\t  showInput() {\n\t    this.inputState();\n\t  }\n\t  /**\n\t   * Get the input value\n\t   */\n\n\n\t  inputValue() {\n\t    return this.control_input.value.trim();\n\t  }\n\t  /**\n\t   * Gives the control focus.\n\t   */\n\n\n\t  focus() {\n\t    var self = this;\n\t    if (self.isDisabled) return;\n\t    self.ignoreFocus = true;\n\t    self.control_input.focus();\n\t    setTimeout(() => {\n\t      self.ignoreFocus = false;\n\t      self.onFocus();\n\t    }, 0);\n\t  }\n\t  /**\n\t   * Forces the control out of focus.\n\t   *\n\t   */\n\n\n\t  blur() {\n\t    this.control_input.blur();\n\t    this.onBlur(null);\n\t  }\n\t  /**\n\t   * Returns a function that scores an object\n\t   * to show how good of a match it is to the\n\t   * provided query.\n\t   *\n\t   * @return {function}\n\t   */\n\n\n\t  getScoreFunction(query) {\n\t    return this.sifter.getScoreFunction(query, this.getSearchOptions());\n\t  }\n\t  /**\n\t   * Returns search options for sifter (the system\n\t   * for scoring and sorting results).\n\t   *\n\t   * @see https://github.com/orchidjs/sifter.js\n\t   * @return {object}\n\t   */\n\n\n\t  getSearchOptions() {\n\t    var settings = this.settings;\n\t    var sort = settings.sortField;\n\n\t    if (typeof settings.sortField === 'string') {\n\t      sort = [{\n\t        field: settings.sortField\n\t      }];\n\t    }\n\n\t    return {\n\t      fields: settings.searchField,\n\t      conjunction: settings.searchConjunction,\n\t      sort: sort,\n\t      nesting: settings.nesting\n\t    };\n\t  }\n\t  /**\n\t   * Searches through available options and returns\n\t   * a sorted array of matches.\n\t   *\n\t   */\n\n\n\t  search(query) {\n\t    var i, result, calculateScore;\n\t    var self = this;\n\t    var settings = self.settings;\n\t    var options = this.getSearchOptions(); // validate user-provided result scoring function\n\n\t    if (settings.score) {\n\t      calculateScore = self.settings.score.call(self, query);\n\n\t      if (typeof calculateScore !== 'function') {\n\t        throw new Error('Tom Select \"score\" setting must be a function that returns a function');\n\t      }\n\t    } // perform search\n\n\n\t    if (query !== self.lastQuery) {\n\t      self.lastQuery = query;\n\t      result = self.sifter.search(query, Object.assign(options, {\n\t        score: calculateScore\n\t      }));\n\t      self.currentResults = result;\n\t    } else {\n\t      result = Object.assign({}, self.currentResults);\n\t    } // filter out selected items\n\n\n\t    if (settings.hideSelected) {\n\t      for (i = result.items.length - 1; i >= 0; i--) {\n\t        if (self.items.indexOf(hash_key(result.items[i].id)) !== -1) {\n\t          result.items.splice(i, 1);\n\t        }\n\t      }\n\t    }\n\n\t    return result;\n\t  }\n\t  /**\n\t   * Refreshes the list of available options shown\n\t   * in the autocomplete dropdown menu.\n\t   *\n\t   */\n\n\n\t  refreshOptions(triggerDropdown = true) {\n\t    var i, j, k, n, groups_order, optgroup, optgroups, html, has_create_option;\n\t    var active, create;\n\t    var groups;\n\t    var self = this;\n\t    var query = self.inputValue();\n\t    var results = self.search(query);\n\t    var active_before_hash = self.activeOption && hash_key(self.activeOption.dataset.value);\n\t    var show_dropdown = self.settings.shouldOpen || false; // build markup\n\n\t    n = results.items.length;\n\n\t    if (typeof self.settings.maxOptions === 'number') {\n\t      n = Math.min(n, self.settings.maxOptions);\n\t    }\n\n\t    if (n > 0) {\n\t      show_dropdown = true;\n\t    } // render and group available options individually\n\n\n\t    groups = {};\n\t    groups_order = [];\n\n\t    for (i = 0; i < n; i++) {\n\t      // get option dom element, don't re-render if we\n\t      let option = self.options[results.items[i].id];\n\t      let opt_value = hash_key(option[self.settings.valueField]);\n\t      let option_el = self.getOption(opt_value);\n\n\t      if (!option_el) {\n\t        option_el = self.render('option', option);\n\t      } // toggle 'selected' class\n\n\n\t      if (!self.settings.hideSelected) {\n\t        option_el.classList.toggle('selected', self.items.includes(opt_value));\n\t      }\n\n\t      optgroup = option[self.settings.optgroupField] || '';\n\t      optgroups = Array.isArray(optgroup) ? optgroup : [optgroup];\n\n\t      for (j = 0, k = optgroups && optgroups.length; j < k; j++) {\n\t        optgroup = optgroups[j];\n\n\t        if (!self.optgroups.hasOwnProperty(optgroup)) {\n\t          optgroup = '';\n\t        }\n\n\t        if (!groups.hasOwnProperty(optgroup)) {\n\t          groups[optgroup] = document.createDocumentFragment();\n\t          groups_order.push(optgroup);\n\t        } // a child could only have one parent, so if you have more parents clone the child\n\n\n\t        if (j > 0) {\n\t          option_el = option_el.cloneNode(true);\n\t          removeClasses(option_el, 'active');\n\t          option_el.removeAttribute('aria-selected');\n\t        }\n\n\t        groups[optgroup].appendChild(option_el);\n\t      }\n\t    } // sort optgroups\n\n\n\t    if (this.settings.lockOptgroupOrder) {\n\t      groups_order.sort((a, b) => {\n\t        var a_order = self.optgroups[a] && self.optgroups[a].$order || 0;\n\t        var b_order = self.optgroups[b] && self.optgroups[b].$order || 0;\n\t        return a_order - b_order;\n\t      });\n\t    } // render optgroup headers & join groups\n\n\n\t    html = document.createDocumentFragment();\n\n\t    for (optgroup of groups_order) {\n\t      if (self.optgroups.hasOwnProperty(optgroup) && groups[optgroup].children.length) {\n\t        let group_options = document.createDocumentFragment();\n\t        group_options.append(self.render('optgroup_header', self.optgroups[optgroup]));\n\t        group_options.append(groups[optgroup]);\n\t        let group_html = self.render('optgroup', {\n\t          group: self.optgroups[optgroup],\n\t          options: group_options\n\t        });\n\t        html.append(group_html);\n\t      } else {\n\t        html.append(groups[optgroup]);\n\t      }\n\t    }\n\n\t    self.dropdown_content.innerHTML = '';\n\t    self.dropdown_content.append(html); // highlight matching terms inline\n\n\t    if (self.settings.highlight) {\n\t      removeHighlight(self.dropdown_content);\n\n\t      if (results.query.length && results.tokens.length) {\n\t        for (const tok of results.tokens) {\n\t          highlight(self.dropdown_content, tok.regex);\n\t        }\n\t      }\n\t    } // helper method for adding templates to dropdown\n\n\n\t    var add_template = template => {\n\t      let content = self.render(template, {\n\t        input: query\n\t      });\n\n\t      if (content) {\n\t        show_dropdown = true;\n\t        self.dropdown_content.insertBefore(content, self.dropdown_content.firstChild);\n\t      }\n\n\t      return content;\n\t    }; // invalid query\n\n\n\t    if (!self.settings.shouldLoad.call(self, query)) {\n\t      add_template('not_loading'); // add loading message\n\t    } else if (self.loading) {\n\t      add_template('loading'); // add no_results message\n\t    } else if (results.items.length === 0) {\n\t      add_template('no_results');\n\t    } // add create option\n\n\n\t    has_create_option = self.canCreate(query);\n\n\t    if (has_create_option) {\n\t      create = add_template('option_create');\n\t    } // activate\n\n\n\t    self.hasOptions = results.items.length > 0 || has_create_option;\n\n\t    if (show_dropdown) {\n\t      if (results.items.length > 0) {\n\t        active = active_before_hash && self.getOption(active_before_hash);\n\n\t        if (!active && self.settings.mode === 'single' && self.items.length) {\n\t          active = self.getOption(self.items[0]);\n\t        }\n\n\t        if (!active || !self.dropdown_content.contains(active)) {\n\t          let active_index = 0;\n\n\t          if (create && !self.settings.addPrecedence) {\n\t            active_index = 1;\n\t          }\n\n\t          active = self.selectable()[active_index];\n\t        }\n\t      } else {\n\t        active = create;\n\t      }\n\n\t      self.setActiveOption(active);\n\n\t      if (triggerDropdown && !self.isOpen) {\n\t        self.open();\n\t      }\n\t    } else {\n\t      self.clearActiveOption();\n\n\t      if (triggerDropdown && self.isOpen) {\n\t        self.close(false); // if create_option=null, we wan't the dropdown to close but not reset the textbox value\n\t      }\n\t    }\n\t  }\n\t  /**\n\t   * Return list of selectable options\n\t   *\n\t   */\n\n\n\t  selectable() {\n\t    return this.dropdown_content.querySelectorAll('[data-selectable]');\n\t  }\n\t  /**\n\t   * Adds an available option. If it already exists,\n\t   * nothing will happen. Note: this does not refresh\n\t   * the options list dropdown (use `refreshOptions`\n\t   * for that).\n\t   *\n\t   * Usage:\n\t   *\n\t   *   this.addOption(data)\n\t   *\n\t   */\n\n\n\t  addOption(data) {\n\t    var value,\n\t        self = this;\n\n\t    if (Array.isArray(data)) {\n\t      for (const dat of data) {\n\t        self.addOption(dat);\n\t      }\n\n\t      return;\n\t    }\n\n\t    if (value = self.registerOption(data)) {\n\t      self.userOptions[value] = true;\n\t      self.lastQuery = null;\n\t      self.trigger('option_add', value, data);\n\t    }\n\t  }\n\t  /**\n\t   * Registers an option to the pool of options.\n\t   *\n\t   */\n\n\n\t  registerOption(data) {\n\t    var key = hash_key(data[this.settings.valueField]);\n\t    if (key === null || this.options.hasOwnProperty(key)) return false;\n\t    data.$order = data.$order || ++this.order;\n\t    data.$id = this.inputId + '-opt-' + data.$order;\n\t    this.options[key] = data;\n\t    return key;\n\t  }\n\t  /**\n\t   * Registers an option group to the pool of option groups.\n\t   *\n\t   * @return {boolean|string}\n\t   */\n\n\n\t  registerOptionGroup(data) {\n\t    var key = hash_key(data[this.settings.optgroupValueField]);\n\t    if (key === null) return false;\n\t    data.$order = data.$order || ++this.order;\n\t    this.optgroups[key] = data;\n\t    return key;\n\t  }\n\t  /**\n\t   * Registers a new optgroup for options\n\t   * to be bucketed into.\n\t   *\n\t   */\n\n\n\t  addOptionGroup(id, data) {\n\t    var hashed_id;\n\t    data[this.settings.optgroupValueField] = id;\n\n\t    if (hashed_id = this.registerOptionGroup(data)) {\n\t      this.trigger('optgroup_add', hashed_id, data);\n\t    }\n\t  }\n\t  /**\n\t   * Removes an existing option group.\n\t   *\n\t   */\n\n\n\t  removeOptionGroup(id) {\n\t    if (this.optgroups.hasOwnProperty(id)) {\n\t      delete this.optgroups[id];\n\t      this.clearCache();\n\t      this.trigger('optgroup_remove', id);\n\t    }\n\t  }\n\t  /**\n\t   * Clears all existing option groups.\n\t   */\n\n\n\t  clearOptionGroups() {\n\t    this.optgroups = {};\n\t    this.clearCache();\n\t    this.trigger('optgroup_clear');\n\t  }\n\t  /**\n\t   * Updates an option available for selection. If\n\t   * it is visible in the selected items or options\n\t   * dropdown, it will be re-rendered automatically.\n\t   *\n\t   */\n\n\n\t  updateOption(value, data) {\n\t    var self = this;\n\t    var item, item_new;\n\t    var value_new, index_item, cache_items, cache_options, order_old;\n\t    value = hash_key(value);\n\t    value_new = hash_key(data[self.settings.valueField]); // sanity checks\n\n\t    if (value === null) return;\n\t    if (!self.options.hasOwnProperty(value)) return;\n\t    if (typeof value_new !== 'string') throw new Error('Value must be set in option data');\n\t    order_old = self.options[value].$order; // update references\n\n\t    if (value_new !== value) {\n\t      delete self.options[value];\n\t      index_item = self.items.indexOf(value);\n\n\t      if (index_item !== -1) {\n\t        self.items.splice(index_item, 1, value_new);\n\t      }\n\t    }\n\n\t    data.$order = data.$order || order_old;\n\t    self.options[value_new] = data; // invalidate render cache\n\n\t    cache_items = self.renderCache['item'];\n\t    cache_options = self.renderCache['option'];\n\n\t    if (cache_items) {\n\t      delete cache_items[value];\n\t      delete cache_items[value_new];\n\t    }\n\n\t    if (cache_options) {\n\t      delete cache_options[value];\n\t      delete cache_options[value_new];\n\t    } // update the item if it's selected\n\n\n\t    if (self.items.indexOf(value_new) !== -1) {\n\t      item = self.getItem(value);\n\t      item_new = self.render('item', data);\n\t      if (item.classList.contains('active')) addClasses(item_new, 'active');\n\t      item.parentNode.insertBefore(item_new, item);\n\t      item.remove();\n\t    } // invalidate last query because we might have updated the sortField\n\n\n\t    self.lastQuery = null; // update dropdown contents\n\n\t    if (self.isOpen) {\n\t      self.refreshOptions(false);\n\t    }\n\t  }\n\t  /**\n\t   * Removes a single option.\n\t   *\n\t   */\n\n\n\t  removeOption(value, silent) {\n\t    var self = this;\n\t    value = hash_key(value);\n\t    var cache_items = self.renderCache['item'];\n\t    var cache_options = self.renderCache['option'];\n\t    if (cache_items) delete cache_items[value];\n\t    if (cache_options) delete cache_options[value];\n\t    delete self.userOptions[value];\n\t    delete self.options[value];\n\t    self.lastQuery = null;\n\t    self.trigger('option_remove', value);\n\t    self.removeItem(value, silent);\n\t  }\n\t  /**\n\t   * Clears all options.\n\t   */\n\n\n\t  clearOptions() {\n\t    this.loadedSearches = {};\n\t    this.userOptions = {};\n\t    this.clearCache();\n\t    var selected = {};\n\n\t    for (let key in this.options) {\n\t      if (this.options.hasOwnProperty(key) && this.items.indexOf(key) >= 0) {\n\t        selected[key] = this.options[key];\n\t      }\n\t    }\n\n\t    this.options = this.sifter.items = selected;\n\t    this.lastQuery = null;\n\t    this.trigger('option_clear');\n\t  }\n\t  /**\n\t   * Returns the dom element of the option\n\t   * matching the given value.\n\t   *\n\t   * @returns {object}\n\t   */\n\n\n\t  getOption(value) {\n\t    value = hash_key(value);\n\n\t    if (value) {\n\t      const option = this.dropdown_content.querySelector(`[data-selectable][data-value=\"${addSlashes(value)}\"]`);\n\n\t      if (option) {\n\t        return option;\n\t      }\n\t    }\n\n\t    if (this.renderCache['option'].hasOwnProperty(value)) {\n\t      return this.renderCache['option'][value];\n\t    }\n\t  }\n\t  /**\n\t   * Returns the dom element of the next or previous dom element of the same type\n\t   * Note: adjacent options may not be adjacent DOM elements (optgroups)\n\t   *\n\t   */\n\n\n\t  getAdjacent(option, direction, type = 'option') {\n\t    var self = this,\n\t        all;\n\n\t    if (!option) {\n\t      return;\n\t    }\n\n\t    if (type == 'item') {\n\t      all = self.controlChildren();\n\t    } else {\n\t      all = self.dropdown_content.querySelectorAll('[data-selectable]');\n\t    }\n\n\t    for (let i = 0; i < all.length; i++) {\n\t      if (all[i] != option) {\n\t        continue;\n\t      }\n\n\t      if (direction > 0) {\n\t        return all[i + 1];\n\t      }\n\n\t      return all[i - 1];\n\t    }\n\t  }\n\t  /**\n\t   * Returns the dom element of the item\n\t   * matching the given value.\n\t   *\n\t   */\n\n\n\t  getItem(value) {\n\t    value = hash_key(value);\n\n\t    if (value) {\n\t      value = addSlashes(value);\n\t      return this.control.querySelector(`[data-value=\"${value}\"]`);\n\t    }\n\t  }\n\t  /**\n\t   * \"Selects\" multiple items at once. Adds them to the list\n\t   * at the current caret position.\n\t   *\n\t   */\n\n\n\t  addItems(values, silent) {\n\t    var self = this;\n\t    self.buffer = document.createDocumentFragment();\n\n\t    for (const child of self.control.children) {\n\t      self.buffer.appendChild(child);\n\t    }\n\n\t    var items = Array.isArray(values) ? values : [values];\n\t    items = items.filter(x => self.items.indexOf(x) === -1);\n\n\t    for (let i = 0, n = items.length; i < n; i++) {\n\t      self.isPending = i < n - 1;\n\t      self.addItem(items[i], silent);\n\t    }\n\n\t    var control = self.control;\n\t    control.insertBefore(self.buffer, control.firstChild);\n\t    self.buffer = null;\n\t  }\n\t  /**\n\t   * \"Selects\" an item. Adds it to the list\n\t   * at the current caret position.\n\t   *\n\t   */\n\n\n\t  addItem(value, silent) {\n\t    var events = silent ? [] : ['change'];\n\t    debounce_events(this, events, () => {\n\t      var item;\n\t      var self = this;\n\t      var inputMode = self.settings.mode;\n\t      var wasFull;\n\t      value = hash_key(value);\n\n\t      if (self.items.indexOf(value) !== -1) {\n\t        if (inputMode === 'single') {\n\t          self.close();\n\t        }\n\n\t        if (inputMode === 'single' || !self.settings.duplicates) {\n\t          return;\n\t        }\n\t      }\n\n\t      if (!self.options.hasOwnProperty(value)) return;\n\t      if (inputMode === 'single') self.clear(silent);\n\t      if (inputMode === 'multi' && self.isFull()) return;\n\t      item = self.render('item', self.options[value]);\n\n\t      if (self.control.contains(item)) {\n\t        // duplicates\n\t        item = item.cloneNode(true);\n\t      }\n\n\t      wasFull = self.isFull();\n\t      self.items.splice(self.caretPos, 0, value);\n\t      self.insertAtCaret(item);\n\n\t      if (self.isSetup) {\n\t        let options = self.selectable(); // update menu / remove the option (if this is not one item being added as part of series)\n\n\t        if (!self.isPending) {\n\t          let option = self.getOption(value);\n\t          let next = self.getAdjacent(option, 1);\n\t          self.refreshOptions(self.isFocused && inputMode !== 'single');\n\n\t          if (next) {\n\t            self.setActiveOption(next);\n\t          }\n\t        } // hide the menu if the maximum number of items have been selected or no options are left\n\n\n\t        if (!options.length || self.isFull()) {\n\t          self.close();\n\t        } else if (!self.isPending) {\n\t          self.positionDropdown();\n\t        }\n\n\t        self.trigger('item_add', value, item);\n\n\t        if (!self.isPending) {\n\t          self.updateOriginalInput({\n\t            silent: silent\n\t          });\n\t        }\n\t      }\n\n\t      if (!self.isPending || !wasFull && self.isFull()) {\n\t        self.refreshState();\n\t      }\n\t    });\n\t  }\n\t  /**\n\t   * Removes the selected item matching\n\t   * the provided value.\n\t   *\n\t   */\n\n\n\t  removeItem(value, silent) {\n\t    var i,\n\t        idx,\n\t        self = this;\n\t    var item = self.getItem(value);\n\t    if (!item) return;\n\t    value = hash_key(item.dataset.value);\n\t    i = self.items.indexOf(value);\n\n\t    if (i !== -1) {\n\t      item.remove();\n\n\t      if (item.classList.contains('active')) {\n\t        idx = self.activeItems.indexOf(item);\n\t        self.activeItems.splice(idx, 1);\n\t        removeClasses(item, 'active');\n\t      }\n\n\t      self.items.splice(i, 1);\n\t      self.lastQuery = null;\n\n\t      if (!self.settings.persist && self.userOptions.hasOwnProperty(value)) {\n\t        self.removeOption(value, silent);\n\t      }\n\n\t      if (i < self.caretPos) {\n\t        self.setCaret(self.caretPos - 1);\n\t      }\n\n\t      self.updateOriginalInput({\n\t        silent: silent\n\t      });\n\t      self.refreshState();\n\t      self.positionDropdown();\n\t      self.trigger('item_remove', value, item);\n\t    }\n\t  }\n\t  /**\n\t   * Invokes the `create` method provided in the\n\t   * TomSelect options that should provide the data\n\t   * for the new item, given the user input.\n\t   *\n\t   * Once this completes, it will be added\n\t   * to the item list.\n\t   *\n\t   */\n\n\n\t  createItem(input, triggerDropdown = true, callback) {\n\t    var self = this;\n\t    var caret = self.caretPos;\n\t    var output;\n\t    input = input || self.inputValue();\n\t    if (typeof callback !== 'function') callback = () => {};\n\n\t    if (!self.canCreate(input)) {\n\t      callback();\n\t      return false;\n\t    }\n\n\t    self.lock();\n\t    var created = false;\n\n\t    var create = data => {\n\t      self.unlock();\n\t      if (!data || typeof data !== 'object') return callback();\n\t      var value = hash_key(data[self.settings.valueField]);\n\n\t      if (typeof value !== 'string') {\n\t        return callback();\n\t      }\n\n\t      self.setTextboxValue();\n\t      self.addOption(data);\n\t      self.setCaret(caret);\n\t      self.addItem(value);\n\t      self.refreshOptions(triggerDropdown && self.settings.mode !== 'single');\n\t      callback(data);\n\t      created = true;\n\t    };\n\n\t    if (typeof self.settings.create === 'function') {\n\t      output = self.settings.create.call(this, input, create);\n\t    } else {\n\t      output = {\n\t        [self.settings.labelField]: input,\n\t        [self.settings.valueField]: input\n\t      };\n\t    }\n\n\t    if (!created) {\n\t      create(output);\n\t    }\n\n\t    return true;\n\t  }\n\t  /**\n\t   * Re-renders the selected item lists.\n\t   */\n\n\n\t  refreshItems() {\n\t    var self = this;\n\t    self.lastQuery = null;\n\n\t    if (self.isSetup) {\n\t      self.addItems(self.items);\n\t    }\n\n\t    self.updateOriginalInput();\n\t    self.refreshState();\n\t  }\n\t  /**\n\t   * Updates all state-dependent attributes\n\t   * and CSS classes.\n\t   */\n\n\n\t  refreshState() {\n\t    var self = this;\n\t    self.refreshValidityState();\n\t    var isFull = self.isFull();\n\t    var isLocked = self.isLocked;\n\t    self.wrapper.classList.toggle('rtl', self.rtl);\n\t    var classList = self.control.classList;\n\t    classList.toggle('focus', self.isFocused);\n\t    classList.toggle('disabled', self.isDisabled);\n\t    classList.toggle('required', self.isRequired);\n\t    classList.toggle('invalid', self.isInvalid);\n\t    classList.toggle('locked', isLocked);\n\t    classList.toggle('full', isFull);\n\t    classList.toggle('not-full', !isFull);\n\t    classList.toggle('input-active', self.isFocused && !self.isInputHidden);\n\t    classList.toggle('dropdown-active', self.isOpen);\n\t    classList.toggle('has-options', isEmptyObject(self.options));\n\t    classList.toggle('has-items', self.items.length > 0);\n\t  }\n\t  /**\n\t   * Update the `required` attribute of both input and control input.\n\t   *\n\t   * The `required` property needs to be activated on the control input\n\t   * for the error to be displayed at the right place. `required` also\n\t   * needs to be temporarily deactivated on the input since the input is\n\t   * hidden and can't show errors.\n\t   */\n\n\n\t  refreshValidityState() {\n\t    var self = this;\n\n\t    if (!self.input.checkValidity) {\n\t      return;\n\t    } // if required, make sure the input required attribute = true so checkValidity() will work\n\n\n\t    if (this.isRequired) {\n\t      self.input.required = true;\n\t    }\n\n\t    var invalid = !self.input.checkValidity();\n\t    self.isInvalid = invalid;\n\t    self.control_input.required = invalid;\n\n\t    if (this.isRequired) {\n\t      self.input.required = !invalid;\n\t    }\n\t  }\n\t  /**\n\t   * Determines whether or not more items can be added\n\t   * to the control without exceeding the user-defined maximum.\n\t   *\n\t   * @returns {boolean}\n\t   */\n\n\n\t  isFull() {\n\t    return this.settings.maxItems !== null && this.items.length >= this.settings.maxItems;\n\t  }\n\t  /**\n\t   * Refreshes the original <select> or <input>\n\t   * element to reflect the current state.\n\t   *\n\t   */\n\n\n\t  updateOriginalInput(opts = {}) {\n\t    var i,\n\t        value,\n\t        option,\n\t        self = this;\n\n\t    if (self.is_select_tag) {\n\t      // remove selected attribute from options whose values are not in self.items\n\t      self.input.querySelectorAll('option[selected]').forEach(option => {\n\t        if (self.items.indexOf(option.value) == -1) {\n\t          option.selected = false;\n\t          option.removeAttribute('selected');\n\t        }\n\t      }); // order selected <option> tags for values in self.items\n\n\t      for (i = self.items.length - 1; i >= 0; i--) {\n\t        value = self.items[i];\n\t        var option = self.options[value].$option;\n\n\t        if (!option) {\n\t          const label = self.options[value][self.settings.labelField] || '';\n\t          option = getDom('<option value=\"' + escape_html(value) + '\">' + escape_html(label) + '</option>');\n\t          self.options[value].$option = option;\n\t        }\n\n\t        option.selected = true;\n\t        setAttr(option, {\n\t          selected: 'true'\n\t        });\n\t        self.input.prepend(option);\n\t      }\n\t    } else {\n\t      self.input.value = self.getValue();\n\t    }\n\n\t    if (self.isSetup) {\n\t      if (!opts.silent) {\n\t        self.trigger('change', self.getValue());\n\t      }\n\t    }\n\t  }\n\t  /**\n\t   * Shows the autocomplete dropdown containing\n\t   * the available options.\n\t   */\n\n\n\t  open() {\n\t    var self = this;\n\t    if (self.isLocked || self.isOpen || self.settings.mode === 'multi' && self.isFull()) return;\n\t    self.isOpen = true;\n\t    setAttr(self.control_input, {\n\t      'aria-expanded': 'true'\n\t    });\n\t    self.refreshState();\n\t    applyCSS(self.dropdown, {\n\t      visibility: 'hidden',\n\t      display: 'block'\n\t    });\n\t    self.positionDropdown();\n\t    applyCSS(self.dropdown, {\n\t      visibility: 'visible',\n\t      display: 'block'\n\t    });\n\t    self.focus();\n\t    self.trigger('dropdown_open', self.dropdown);\n\t  }\n\t  /**\n\t   * Closes the autocomplete dropdown menu.\n\t   */\n\n\n\t  close(setTextboxValue = true) {\n\t    var self = this;\n\t    var trigger = self.isOpen;\n\n\t    if (setTextboxValue) {\n\t      // before blur() to prevent form onchange event\n\t      self.setTextboxValue();\n\n\t      if (self.settings.mode === 'single' && self.items.length) {\n\t        self.hideInput(); // Do not trigger blur while inside a blur event,\n\t        // this fixes some weird tabbing behavior in FF and IE.\n\t        // See #selectize.js#1164\n\n\t        if (!self.tab_key) {\n\t          self.blur(); // close keyboard on iOS\n\t        }\n\t      }\n\t    }\n\n\t    self.isOpen = false;\n\t    setAttr(self.control_input, {\n\t      'aria-expanded': 'false'\n\t    });\n\t    applyCSS(self.dropdown, {\n\t      display: 'none'\n\t    });\n\t    self.clearActiveOption();\n\t    self.refreshState();\n\t    if (trigger) self.trigger('dropdown_close', self.dropdown);\n\t  }\n\t  /**\n\t   * Calculates and applies the appropriate\n\t   * position of the dropdown if dropdownParent = 'body'.\n\t   * Otherwise, position is determined by css\n\t   */\n\n\n\t  positionDropdown() {\n\t    if (this.settings.dropdownParent !== 'body') {\n\t      return;\n\t    }\n\n\t    var context = this.control;\n\t    var rect = context.getBoundingClientRect();\n\t    var top = context.offsetHeight + rect.top + window.scrollY;\n\t    var left = rect.left + window.scrollX;\n\t    applyCSS(this.dropdown, {\n\t      width: rect.width + 'px',\n\t      top: top + 'px',\n\t      left: left + 'px'\n\t    });\n\t  }\n\t  /**\n\t   * Resets / clears all selected items\n\t   * from the control.\n\t   *\n\t   */\n\n\n\t  clear(silent) {\n\t    var self = this;\n\t    if (!self.items.length) return;\n\t    var items = self.controlChildren();\n\n\t    for (const item of items) {\n\t      item.remove();\n\t    }\n\n\t    self.items = [];\n\t    self.lastQuery = null;\n\t    self.setCaret(0);\n\t    self.setActiveItem();\n\t    self.updateOriginalInput({\n\t      silent: silent\n\t    });\n\t    self.refreshState();\n\t    self.showInput();\n\t    self.trigger('clear');\n\t  }\n\t  /**\n\t   * A helper method for inserting an element\n\t   * at the current caret position.\n\t   *\n\t   */\n\n\n\t  insertAtCaret(el) {\n\t    var self = this;\n\t    var caret = Math.min(self.caretPos, self.items.length);\n\t    var target = self.buffer || self.control;\n\n\t    if (caret === 0) {\n\t      target.insertBefore(el, target.firstChild);\n\t    } else {\n\t      target.insertBefore(el, target.children[caret]);\n\t    }\n\n\t    self.setCaret(caret + 1);\n\t  }\n\t  /**\n\t   * Removes the current selected item(s).\n\t   *\n\t   */\n\n\n\t  deleteSelection(e) {\n\t    var direction, selection, values, caret, tail;\n\t    var self = this;\n\t    direction = e && e.keyCode === KEY_BACKSPACE ? -1 : 1;\n\t    selection = getSelection(self.control_input); // determine items that will be removed\n\n\t    values = [];\n\n\t    if (self.activeItems.length) {\n\t      tail = getTail(self.activeItems, direction);\n\t      caret = nodeIndex(tail);\n\n\t      if (direction > 0) {\n\t        caret++;\n\t      }\n\n\t      for (const item of self.activeItems) {\n\t        values.push(item.dataset.value);\n\t      }\n\t    } else if ((self.isFocused || self.settings.mode === 'single') && self.items.length) {\n\t      if (direction < 0 && selection.start === 0 && selection.length === 0) {\n\t        values.push(self.items[self.caretPos - 1]);\n\t      } else if (direction > 0 && selection.start === self.inputValue().length) {\n\t        values.push(self.items[self.caretPos]);\n\t      }\n\t    } // allow the callback to abort\n\n\n\t    if (!values.length || typeof self.settings.onDelete === 'function' && self.settings.onDelete.call(self, values, e) === false) {\n\t      return false;\n\t    }\n\n\t    preventDefault(e, true); // perform removal\n\n\t    if (typeof caret !== 'undefined') {\n\t      self.setCaret(caret);\n\t    }\n\n\t    while (values.length) {\n\t      self.removeItem(values.pop());\n\t    }\n\n\t    self.showInput();\n\t    self.positionDropdown();\n\t    self.refreshOptions(false);\n\t    return true;\n\t  }\n\t  /**\n\t   * Selects the previous / next item (depending on the `direction` argument).\n\t   *\n\t   * > 0 - right\n\t   * < 0 - left\n\t   *\n\t   */\n\n\n\t  advanceSelection(direction, e) {\n\t    var idx,\n\t        last_active,\n\t        adjacent,\n\t        self = this;\n\t    if (self.rtl) direction *= -1;\n\t    if (self.inputValue().length) return; // add or remove to active items\n\n\t    if (isKeyDown(KEY_SHORTCUT, e) || isKeyDown('shiftKey', e)) {\n\t      last_active = self.getLastActive(direction);\n\n\t      if (last_active) {\n\t        if (!last_active.classList.contains('active')) {\n\t          adjacent = last_active;\n\t        } else {\n\t          adjacent = self.getAdjacent(last_active, direction, 'item');\n\t        } // if no active item, get items adjacent to the control input\n\n\t      } else if (direction > 0) {\n\t        adjacent = self.control_input.nextElementSibling;\n\t      } else {\n\t        adjacent = self.control_input.previousElementSibling;\n\t      }\n\n\t      if (adjacent) {\n\t        if (adjacent.classList.contains('active')) {\n\t          self.removeActiveItem(last_active);\n\t        }\n\n\t        self.setActiveItemClass(adjacent); // mark as last_active !! after removeActiveItem() on last_active\n\t      } // move caret to the left or right\n\n\t    } else if (self.isFocused && !self.activeItems.length) {\n\t      self.setCaret(self.caretPos + direction); // move caret before or after selected items\n\t    } else {\n\t      last_active = self.getLastActive(direction);\n\n\t      if (last_active) {\n\t        idx = nodeIndex(last_active);\n\t        self.setCaret(direction > 0 ? idx + 1 : idx);\n\t        self.setActiveItem();\n\t      }\n\t    }\n\t  }\n\t  /**\n\t   * Get the last active item\n\t   *\n\t   */\n\n\n\t  getLastActive(direction) {\n\t    let last_active = this.control.querySelector('.last-active');\n\n\t    if (last_active) {\n\t      return last_active;\n\t    }\n\n\t    var result = this.control.querySelectorAll('.active');\n\n\t    if (result) {\n\t      return getTail(result, direction);\n\t    }\n\t  }\n\t  /**\n\t   * Moves the caret to the specified index.\n\t   *\n\t   * The input must be moved by leaving it in place and moving the\n\t   * siblings, due to the fact that focus cannot be restored once lost\n\t   * on mobile webkit devices\n\t   *\n\t   */\n\n\n\t  setCaret(new_pos) {\n\t    var self = this;\n\n\t    if (self.settings.mode === 'single' || self.settings.controlInput) {\n\t      new_pos = self.items.length;\n\t    } else {\n\t      new_pos = Math.max(0, Math.min(self.items.length, new_pos));\n\n\t      if (new_pos != self.caretPos && !self.isPending) {\n\t        self.controlChildren().forEach((child, j) => {\n\t          if (j < new_pos) {\n\t            self.control_input.insertAdjacentElement('beforebegin', child);\n\t          } else {\n\t            self.control.appendChild(child);\n\t          }\n\t        });\n\t      }\n\t    }\n\n\t    self.caretPos = new_pos;\n\t  }\n\t  /**\n\t   * Return list of item dom elements\n\t   *\n\t   */\n\n\n\t  controlChildren() {\n\t    return Array.from(this.control.getElementsByClassName(this.settings.itemClass));\n\t  }\n\t  /**\n\t   * Disables user input on the control. Used while\n\t   * items are being asynchronously created.\n\t   */\n\n\n\t  lock() {\n\t    this.close();\n\t    this.isLocked = true;\n\t    this.refreshState();\n\t  }\n\t  /**\n\t   * Re-enables user input on the control.\n\t   */\n\n\n\t  unlock() {\n\t    this.isLocked = false;\n\t    this.refreshState();\n\t  }\n\t  /**\n\t   * Disables user input on the control completely.\n\t   * While disabled, it cannot receive focus.\n\t   */\n\n\n\t  disable() {\n\t    var self = this;\n\t    self.input.disabled = true;\n\t    self.control_input.disabled = true;\n\t    self.control_input.tabIndex = -1;\n\t    self.isDisabled = true;\n\t    self.lock();\n\t  }\n\t  /**\n\t   * Enables the control so that it can respond\n\t   * to focus and user input.\n\t   */\n\n\n\t  enable() {\n\t    var self = this;\n\t    self.input.disabled = false;\n\t    self.control_input.disabled = false;\n\t    self.control_input.tabIndex = self.tabIndex;\n\t    self.isDisabled = false;\n\t    self.unlock();\n\t  }\n\t  /**\n\t   * Completely destroys the control and\n\t   * unbinds all event listeners so that it can\n\t   * be garbage collected.\n\t   */\n\n\n\t  destroy() {\n\t    var self = this;\n\t    var revertSettings = self.revertSettings;\n\t    self.trigger('destroy');\n\t    self.off();\n\t    self.wrapper.remove();\n\t    self.dropdown.remove();\n\t    self.input.innerHTML = revertSettings.innerHTML;\n\t    self.input.tabIndex = revertSettings.tabIndex;\n\t    removeClasses(self.input, 'tomselected');\n\t    self.input.removeAttribute('hidden');\n\t    self.input.required = this.isRequired;\n\n\t    self._destroy();\n\n\t    delete self.input.tomselect;\n\t  }\n\t  /**\n\t   * A helper method for rendering \"item\" and\n\t   * \"option\" templates, given the data.\n\t   *\n\t   */\n\n\n\t  render(templateName, data) {\n\t    var value, id, html;\n\t    var self = this;\n\n\t    if (templateName === 'option' || templateName === 'item') {\n\t      value = hash_key(data[self.settings.valueField]); // pull markup from cache if it exists\n\n\t      if (self.renderCache[templateName].hasOwnProperty(value)) {\n\t        return self.renderCache[templateName][value];\n\t      }\n\t    }\n\n\t    var template = self.settings.render[templateName];\n\n\t    if (typeof template !== 'function') {\n\t      return null;\n\t    } // render markup\n\n\n\t    html = template.call(this, data, escape_html);\n\n\t    if (!html) {\n\t      return html;\n\t    }\n\n\t    html = getDom(html); // add mandatory attributes\n\n\t    if (templateName === 'option' || templateName === 'option_create') {\n\t      if (data[self.settings.disabledField]) {\n\t        setAttr(html, {\n\t          'aria-disabled': 'true'\n\t        });\n\t      } else {\n\t        setAttr(html, {\n\t          'data-selectable': ''\n\t        });\n\t      }\n\t    } else if (templateName === 'optgroup') {\n\t      id = data.group[self.settings.optgroupValueField];\n\t      setAttr(html, {\n\t        'data-group': id\n\t      });\n\n\t      if (data.group[self.settings.disabledField]) {\n\t        setAttr(html, {\n\t          'data-disabled': ''\n\t        });\n\t      }\n\t    }\n\n\t    if (templateName === 'option' || templateName === 'item') {\n\t      setAttr(html, {\n\t        'data-value': value\n\t      }); // make sure we have some classes if a template is overwritten\n\n\t      if (templateName === 'item') {\n\t        addClasses(html, self.settings.itemClass);\n\t      } else {\n\t        addClasses(html, self.settings.optionClass);\n\t        setAttr(html, {\n\t          role: 'option',\n\t          id: data.$id\n\t        });\n\t      } // update cache\n\n\n\t      self.renderCache[templateName][value] = html;\n\t    }\n\n\t    return html;\n\t  }\n\t  /**\n\t   * Clears the render cache for a template. If\n\t   * no template is given, clears all render\n\t   * caches.\n\t   *\n\t   */\n\n\n\t  clearCache(templateName) {\n\t    var self = this;\n\n\t    if (templateName === void 0) {\n\t      self.renderCache = {\n\t        'item': {},\n\t        'option': {}\n\t      };\n\t    } else {\n\t      self.renderCache[templateName] = {};\n\t    }\n\t  }\n\t  /**\n\t   * Determines whether or not to display the\n\t   * create item prompt, given a user input.\n\t   *\n\t   */\n\n\n\t  canCreate(input) {\n\t    return this.settings.create && input.length && this.settings.createFilter.call(this, input);\n\t  }\n\t  /**\n\t   * Wraps this.`method` so that `new_fn` can be invoked 'before', 'after', or 'instead' of the original method\n\t   *\n\t   * this.hook('instead','onKeyDown',function( arg1, arg2 ...){\n\t   *\n\t   * });\n\t   */\n\n\n\t  hook(when, method, new_fn) {\n\t    var self = this;\n\t    var orig_method = self[method];\n\n\t    self[method] = function () {\n\t      var result, result_new;\n\n\t      if (when === 'after') {\n\t        result = orig_method.apply(self, arguments);\n\t      }\n\n\t      result_new = new_fn.apply(self, arguments);\n\n\t      if (when === 'instead') {\n\t        return result_new;\n\t      }\n\n\t      if (when === 'before') {\n\t        result = orig_method.apply(self, arguments);\n\t      }\n\n\t      return result;\n\t    };\n\t  }\n\n\t}\n\n\t/**\n\t * Plugin: \"change_listener\" (Tom Select)\n\t * Copyright (c) contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t */\n\tTomSelect.define('change_listener', function (options) {\n\t  var self = this;\n\t  var changed = false;\n\t  addEvent(self.input, 'change', () => {\n\t    // prevent infinite loops\n\t    if (changed) {\n\t      changed = false;\n\t      return;\n\t    }\n\n\t    changed = true;\n\t    var settings = getSettings(self.input, {});\n\t    self.setupOptions(settings.options, settings.optgroups);\n\t    self.setValue(settings.items);\n\t  });\n\t});\n\n\t/**\n\t * Plugin: \"restore_on_backspace\" (Tom Select)\n\t * Copyright (c) contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t */\n\tTomSelect.define('checkbox_options', function (options) {\n\t  var self = this;\n\t  var orig_onOptionSelect = self.onOptionSelect;\n\t  self.settings.hideSelected = false; // update the checkbox for an option\n\n\t  var UpdateCheckbox = function UpdateCheckbox(option) {\n\t    setTimeout(() => {\n\t      var checkbox = option.querySelector('input');\n\n\t      if (option.classList.contains('selected')) {\n\t        checkbox.checked = true;\n\t      } else {\n\t        checkbox.checked = false;\n\t      }\n\t    }, 1);\n\t  }; // add checkbox to option template\n\n\n\t  self.hook('after', 'setupTemplates', () => {\n\t    var orig_render_option = self.settings.render.option;\n\n\t    self.settings.render.option = function (data) {\n\t      var rendered = getDom(orig_render_option.apply(self, arguments));\n\t      var checkbox = document.createElement('input');\n\t      checkbox.addEventListener('click', function (evt) {\n\t        preventDefault(evt);\n\t      });\n\t      checkbox.type = 'checkbox';\n\t      var value = hash_key(data[self.settings.valueField]);\n\n\t      if (self.items.indexOf(value) > -1) {\n\t        checkbox.checked = true;\n\t      }\n\n\t      rendered.prepend(checkbox);\n\t      return rendered;\n\t    };\n\t  }); // uncheck when item removed\n\n\t  self.on('item_remove', value => {\n\t    var option = self.getOption(value);\n\n\t    if (option) {\n\t      // if dropdown hasn't been opened yet, the option won't exist\n\t      option.classList.remove('selected'); // selected class won't be removed yet\n\n\t      UpdateCheckbox(option);\n\t    }\n\t  }); // remove items when selected option is clicked\n\n\t  self.hook('instead', 'onOptionSelect', function (evt, option) {\n\t    if (option.classList.contains('selected')) {\n\t      option.classList.remove('selected');\n\t      self.removeItem(option.dataset.value);\n\t      self.refreshOptions();\n\t      preventDefault(evt, true);\n\t      return;\n\t    }\n\n\t    orig_onOptionSelect.apply(self, arguments);\n\t    UpdateCheckbox(option);\n\t  });\n\t});\n\n\t/**\n\t * Plugin: \"dropdown_header\" (Tom Select)\n\t * Copyright (c) contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t */\n\tTomSelect.define('clear_button', function (options) {\n\t  var self = this;\n\t  options = Object.assign({\n\t    className: 'clear-button',\n\t    title: 'Clear All',\n\t    html: data => {\n\t      return `<div class=\"${data.className}\" title=\"${data.title}\">&times;</div>`;\n\t    }\n\t  }, options);\n\t  self.hook('after', 'setup', () => {\n\t    var button = getDom(options.html(options));\n\t    button.addEventListener('click', evt => {\n\t      while (self.items.length > 0) {\n\t        self.removeItem(self.items[0], true);\n\t      }\n\n\t      self.updateOriginalInput();\n\t      evt.preventDefault();\n\t      evt.stopPropagation();\n\t    });\n\t    self.control.appendChild(button);\n\t  });\n\t});\n\n\t/**\n\t * Plugin: \"drag_drop\" (Tom Select)\n\t * Copyright (c) contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t */\n\tTomSelect.define('drag_drop', function (options) {\n\t  var self = this;\n\t  if (!$.fn.sortable) throw new Error('The \"drag_drop\" plugin requires jQuery UI \"sortable\".');\n\t  if (self.settings.mode !== 'multi') return;\n\t  var orig_lock = self.lock;\n\t  var orig_unlock = self.unlock;\n\t  self.hook('instead', 'lock', function () {\n\t    var sortable = self.control.dataset.sortable;\n\t    if (sortable) sortable.disable();\n\t    return orig_lock.apply(self, arguments);\n\t  });\n\t  self.hook('instead', 'unlock', function () {\n\t    var sortable = self.control.dataset.sortable;\n\t    if (sortable) sortable.enable();\n\t    return orig_unlock.apply(self, arguments);\n\t  });\n\t  self.hook('after', 'setup', () => {\n\t    var $control = $(self.control).sortable({\n\t      items: '[data-value]',\n\t      forcePlaceholderSize: true,\n\t      disabled: self.isLocked,\n\t      start: (e, ui) => {\n\t        ui.placeholder.css('width', ui.helper.css('width'));\n\t        $control.css({\n\t          overflow: 'visible'\n\t        });\n\t      },\n\t      stop: () => {\n\t        $control.css({\n\t          overflow: 'hidden'\n\t        });\n\t        var values = [];\n\t        $control.children('[data-value]').each(function () {\n\t          values.push($(this).attr('data-value'));\n\t        });\n\t        self.setValue(values);\n\t      }\n\t    });\n\t  });\n\t});\n\n\t/**\n\t * Plugin: \"dropdown_header\" (Tom Select)\n\t * Copyright (c) contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t */\n\tTomSelect.define('dropdown_header', function (options) {\n\t  var self = this;\n\t  options = Object.assign({\n\t    title: 'Untitled',\n\t    headerClass: 'dropdown-header',\n\t    titleRowClass: 'dropdown-header-title',\n\t    labelClass: 'dropdown-header-label',\n\t    closeClass: 'dropdown-header-close',\n\t    html: data => {\n\t      return '<div class=\"' + data.headerClass + '\">' + '<div class=\"' + data.titleRowClass + '\">' + '<span class=\"' + data.labelClass + '\">' + data.title + '</span>' + '<a class=\"' + data.closeClass + '\">&times;</a>' + '</div>' + '</div>';\n\t    }\n\t  }, options);\n\t  self.hook('after', 'setup', () => {\n\t    var header = getDom(options.html(options));\n\t    var close_link = header.querySelector('.' + options.closeClass);\n\n\t    if (close_link) {\n\t      close_link.addEventListener('click', evt => {\n\t        preventDefault(evt, true);\n\t        self.close();\n\t      });\n\t    }\n\n\t    self.dropdown.insertBefore(header, self.dropdown.firstChild);\n\t  });\n\t});\n\n\t/**\n\t * Plugin: \"dropdown_input\" (Tom Select)\n\t * Copyright (c) contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t */\n\tTomSelect.define('dropdown_input', function () {\n\t  var self = this;\n\t  var input = self.settings.controlInput || '<input type=\"text\" autocomplete=\"off\" class=\"dropdown-input\" />';\n\t  input = getDom(input);\n\n\t  if (self.settings.placeholder) {\n\t    setAttr(input, {\n\t      placeholder: self.settings.placeholder\n\t    });\n\t  }\n\n\t  self.settings.controlInput = input;\n\t  self.settings.shouldOpen = true; // make sure the input is shown even if there are no options to display in the dropdown\n\n\t  self.hook('after', 'setup', () => {\n\t    // set tabIndex on wrapper\n\t    setAttr(self.wrapper, {\n\t      tabindex: self.input.disabled ? '-1' : self.tabIndex\n\t    }); // keyboard navigation\n\n\t    addEvent(self.wrapper, 'keypress', evt => {\n\t      if (self.control.contains(evt.target)) {\n\t        return;\n\t      }\n\n\t      if (self.dropdown.contains(evt.target)) {\n\t        return;\n\t      } // open dropdown on enter when wrapper is tab-focused\n\n\n\t      switch (evt.keyCode) {\n\t        case KEY_RETURN:\n\t          self.onClick(evt);\n\t          return;\n\t      }\n\t    });\n\t    let div = getDom('<div class=\"dropdown-input-wrap\">');\n\t    div.appendChild(input);\n\t    self.dropdown.insertBefore(div, self.dropdown.firstChild);\n\t  });\n\t});\n\n\t/**\n\t * Plugin: \"input_autogrow\" (Tom Select)\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t */\n\tTomSelect.define('input_autogrow', function () {\n\t  var self = this;\n\t  self.hook('after', 'setup', () => {\n\t    var test_input = document.createElement('span');\n\t    var control = self.control_input;\n\t    test_input.style.cssText = 'position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ';\n\t    self.wrapper.appendChild(test_input);\n\t    var transfer_styles = ['letterSpacing', 'fontSize', 'fontFamily', 'fontWeight', 'textTransform'];\n\n\t    for (const style_name of transfer_styles) {\n\t      test_input.style[style_name] = control.style[style_name];\n\t    }\n\t    /**\n\t     * Set the control width\n\t     *\n\t     */\n\n\n\t    var resize = () => {\n\t      if (self.items.length > 0) {\n\t        test_input.textContent = control.value;\n\t        control.style.width = test_input.clientWidth + 'px';\n\t      } else {\n\t        control.style.width = '';\n\t      }\n\t    };\n\n\t    resize();\n\t    self.on('update item_add item_remove', resize);\n\t    addEvent(control, 'input', resize);\n\t    addEvent(control, 'keyup', resize);\n\t    addEvent(control, 'blur', resize);\n\t    addEvent(control, 'update', resize);\n\t  });\n\t});\n\n\t/**\n\t * Plugin: \"input_autogrow\" (Tom Select)\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t */\n\tTomSelect.define('no_backspace_delete', function () {\n\t  var self = this;\n\t  var orig_deleteSelection = self.deleteSelection;\n\t  this.hook('instead', 'deleteSelection', function () {\n\t    if (self.activeItems.length) {\n\t      return orig_deleteSelection.apply(self, arguments);\n\t    }\n\n\t    return false;\n\t  });\n\t});\n\n\t/**\n\t * Plugin: \"input_autogrow\" (Tom Select)\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t */\n\tTomSelect.define('no_active_items', function (options) {\n\t  this.hook('instead', 'setActiveItem', () => {});\n\t  this.hook('instead', 'selectAll', () => {});\n\t});\n\n\t/**\n\t * Plugin: \"optgroup_columns\" (Tom Select.js)\n\t * Copyright (c) contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t */\n\tTomSelect.define('optgroup_columns', function () {\n\t  var self = this;\n\t  var orig_keydown = self.onKeyDown;\n\t  self.hook('instead', 'onKeyDown', function (evt) {\n\t    var index, option, options, optgroup;\n\n\t    if (!self.isOpen || !(evt.keyCode === KEY_LEFT || evt.keyCode === KEY_RIGHT)) {\n\t      return orig_keydown.apply(self, arguments);\n\t    }\n\n\t    optgroup = parentMatch(self.activeOption, '[data-group]');\n\t    index = nodeIndex(self.activeOption, '[data-selectable]');\n\n\t    if (evt.keyCode === KEY_LEFT) {\n\t      optgroup = optgroup.previousSibling;\n\t    } else {\n\t      optgroup = optgroup.nextSibling;\n\t    }\n\n\t    if (!optgroup) {\n\t      return;\n\t    }\n\n\t    options = optgroup.querySelectorAll('[data-selectable]');\n\t    option = options[Math.min(options.length - 1, index)];\n\n\t    if (option) {\n\t      self.setActiveOption(option);\n\t    }\n\t  });\n\t});\n\n\t/**\n\t * Plugin: \"remove_button\" (Tom Select)\n\t * Copyright (c) contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t */\n\tTomSelect.define('remove_button', function (options) {\n\t  options = Object.assign({\n\t    label: '&times;',\n\t    title: 'Remove',\n\t    className: 'remove',\n\t    append: true\n\t  }, options); //options.className = 'remove-single';\n\n\t  var self = this; // override the render method to add remove button to each item\n\n\t  if (!options.append) {\n\t    return;\n\t  }\n\n\t  var html = '<a href=\"javascript:void(0)\" class=\"' + options.className + '\" tabindex=\"-1\" title=\"' + escape_html(options.title) + '\">' + options.label + '</a>';\n\t  self.hook('after', 'setupTemplates', () => {\n\t    var orig_render_item = self.settings.render.item;\n\n\t    self.settings.render.item = function () {\n\t      var rendered = getDom(orig_render_item.apply(self, arguments));\n\t      var close_button = getDom(html);\n\t      rendered.appendChild(close_button);\n\t      addEvent(close_button, 'mousedown', evt => {\n\t        preventDefault(evt, true);\n\t      });\n\t      addEvent(close_button, 'click', evt => {\n\t        // propagating will trigger the dropdown to show for single mode\n\t        preventDefault(evt, true);\n\t        if (self.isLocked) return;\n\t        var value = rendered.dataset.value;\n\t        self.removeItem(value);\n\t        self.refreshOptions(false);\n\t      });\n\t      return rendered;\n\t    };\n\t  });\n\t});\n\n\t/**\n\t * Plugin: \"restore_on_backspace\" (Tom Select)\n\t * Copyright (c) contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t */\n\tTomSelect.define('restore_on_backspace', function (options) {\n\t  var self = this;\n\n\t  options.text = options.text || function (option) {\n\t    return option[self.settings.labelField];\n\t  };\n\n\t  self.on('item_remove', function (value) {\n\t    if (self.control_input.value.trim() === '') {\n\t      var option = self.options[value];\n\n\t      if (option) {\n\t        self.setTextboxValue(options.text.call(self, option));\n\t      }\n\t    }\n\t  });\n\t});\n\n\t/**\n\t * Plugin: \"restore_on_backspace\" (Tom Select)\n\t * Copyright (c) contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t */\n\tTomSelect.define('virtual_scroll', function (options) {\n\t  const self = this;\n\t  const orig_canLoad = self.canLoad;\n\t  const orig_clearActiveOption = self.clearActiveOption;\n\t  const orig_loadCallback = self.loadCallback;\n\t  var pagination = {};\n\t  var dropdown_content;\n\t  var loading_more = false;\n\n\t  if (!self.settings.firstUrl) {\n\t    throw 'virtual_scroll plugin requires a firstUrl() method';\n\t  } // in order for virtual scrolling to work,\n\t  // options need to be ordered the same way they're returned from the remote data source\n\n\n\t  self.settings.sortField = [{\n\t    field: '$order'\n\t  }, {\n\t    field: '$score'\n\t  }]; // can we load more results for given query?\n\n\t  function canLoadMore(query) {\n\t    if (typeof self.settings.maxOptions === 'number' && dropdown_content.children.length >= self.settings.maxOptions) {\n\t      return;\n\t    }\n\n\t    if (query in pagination && pagination[query]) {\n\t      return true;\n\t    }\n\n\t    return false;\n\t  } // set the next url that will be\n\n\n\t  self.setNextUrl = function (value, next_url) {\n\t    pagination[value] = next_url;\n\t  }; // getUrl() to be used in settings.load()\n\n\n\t  self.getUrl = function (query) {\n\t    if (query in pagination) {\n\t      const next_url = pagination[query];\n\t      pagination[query] = false;\n\t      return next_url;\n\t    } // if the user goes back to a previous query\n\t    // we need to load the first page again\n\n\n\t    pagination = {};\n\t    return self.settings.firstUrl(query);\n\t  }; // don't clear the active option (and cause unwanted dropdown scroll)\n\t  // while loading more results\n\n\n\t  self.hook('instead', 'clearActiveOption', () => {\n\t    if (loading_more) {\n\t      return;\n\t    }\n\n\t    return orig_clearActiveOption.call(self);\n\t  }); // override the canLoad method\n\n\t  self.hook('instead', 'canLoad', query => {\n\t    // first time the query has been seen\n\t    if (!(query in pagination)) {\n\t      return orig_canLoad.call(this, query);\n\t    }\n\n\t    return canLoadMore(query);\n\t  }); // wrap the load\n\n\t  self.hook('instead', 'loadCallback', (value, options, optgroups) => {\n\t    if (!loading_more) {\n\t      self.clearOptions();\n\t    }\n\n\t    orig_loadCallback.call(self, value, options, optgroups);\n\t    loading_more = false;\n\t  }); // add templates to dropdown\n\t  //\tloading_more if we have another url in the queue\n\t  //\tno_more_results if we don't have another url in the queue\n\n\t  self.hook('after', 'refreshOptions', () => {\n\t    const query = self.lastValue;\n\t    var option;\n\n\t    if (canLoadMore(query)) {\n\t      option = self.render('loading_more', {\n\t        query: query\n\t      });\n\t      if (option) option.setAttribute('data-selectable', ''); // so that navigating dropdown with [down] keypresses can navigate to this node\n\t    } else if (query in pagination && !dropdown_content.querySelector('.no-results')) {\n\t      option = self.render('no_more_results', {\n\t        query: query\n\t      });\n\t    }\n\n\t    if (option) {\n\t      addClasses(option, self.settings.optionClass);\n\t      dropdown_content.append(option);\n\t    }\n\t  }); // add scroll listener and default templates\n\n\t  self.hook('after', 'setup', () => {\n\t    dropdown_content = self.dropdown_content; // default templates\n\n\t    self.settings.render = Object.assign({}, {\n\t      loading_more: function (data, escape) {\n\t        return `<div class=\"loading-more-results\">Loading more results ... </div>`;\n\t      },\n\t      no_more_results: function (data, escape) {\n\t        return `<div class=\"no-more-results\">No more results</div>`;\n\t      }\n\t    }, self.settings.render); // watch dropdown content scroll position\n\n\t    dropdown_content.addEventListener('scroll', function () {\n\t      const scroll_percent = dropdown_content.clientHeight / (dropdown_content.scrollHeight - dropdown_content.scrollTop);\n\n\t      if (scroll_percent < 0.95) {\n\t        return;\n\t      } // !important: this will get checked again in load() but we still need to check here otherwise loading_more will be set to true\n\n\n\t      if (!canLoadMore(self.lastValue)) {\n\t        return;\n\t      } // don't call load() too much\n\n\n\t      if (loading_more) return;\n\t      loading_more = true;\n\t      self.load.call(self, self.lastValue);\n\t    });\n\t  });\n\t});\n\n\treturn TomSelect;\n\n})));\nvar tomSelect=function(el,opts){return new TomSelect(el,opts);} \n//# sourceMappingURL=tom-select.complete.js.map\n","module.exports = __WEBPACK_EXTERNAL_MODULE__254__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"\";","export default __webpack_public_path__ + \"envision-icons.svg\";","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT https://github.com/sitevision/envision/blob/master/LICENSE\n * --------------------------------------------------------------------------\n */\n\nconst Util = (() => {\n   const Util = {\n      getSelectorFromElement(element) {\n         let selector = element.getAttribute('data-target');\n         if (!selector || selector === '#') {\n            selector = element.getAttribute('href') || '';\n         }\n         try {\n            return document.querySelectorAll(selector).length > 0\n               ? selector\n               : null;\n         } catch (error) {\n            return null;\n         }\n      },\n\n      isPlainObject(obj) {\n         if (typeof obj == 'object' && obj !== null) {\n            const proto = Object.getPrototypeOf(obj);\n            return proto === Object.prototype || proto === null;\n         }\n         return false;\n      },\n\n      normalizeOptions(options, defaults) {\n         // Delete all options not available in defaults,\n         // always return an object.\n         options = this.isPlainObject(options) ? options : {};\n\n         if (!this.isPlainObject(defaults)) {\n            console.error('defaults is not an object');\n            return options;\n         }\n\n         for (let key in options) {\n            if (!Object.prototype.hasOwnProperty.call(defaults, key)) {\n               delete options[key];\n            }\n         }\n         return options;\n      },\n   };\n\n   return Util;\n})();\n\nexport default Util;\n","export const getNodes = function (elements) {\n   const nodes = [];\n   if (typeof elements === 'string') {\n      let domNodes = document.querySelectorAll(elements);\n      if (domNodes && domNodes.length > 0) {\n         // NodeList\n         for (let i = 0; i < domNodes.length; i++) {\n            nodes.push(domNodes[i]);\n         }\n      }\n   } else if (typeof elements === 'object') {\n      if (elements.nodeType === 1) {\n         // Single element\n         nodes.push(elements);\n      } else if (elements.length > 0) {\n         // NodeList\n         for (let i = 0; i < elements.length; i++) {\n            nodes.push(elements[i]);\n         }\n      }\n   }\n   return nodes;\n};\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT https://github.com/sitevision/envision/blob/master/LICENSE\n * --------------------------------------------------------------------------\n */\n\nimport TomSelect from 'tom-select';\nimport Util from './util/util';\nimport { getNodes } from './util/nodes';\n\nconst lang = {\n   sv: {\n      add: 'Lägg till',\n      remove_button: 'Ta bort val',\n      clear_button: 'Ta bort alla val',\n      no_results: 'Inga alternativ matchar',\n   },\n   en: {\n      add: 'Add',\n      remove_button: 'Remove',\n      clear_button: 'Clear all',\n      no_results: 'No results found',\n   },\n};\n\nconst defaults = {\n   staticConfig: {\n      wrapperClass: 'env-select',\n      inputClass: 'env-select__input',\n      dropdownClass: 'env-select__dropdown',\n      dropdownContentClass: 'env-select__dropdown__content',\n      itemClass: 'env-select__item',\n      optionClass: 'env-select__dropdown__option',\n      sortField: {\n         field: 'text',\n         direction: 'asc',\n      },\n      plugins: {\n         remove_button: {\n            title: `${lang.sv.remove_button}`,\n            className: 'env-select__item__remove',\n         },\n         clear_button: {\n            title: `${lang.sv.clear_button}`,\n            className: 'env-select__input__clear',\n         },\n      },\n      render: {\n         option_create: function (data, escape) {\n            return `<div class=\"create\">${\n               this.settings.i18n.add\n            } <strong>${escape(data.input)}</strong>&hellip;</div>`;\n         },\n         no_results: function () {\n            return `<div class=\"no-results\">${this.settings.i18n.no_results}</div>`;\n         },\n         loading: function () {\n            return (\n               '<div class=\"env-select__spinner env-spinner-bounce\">' +\n               '<div class=\"env-bounce1\"></div><div class=\"env-bounce2\"></div>' +\n               '<div class=\"env-bounce3\"></div></div>'\n            );\n         },\n      },\n   },\n   userConfig: {\n      valueField: 'value',\n      labelField: 'text',\n      searchField: ['text'],\n      maxItems: null,\n      options: null,\n      items: null,\n      create: false,\n      clearButton: true,\n      placeholder: null,\n      createFilter: function (input) {\n         input = input.toLowerCase();\n         return !(input in this.options);\n      },\n      preload: false,\n\n      load: null, // function() { ... }\n      onInitialize: null, // function() { ... }\n      onChange: null, // function(value) { ... }\n      onItemAdd: null, // function(value, $item) { ... }\n      onItemRemove: null, // function(value) { ... }\n      onClear: null, // function() { ... }\n      onOptionAdd: null, // function(value, data) { ... }\n      onOptionRemove: null, // function(value) { ... }\n      onOptionClear: null, // function() { ... }\n      onDropdownOpen: null, // function(dropdown) { ... }\n      onDropdownClose: null, // function(dropdown) { ... }\n      onType: null, // function(str) { ... }\n      onFocus: null, // function(str) { ... }\n      onBlur: null, // function(str) { ... },\n      onLoad: null, // function(options, optgroup) { ... },\n      i18n: 'sv',\n   },\n};\n\nconst SelectPlugin = function (el, settings) {\n   this.el = el;\n   this.settings = settings;\n\n   // Initialize\n   this.el.classList.remove('env-form-input');\n   let select = new TomSelect(this.el, this.settings);\n\n   // API\n   this.addOptions = select.addOption.bind(select);\n   this.load = select.load.bind(select);\n   this.getOption = select.getOption.bind(select);\n   this.updateOption = select.updateOption.bind(select);\n   this.removeOption = select.removeOption.bind(select);\n   this.getItem = select.getItem.bind(select);\n   this.addItem = select.addItem.bind(select);\n   this.refreshOptions = select.refreshOptions.bind(select);\n   this.getValue = select.getValue.bind(select);\n   this.setValue = select.setValue.bind(select);\n   this.destroy = function () {\n      select.destroy();\n      for (let key in this) {\n         if (Object.prototype.hasOwnProperty.call(this, key)) {\n            delete this[key];\n         }\n      }\n      select = null;\n   };\n\n   return this;\n};\n\nconst getSettings = (settings) => {\n   // Remove unwanted settings\n   settings = Util.normalizeOptions(settings, defaults.userConfig);\n\n   // Merge user settings with envision and user defaults\n   settings = Object.assign(\n      {},\n      defaults.staticConfig,\n      defaults.userConfig,\n      settings\n   );\n\n   if (!settings.clearButton) {\n      // Custom option clearButton will activate\n      // clear_button plugin. If set to false, remove\n      // plugin from settings\n      delete settings.plugins.clear_button;\n   }\n\n   // Must remove from settings to use HTML markup\n\n   if (!settings.items) {\n      delete settings.items;\n   }\n   if (!settings.placeholder) {\n      delete settings.placeholder;\n   }\n   if (!settings.options) {\n      delete settings.options;\n   }\n\n   // Handle language option\n   // May be set to string 'sv', 'en' - use lang variable\n   // or set to object with custom text.\n   if (\n      typeof settings.i18n === 'string' &&\n      Object.prototype.hasOwnProperty.call(lang, settings.i18n)\n   ) {\n      settings.i18n = Object.assign({}, lang[settings.i18n]);\n   } else if (Util.isPlainObject(settings.i18n)) {\n      settings.i18n = Object.assign({}, lang['sv'], settings.i18n);\n   } else {\n      settings.i18n = Object.assign({}, lang['sv']);\n   }\n\n   // Translate plugin texts\n   for (let name in settings.plugins) {\n      if (settings.plugins[name].title && settings.i18n[name]) {\n         settings.plugins[name].title = settings.i18n[name];\n      }\n   }\n\n   return settings;\n};\n\n// Plugin / extension for envision library\nexport default (elements, settings) => {\n   const nodes = getNodes(elements);\n   settings = getSettings(settings);\n\n   if (nodes.length > 0) {\n      const selects = nodes\n         .filter((node) => !node.classList.contains('tomselected'))\n         .map((node) => new SelectPlugin(node, settings));\n      return selects;\n   }\n};\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT https://github.com/sitevision/envision/blob/master/LICENSE\n * --------------------------------------------------------------------------\n */\n\nconst CssUtil = (() => {\n   const CssUtil = {\n      reflow(element) {\n         return element.offsetHeight;\n      },\n\n      isTouch() {\n         return window.matchMedia('(pointer: coarse)').matches;\n      },\n\n      getToggleSpeed(el, durationCustomProperty) {\n         let speed = 300,\n            duration;\n         if (el) {\n            duration = getComputedStyle(el).getPropertyValue(\n               durationCustomProperty\n            );\n         } else {\n            duration = getComputedStyle(\n               document.documentElement\n            ).getPropertyValue(durationCustomProperty);\n         }\n         if (duration && parseFloat(duration) > 0) {\n            if (duration.includes('ms')) {\n               speed = parseInt(duration, 10);\n            } else if (duration.includes('s')) {\n               speed = parseFloat(duration) * 1000;\n            }\n         }\n         return speed;\n      },\n   };\n\n   return CssUtil;\n})();\n\nexport default CssUtil;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT https://github.com/sitevision/envision/blob/master/LICENSE\n * --------------------------------------------------------------------------\n */\nimport $ from 'jquery';\nimport CssUtil from './util/css-util';\n\nconst ARIA_EXPANDED = 'aria-expanded';\nconst DURATION_CUSTOM_PROP = '--env-collapse-toggle-duration';\nconst MODIFIER_BASE = 'env-accordion--';\nconst NAME = 'envAccordion';\nconst SHOW = MODIFIER_BASE + 'show';\nconst PARENT = 'data-parent';\n\nclass Accordion {\n   constructor(element) {\n      this.el = element;\n      this.$el = $(element);\n      if (this.$el.hasClass(SHOW)) {\n         this.$el.removeClass(SHOW).show();\n      }\n      this.speed = CssUtil.getToggleSpeed(this.$el[0], DURATION_CUSTOM_PROP);\n   }\n\n   toggle() {\n      if (this.$el.attr(ARIA_EXPANDED) === 'true') {\n         this.hide();\n      } else {\n         this.show();\n      }\n   }\n\n   show() {\n      $(this.$el.attr(PARENT))\n         .find(`[${ARIA_EXPANDED}=\"true\"]`)\n         .each(\n            ((i, el) => {\n               this._hide($(el), this.speed);\n            }).bind(this)\n         );\n      this.$el.attr(ARIA_EXPANDED, true).stop().slideDown(this.speed);\n   }\n\n   hide() {\n      this._hide(this.$el, this.speed);\n   }\n\n   _hide($el, speed) {\n      $el.attr(ARIA_EXPANDED, false)\n         .stop()\n         .slideUp(speed, () => {\n            $el.removeClass(SHOW);\n         });\n   }\n\n   static _jQuery(config) {\n      return this.each(function () {\n         const data = new Accordion(this);\n\n         if (typeof config === 'string') {\n            if (data[config] === undefined) {\n               throw new Error(`No method named \"${config}\"`);\n            }\n            data[config]();\n            return;\n         }\n\n         data.toggle();\n      });\n   }\n}\n\nif (typeof document !== 'undefined') {\n   const NO_CONFLICT = $.fn[NAME];\n   $.fn[NAME] = Accordion._jQuery;\n   $.fn[NAME].Constructor = Accordion;\n   $.fn[NAME].noConflict = () => {\n      $.fn[NAME] = NO_CONFLICT;\n      return Accordion._jQuery;\n   };\n\n   $(document).on('click', '[data-env-accordion]', function (e) {\n      e.preventDefault();\n\n      const $this = $(this);\n      const target = $this.attr('href') || $this.attr('data-target');\n      const $target = $(target);\n\n      $target[NAME]();\n   });\n}\n\nexport default Accordion;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT https://github.com/sitevision/envision/blob/master/LICENSE\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery';\nimport CssUtil from './util/css-util';\n\nconst ARIA_EXPANDED = 'aria-expanded';\nconst MODIFIER_BASE = 'env-collapse--';\nconst DURATION_CUSTOM_PROP = '--env-collapse-toggle-duration';\nconst NAME = 'envCollapse';\nconst EXPANDED = MODIFIER_BASE + 'expanded';\nconst SHOW = MODIFIER_BASE + 'show';\n\nclass Collapse {\n   constructor(element) {\n      this.el = element;\n      this.$el = $(element);\n      this.$trigger = $(\n         `[data-env-collapse][href=\"#${element.id}\"], [data-env-collapse][data-target=\"#${element.id}\"]`\n      );\n      this.speed = CssUtil.getToggleSpeed(\n         this.$trigger[0],\n         DURATION_CUSTOM_PROP\n      );\n   }\n\n   toggle() {\n      if (this.$el.is(':animated')) {\n         return;\n      } else if (this.$el.hasClass(SHOW)) {\n         this.hide();\n      } else {\n         this.show();\n      }\n   }\n\n   show() {\n      if (this.$trigger.length) {\n         this.$trigger.addClass(EXPANDED).attr(ARIA_EXPANDED, true);\n      }\n      this.$el.stop().slideDown(this.speed).addClass(SHOW);\n   }\n\n   hide() {\n      if (this.$trigger.length) {\n         this.$trigger.removeClass(EXPANDED).attr(ARIA_EXPANDED, false);\n      }\n      this.$el.stop().slideUp(this.speed).removeClass(SHOW);\n   }\n\n   static _jQuery(config) {\n      return this.each(function () {\n         const data = new Collapse(this);\n\n         if (typeof config === 'string') {\n            if (data[config] === undefined) {\n               throw new Error(`No method named \"${config}\"`);\n            }\n            data[config]();\n            return;\n         }\n\n         data.toggle();\n      });\n   }\n}\n\nif (typeof document !== 'undefined') {\n   const NO_CONFLICT = $.fn[NAME];\n   $.fn[NAME] = Collapse._jQuery;\n   $.fn[NAME].Constructor = Collapse;\n   $.fn[NAME].noConflict = () => {\n      $.fn[NAME] = NO_CONFLICT;\n      return Collapse._jQuery;\n   };\n\n   $(document).on('click', '[data-env-collapse]', function (e) {\n      e.preventDefault();\n\n      const $this = $(this);\n      const target = $this.attr('href') || $this.attr('data-target');\n      const $target = $(target);\n\n      if ($target.is(':animated')) {\n         return;\n      }\n\n      $target[NAME]();\n   });\n}\n\nexport default Collapse;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT https://github.com/sitevision/envision/blob/master/LICENSE\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery';\n\nconst NAME = 'envDropdown';\nconst ENV_DROPDOWN_OPEN = 'env-is-open';\nconst TOGGLE_DROPDOWN = '[data-dropdown]';\nconst ENV_DROPDOWN = '.env-dropdown';\nconst ENV_CLICK_EVENT = 'click.env-dropdown';\nconst ENV_KEYDOWN_EVENT = 'keydown.env-dropdown';\nconst ENV_KEYUP_EVENT = 'keyup.env-dropdown';\nconst ENV_DROPDOWN_MENU = '.env-dropdown__menu';\nconst RIGHT_MOUSE_BUTTON = 2;\nconst KEYS = {\n   ESCAPE_KEY: 'Escape',\n   ARROWDOWN: 'ArrowDown',\n   ARROWUP: 'ArrowUp',\n   SPACE: 32,\n   TAB_KEY: 'Tab',\n};\nconst REGEXP_KEYDOWN = new RegExp(\n   `${KEYS.ARROWUP}|${KEYS.ARROWDOWN}|${KEYS.ESCAPE_KEY}`\n);\n\nclass Dropdown {\n   constructor(element) {\n      this.el = element;\n      this.$el = $(element);\n      this._id = this.el.id;\n   }\n\n   toggle() {\n      if (this.$el.hasClass(ENV_DROPDOWN_OPEN)) {\n         this.hide();\n      } else {\n         this.show();\n      }\n   }\n\n   show() {\n      this.$el.addClass(ENV_DROPDOWN_OPEN);\n\n      this.$el.find(TOGGLE_DROPDOWN).attr('aria-expanded', 'true');\n\n      this._bindEvents();\n   }\n\n   hide() {\n      this.$el.removeClass(ENV_DROPDOWN_OPEN);\n\n      this.$el.find(TOGGLE_DROPDOWN).attr('aria-expanded', 'false');\n\n      this._unbindEvents();\n   }\n\n   _bindEvents() {\n      const ENV_CLICK = `${ENV_CLICK_EVENT}-${this.el.id}`;\n      const ENV_KEYDOWN = `${ENV_KEYDOWN_EVENT}-${this.el.id}`;\n\n      $(document)\n         .off(ENV_CLICK)\n         .on(ENV_CLICK, (event) => {\n            if (!$(event.target).hasClass(ENV_DROPDOWN_MENU)) {\n               this.hide();\n            }\n         });\n\n      this.$el.off(ENV_KEYDOWN).one(ENV_KEYDOWN, (event) => {\n         if (event.key === KEYS.ESCAPE_KEY) {\n            this.hide();\n         }\n      });\n   }\n\n   _unbindEvents() {\n      $(document).off(`${ENV_CLICK_EVENT}-${this.el.id}`);\n      this.$el.off(`${ENV_KEYDOWN_EVENT}-${this.el.id}`);\n   }\n\n   static _jQuery(config) {\n      return this.each(function () {\n         const $this = $(this);\n         let data = $this.data('env.dropdown');\n\n         if (!data) {\n            data = new Dropdown(this);\n            $this.data('env.dropdown', data);\n         }\n\n         if (typeof config === 'string') {\n            const method = data[config];\n            if (method === undefined) {\n               throw new Error(`No method named \"${config}\"`);\n            }\n            method.call(data);\n            return;\n         }\n\n         data.toggle();\n      });\n   }\n}\n\nfunction selectMenuItem(event, $items) {\n   if (!$items.length) {\n      return;\n   }\n\n   let index = $items.index(event.target);\n\n   if (event.key === KEYS.ARROWUP && index > 0) {\n      index--;\n   }\n\n   if (event.key === KEYS.ARROWDOWN && index < $items.length - 1) {\n      index++;\n   }\n\n   index = index === -1 ? 0 : index;\n\n   $items[index].focus();\n}\n\nfunction clearMenus(event) {\n   if (event) {\n      if (\n         event.button === RIGHT_MOUSE_BUTTON ||\n         (event.type === 'keyup' && event.key !== KEYS.TAB_KEY)\n      ) {\n         return;\n      }\n   }\n\n   const $toggles = $(TOGGLE_DROPDOWN);\n\n   for (let i = 0, len = $toggles.length; i < len; i++) {\n      const data = $($toggles[i]).closest(ENV_DROPDOWN).data('env.dropdown');\n\n      if (!data) {\n         continue;\n      }\n      const dropdownMenu = data.$el.find(ENV_DROPDOWN_MENU)[0];\n\n      if (event) {\n         if (\n            event.originalEvent.path.includes(\n               document.documentElement.getElementsByClassName(\n                  'env-dropdown env-is-open'\n               )[0]\n            )\n         ) {\n            continue;\n         }\n\n         if (\n            event.type === 'keyup' &&\n            event.key === KEYS.TAB_KEY &&\n            dropdownMenu.contains(event.originalEvent.target)\n         ) {\n            continue;\n         }\n      }\n\n      data.hide();\n   }\n}\n\nfunction keydownHandler(event) {\n   if (!REGEXP_KEYDOWN.test(event.key)) {\n      return;\n   }\n\n   const isActive = $(this).closest(ENV_DROPDOWN).hasClass(ENV_DROPDOWN_OPEN);\n\n   if (!isActive && event.key === KEYS.ESCAPE_KEY) {\n      return;\n   }\n\n   event.preventDefault();\n   event.stopPropagation();\n\n   const getToggleButton = () =>\n      this.matches(TOGGLE_DROPDOWN)\n         ? this\n         : $(this).closest(ENV_DROPDOWN).find(TOGGLE_DROPDOWN)[0];\n\n   if (event.key === KEYS.ESCAPE_KEY) {\n      clearMenus();\n      getToggleButton().focus();\n\n      return;\n   }\n\n   if (\n      !isActive &&\n      (event.key === KEYS.ARROWUP || event.key === KEYS.ARROWDOWN)\n   ) {\n      getToggleButton().click();\n      return;\n   }\n\n   if (!isActive || event.which === KEYS.SPACE) {\n      clearMenus();\n\n      return;\n   }\n\n   const $dropdown = $(this).closest(ENV_DROPDOWN);\n\n   selectMenuItem(event, $dropdown.find('.env-dropdown__item'));\n}\n\nif (typeof document !== 'undefined') {\n   const NO_CONFLICT = $.fn[NAME];\n   $.fn[NAME] = Dropdown._jQuery;\n   $.fn[NAME].Constructor = Dropdown;\n   $.fn[NAME].noConflict = () => {\n      $.fn[NAME] = NO_CONFLICT;\n      return Dropdown._jQuery;\n   };\n\n   $(document).on('click', TOGGLE_DROPDOWN, function (e) {\n      e.preventDefault();\n\n      const $this = $(this);\n      const $target = $($this.data('target'));\n\n      $target[NAME]();\n   });\n\n   $(document).on(ENV_KEYDOWN_EVENT, TOGGLE_DROPDOWN, keydownHandler);\n\n   $(document).on(ENV_KEYDOWN_EVENT, ENV_DROPDOWN_MENU, keydownHandler);\n\n   $(document).on(ENV_KEYUP_EVENT, clearMenus);\n}\n\nexport default Dropdown;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT https://github.com/sitevision/envision/blob/master/LICENSE\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery';\nimport CssUtil from './util/css-util';\nimport Util from './util/util';\n\nconst DATA_KEY = 'env.image-slider';\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst NAME = 'envImageslider';\nconst DATA_API_KEY = '.data-api';\nconst ARROW_LEFT_KEYCODE = 37;\nconst ARROW_RIGHT_KEYCODE = 39;\nconst TOUCHEVENT_WAIT = 500;\nconst SLIDE_WIDTH_PX = 80;\n\nconst DEFAULTS = {\n   buttons: true,\n   imageSlider: false,\n   interval: 5000,\n   keyboard: true,\n   pause: 'hover',\n   slide: false,\n   swipe: true,\n   wrap: true,\n};\n\nconst SELECTORS = {\n   ACTIVE: '.env-image-slider__item--active',\n   ACTIVE_DOT: '.env-is-active',\n   ACTIVE_ITEM: '.env-image-slider__item--active.env-image-slider__item',\n   DATA_SLIDE: '[data-move], [data-move-to], [data-image-slider-touch]',\n   DATA_IMAGE_SLIDER: '[data-image-slider]',\n   INDICATORS: '.env-image-slider__indicators',\n   INNER: '.env-image-slider__inner',\n   NEXT_PREV: '.env-image-slider--next, .env-image-slider--prev',\n   ITEM: '.env-image-slider__item',\n   THUMBNAILS: '.env-image-slider__thumbnails',\n};\n\nconst ClassName = {\n   ACTIVE: 'env-image-slider__item--active',\n   ACTIVE_DOT: 'env-is-active',\n   IMAGESLIDER: 'env-image-slider',\n   LEFT: 'env-image-slider__item--left',\n   NEXT: 'env-image-slider__item--next',\n   PREV: 'env-image-slider__item--prev',\n   RIGHT: 'env-image-slider__item--right',\n   SLIDE: 'env-image-slider--slide',\n};\n\nconst Direction = {\n   LEFT: 'left',\n   NEXT: 'next',\n   PREV: 'prev',\n   RIGHT: 'right',\n};\n\nconst Events = {\n   CLICK_DATA_API: `click${EVENT_KEY}${DATA_API_KEY}`,\n   KEYDOWN: `keydown${EVENT_KEY}`,\n   LOAD_DATA_API: `load${EVENT_KEY}${DATA_API_KEY}`,\n   MOUSEENTER: `mouseenter${EVENT_KEY}`,\n   MOUSELEAVE: `mouseleave${EVENT_KEY}`,\n   SLID: `slid${EVENT_KEY}`,\n   SLIDE: `slide${EVENT_KEY}`,\n   TOUCHEND: `touchend${EVENT_KEY}`,\n   TOUCHMOVE: `touchmove${EVENT_KEY}`,\n   TOUCHSTART: `touchstart${EVENT_KEY}`,\n};\n\nclass Imageslider {\n   constructor(element, config) {\n      this.$el = $(element);\n      this.$images = this.$el.find(SELECTORS.ITEM);\n\n      this._isSliding = false;\n      this._isPaused = false;\n      this._interval = null;\n\n      this._activeElement = null;\n      this._indicatorsElement = this.$el.find(SELECTORS.INDICATORS)[0];\n      this._thumbnailElements = this.$el.find(SELECTORS.THUMBNAILS)[0];\n      this.config = $.extend({}, DEFAULTS, this.$el.data(), config);\n\n      if (this.$images.length > 1 && config.buttons) {\n         this._addSlideButtons();\n      }\n\n      this._bindEvents();\n   }\n\n   next() {\n      if (!this._isSliding) {\n         this._slide(Direction.NEXT);\n      }\n   }\n\n   prev() {\n      if (!this._isSliding) {\n         this._slide(Direction.PREV);\n      }\n   }\n\n   nextWhenVisible() {\n      if (!document.hidden) {\n         this.next();\n      }\n   }\n\n   pause(event) {\n      if (!event) {\n         this._isPaused = true;\n      }\n\n      clearInterval(this._interval);\n      this._interval = null;\n   }\n\n   cycle(event) {\n      if (!event) {\n         this._isPaused = false;\n      }\n\n      if (this._interval) {\n         clearInterval(this._interval);\n         this._interval = null;\n      }\n\n      if (this.config.interval && !this._isPaused) {\n         this._interval = setInterval(\n            (document.visibilityState ? this.nextWhenVisible : this.next).bind(\n               this\n            ),\n            this.config.interval\n         );\n      }\n   }\n\n   goTo(index) {\n      this._activeElement = this.$el.find(SELECTORS.ACTIVE_ITEM)[0];\n\n      const activeIndex = this._getItemIndex(this._activeElement);\n\n      if (index > this.$images.length - 1 || index < 0) {\n         return;\n      }\n\n      if (this._isSliding) {\n         return;\n      }\n\n      if (activeIndex === index) {\n         this.pause();\n         this.cycle();\n         return;\n      }\n\n      const direction = index > activeIndex ? Direction.NEXT : Direction.PREV;\n\n      this._slide(direction, this.$images[index]);\n      return;\n   }\n\n   startTouchSlide(event) {\n      this.touchstartx = event.originalEvent.touches[0].pageX;\n   }\n\n   moveTouchSlide(event) {\n      this.touchmovex = event.originalEvent.touches[0].pageX;\n\n      this.movex = -(this.touchstartx - this.touchmovex);\n\n      this.moved = false;\n      const activeItem = this.$el.find(SELECTORS.ACTIVE).children();\n      activeItem.css('transform', `translate3d(${this.movex}px, 0, 0)`);\n\n      if (this.movex > SLIDE_WIDTH_PX) {\n         this.prev();\n         this.moved = true;\n         setTimeout(() => {\n            activeItem.css('transform', 'translate3d(0, 0, 0)');\n         }, TOUCHEVENT_WAIT);\n      } else if (this.movex < -SLIDE_WIDTH_PX) {\n         this.next();\n         this.moved = true;\n         setTimeout(() => {\n            activeItem.css('transform', 'translate3d(0, 0, 0)');\n         }, TOUCHEVENT_WAIT);\n      }\n   }\n\n   endTouchSlide() {\n      if (!this.moved) {\n         this.$el\n            .find(SELECTORS.ACTIVE)\n            .children()\n            .css('transform', 'translate3d(0, 0, 0)');\n      }\n   }\n\n   dispose() {\n      this.$el.off(EVENT_KEY).removeData(DATA_KEY);\n\n      this.$el = null;\n      this.$images = null;\n      this._interval = null;\n      this._isPaused = null;\n      this._isSliding = null;\n      this._activeElement = null;\n      this._indicatorsElement = null;\n      this._thumbnailElements = null;\n   }\n\n   _addSlideButtons() {\n      const sliderId = this.$el[0].id;\n      const buttonHTML = `<button type='button' class='env-image-slider--prev' data-move='prev' data-target='#${sliderId}'>\n               <svg class='env-image-slider__previous-icon env-icon env-icon-small'>\n               <use xlink:href='/sitevision/envision-icons.svg#icon-arrow-left'></use>\n               </svg>\n               <span class='env-assistive-text'>Previous</span>\n            </button>\n            <button type='button' class='env-image-slider--next' data-move='next' data-target='#${sliderId}'>\n               <svg class='env-image-slider__next-icon env-icon env-icon-small'>\n               <use xlink:href='/sitevision/envision-icons.svg#icon-arrow-right'></use>\n               </svg>\n               <span class='env-assistive-text'>Next</span>\n            </button>`;\n      $(`#${sliderId}`).find(SELECTORS.INNER).append(buttonHTML);\n   }\n\n   _getItemByDirection(direction, activeElement) {\n      const isNextDirection = direction === Direction.NEXT;\n      const activeIndex = this._getItemIndex(activeElement);\n      const lastImageIndex = this.$images.length - 1;\n      const isGoingToWrap =\n         (!isNextDirection && activeIndex === 0) ||\n         (isNextDirection && activeIndex === lastImageIndex);\n\n      if (isGoingToWrap && !this.config.wrap) {\n         return activeElement;\n      }\n\n      const delta = isNextDirection ? 1 : -1;\n      const itemIndex = (activeIndex + delta) % this.$images.length;\n\n      return itemIndex === -1\n         ? this.$images[lastImageIndex]\n         : this.$images[itemIndex];\n   }\n\n   _bindEvents() {\n      if (this.config.keyboard) {\n         this.$el.on(Events.KEYDOWN, (event) => this._keydown(event));\n      }\n\n      if (\n         this.config.pause === 'hover' &&\n         this.config.imageSlider === 'cycle'\n      ) {\n         this.$el\n            .on(Events.MOUSEENTER, (event) => this.pause(event))\n            .on(Events.MOUSELEAVE, (event) => this.cycle(event));\n         if (CssUtil.isTouch()) {\n            this.$el.on(Events.TOUCHEND, () => {\n               this.pause();\n               if (this.touchTimeout) {\n                  clearTimeout(this.touchTimeout);\n               }\n               this.touchTimeout = setTimeout(\n                  (event) => this.cycle(event),\n                  TOUCHEVENT_WAIT,\n                  this.config.interval\n               );\n            });\n         }\n      }\n      if (this.config.swipe) {\n         this._bindTouchSlider();\n      }\n   }\n\n   _bindTouchSlider() {\n      const container = this.$el.find(SELECTORS.INNER);\n      container.on(Events.TOUCHSTART, (event) => {\n         this.startTouchSlide(event);\n      });\n\n      container.on(Events.TOUCHMOVE, (event) => {\n         this.moveTouchSlide(event);\n      });\n\n      container.on(Events.TOUCHEND, () => {\n         this.endTouchSlide(event);\n      });\n   }\n\n   _keydown(event) {\n      if (/input|textarea/i.test(event.target.tagName)) {\n         return;\n      }\n\n      switch (event.which) {\n         case ARROW_LEFT_KEYCODE:\n            event.preventDefault();\n            this.prev();\n            break;\n         case ARROW_RIGHT_KEYCODE:\n            event.preventDefault();\n            this.next();\n            break;\n         default:\n            return;\n      }\n   }\n\n   _getItemIndex(element) {\n      return this.$images.index(element);\n   }\n\n   _triggerSlideEvent(targetElement, eventDirectionName) {\n      const targetIndex = this._getItemIndex(targetElement);\n      const fromIndex = this._getItemIndex(\n         this.$el.find(SELECTORS.ACTIVE_ITEM)[0]\n      );\n      const slideEvent = $.Event(Events.SLIDE, {\n         targetElement,\n         direction: eventDirectionName,\n         from: fromIndex,\n         to: targetIndex,\n      });\n\n      this.$el.trigger(slideEvent);\n\n      return slideEvent;\n   }\n\n   _setActiveIndicatorElement(element) {\n      if (this._indicatorsElement) {\n         $(this._indicatorsElement)\n            .find(SELECTORS.ACTIVE_DOT)\n            .removeClass(ClassName.ACTIVE_DOT);\n\n         const nextIndicator = this._indicatorsElement.children[\n            this._getItemIndex(element)\n         ];\n\n         if (nextIndicator) {\n            $(nextIndicator).addClass(ClassName.ACTIVE_DOT);\n         }\n      } else if (this._thumbnailElements) {\n         $(this._thumbnailElements)\n            .find(SELECTORS.ACTIVE)\n            .removeClass(ClassName.ACTIVE);\n\n         const nextIndicator = this._thumbnailElements.children[\n            this._getItemIndex(element)\n         ].firstElementChild;\n\n         if (nextIndicator) {\n            $(nextIndicator).addClass(ClassName.ACTIVE);\n         }\n      }\n   }\n\n   _slide(direction, element) {\n      const activeElement = this.$el.find(SELECTORS.ACTIVE_ITEM)[0];\n      const activeElementIndex = this._getItemIndex(activeElement);\n      const nextElement =\n         element ||\n         (activeElement && this._getItemByDirection(direction, activeElement));\n      const nextElementIndex = this._getItemIndex(nextElement);\n\n      let directionalClassName;\n      let orderClassName;\n      let eventDirectionName;\n\n      if (direction === Direction.NEXT) {\n         directionalClassName = ClassName.LEFT;\n         orderClassName = ClassName.NEXT;\n         eventDirectionName = Direction.LEFT;\n      } else {\n         directionalClassName = ClassName.RIGHT;\n         orderClassName = ClassName.PREV;\n         eventDirectionName = Direction.RIGHT;\n      }\n\n      const $nextElement = $(nextElement);\n\n      if (nextElement && $nextElement.hasClass(ClassName.ACTIVE)) {\n         this._isSliding = false;\n         return;\n      }\n\n      const slideEvent = this._triggerSlideEvent(\n         nextElement,\n         eventDirectionName\n      );\n\n      if (slideEvent.isDefaultPrevented()) {\n         return;\n      }\n\n      if (!activeElement || !nextElement) {\n         return;\n      }\n\n      this._isSliding = true;\n\n      this._setActiveIndicatorElement(nextElement);\n\n      const slidEvent = $.Event(Events.SLID, {\n         relatedTarget: nextElement,\n         direction: eventDirectionName,\n         from: activeElementIndex,\n         to: nextElementIndex,\n      });\n\n      const $activeElement = $(activeElement);\n\n      if (this.$el.hasClass(ClassName.SLIDE)) {\n         $nextElement.addClass(orderClassName);\n\n         CssUtil.reflow(nextElement);\n\n         $activeElement.addClass(directionalClassName);\n         $nextElement.addClass(directionalClassName);\n\n         $activeElement.one('transitionend', () => {\n            $nextElement\n               .removeClass(`${directionalClassName} ${orderClassName}`)\n               .addClass(ClassName.ACTIVE);\n\n            $activeElement.removeClass(\n               `${ClassName.ACTIVE} ${orderClassName} ${directionalClassName}`\n            );\n\n            this._isSliding = false;\n\n            this.$el.trigger(slidEvent);\n         });\n      } else {\n         $activeElement.removeClass(ClassName.ACTIVE);\n         $nextElement.addClass(ClassName.ACTIVE);\n\n         this._isSliding = false;\n         this.$el.trigger(slideEvent);\n      }\n   }\n\n   static _jQueryInterface(config) {\n      return this.each(() => {\n         const $this = $(this);\n         let data = $this.data(DATA_KEY);\n\n         const _config = $.extend({}, DEFAULTS, $this.data());\n\n         if (typeof config === 'object') {\n            $.extend(_config, config);\n         }\n\n         const action = typeof config === 'string' ? config : _config.move;\n\n         if (!data) {\n            data = new Imageslider(this, _config);\n            $this.data(DATA_KEY, data);\n         }\n\n         if (typeof config === 'number') {\n            data.goTo(config);\n         } else if (typeof action === 'string') {\n            if (data[action] === undefined) {\n               throw new Error(`No method named \"${action}\"`);\n            }\n            data[action]();\n         } else if (_config.interval && _config.imageSlider === 'cycle') {\n            data.pause();\n            data.cycle();\n         }\n      });\n   }\n\n   static _dataApiClickHandler(event) {\n      // 'this' is current clicked element i.e. slide-right, slide-left or a indicator/thumbnail.\n      const selector = Util.getSelectorFromElement(this);\n\n      if (!selector) {\n         return;\n      }\n\n      const $target = $(selector).eq(0);\n\n      if (!$target.length || !$target.hasClass(ClassName.IMAGESLIDER)) {\n         return;\n      }\n\n      const config = $.extend({}, $target.data(), $(this).data());\n      const slideIndex = this.getAttribute('data-move-to');\n\n      if (slideIndex) {\n         config.interval = false;\n      }\n\n      Imageslider._jQueryInterface.call($target, config);\n\n      if (slideIndex) {\n         $target.data(DATA_KEY).goTo(slideIndex);\n      }\n\n      event.preventDefault();\n   }\n}\n\nif (typeof document !== 'undefined') {\n   $(document).on(\n      Events.CLICK_DATA_API,\n      SELECTORS.DATA_SLIDE,\n      Imageslider._dataApiClickHandler\n   );\n\n   $(window).on(Events.LOAD_DATA_API, () => {\n      const $imageSliders = $(SELECTORS.DATA_IMAGE_SLIDER);\n      $imageSliders.each((i, slider) => {\n         const $slider = $(slider);\n         Imageslider._jQueryInterface.call($slider, $slider.data());\n      });\n   });\n\n   const NO_CONFLICT = $.fn[NAME];\n   $.fn[NAME] = Imageslider._jQueryInterface;\n   $.fn[NAME].Constructor = Imageslider;\n   $.fn[NAME].noConflict = () => {\n      $.fn[NAME] = NO_CONFLICT;\n      return Imageslider._jQueryInterface;\n   };\n}\n\nexport default Imageslider;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT https://github.com/sitevision/envision/blob/master/LICENSE\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery';\n\nconst ANIMATION = 'env-animation-in-progress';\nconst BACKDROP = 'env-image-viewer__backdrop';\nconst BACKDROP_ANIMATION = 'env-image-viewer__backdrop--in';\nconst DATA_KEY = 'env.image-viewer';\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst NAME = 'envImageviewer';\nconst DATA_API_KEY = '.data-api';\nconst ESCAPE_KEY = 27;\nconst ARROW_LEFT_KEYCODE = 37;\nconst ARROW_RIGHT_KEYCODE = 39;\nconst TAB_KEY = 9;\nconst SPINNER_TEMPLATE = `<div class=\"env-spinner\">\n                                <div class=\"env-rect1\"></div>\n                                <div class=\"env-rect2\"></div>\n                                <div class=\"env-rect3\"></div>\n                                <div class=\"env-rect4\"></div>\n                                <div class=\"env-rect5\"></div>\n                             </div>`;\n\nconst SELECTORS = {\n   ACTIVE_DOT: '.env-is-active',\n   DATA_MOVE_TO: '[data-move-to]',\n   DATA_MOVE: '[data-move]',\n   DATA_IMAGE_VIEWER: '[data-image-viewer]',\n   IMAGES: '.env-image-viewer__images',\n   INDICATORS: '.env-image-viewer__indicators',\n   DATA_SLIDE_TO: '[data-slide-to]',\n   SPINNER: '.env-spinner',\n};\n\nconst ClassName = {\n   ACTIVE_DOT: 'env-is-active',\n   HIDDEN: 'env-image-viewer--hidden',\n   SPINNER_HIDE: 'env-spinner--hide',\n};\n\nconst Events = {\n   CLICK_DATA_API: `click${EVENT_KEY}${DATA_API_KEY}`,\n   TOUCHEND: `touchend${EVENT_KEY}`,\n   TOUCHMOVE: `touchmove${EVENT_KEY}`,\n   TOUCHSTART: `touchstart${EVENT_KEY}`,\n};\n\nclass Imageviewer {\n   constructor(element, $image) {\n      this.$el = $(element);\n      this.$images = this.$el.find(SELECTORS.IMAGES);\n      this._isShown = false;\n\n      this.config = $.extend({}, this.$el.data());\n      this.config.index = this.$images.index($image[0]);\n   }\n\n   next() {\n      this.show(this._getNextItemIndex());\n   }\n\n   prev() {\n      this.show(this._getPrevItemIndex());\n   }\n\n   show(index) {\n      this.config.index = Number(index);\n      const image = $(this.$images[index])[0];\n      const href = image.getAttribute('href');\n\n      if (this._isShown) {\n         $(SELECTORS.SPINNER).removeClass(ClassName.SPINNER_HIDE);\n         this.$btnContainer.addClass(ClassName.HIDDEN);\n\n         const $downloadingImage = this._loadImage(href);\n\n         this.$imgContainer.html($downloadingImage);\n         this._setActiveIndicatorElement();\n      } else {\n         this.$modal = $('<div/>', {\n            class: 'env-image-viewer__modal',\n         });\n\n         this.$btnContainer = $('<div/>', {\n            class: 'env-image-viewer__dialog',\n         });\n\n         this.$imgContainer = $('<div/>', {\n            class: 'env-image-viewer__modal-container',\n         });\n\n         this.$modal.append(this.$btnContainer);\n         this.$btnContainer.append(this.$imgContainer);\n         this.$modal.appendTo(document.body);\n\n         if (this.$images.length > 1) {\n            this.$btnContainer.append(this._getButtons());\n            this.$btnContainer.append(this._getIndicators());\n         }\n\n         this.$btnContainer.addClass(ClassName.HIDDEN);\n         const $downloadingImage = this._loadImage(href);\n\n         this.$imgContainer.html($downloadingImage);\n\n         this._isShown = true;\n\n         $('body').css('overflow', 'hidden');\n\n         this._bindContainerEvents();\n         this._bindEvents();\n         this._showBackdrop();\n\n         $(SPINNER_TEMPLATE).prependTo(this.$modal);\n      }\n   }\n\n   hide() {\n      const removeBackdropCallback = () => {\n         this.$backdrop.remove();\n         this.$modal.remove();\n         this.$btnContainer.remove();\n         this.$imgContainer.remove();\n         $('body').css('overflow', 'scroll');\n      };\n\n      this.$backdrop\n         .one('transitionend', removeBackdropCallback)\n         .removeClass(BACKDROP_ANIMATION);\n\n      this._isShown = false;\n   }\n\n   _loadImage(href) {\n      const $downloadingImage = $('<img>');\n      const $imageModal = $('.env-image-viewer__dialog');\n\n      $downloadingImage\n         .addClass('env-image-viewer__img')\n         .attr({\n            tabindex: '-1',\n            src: href,\n         })\n         .on('load', () => {\n            const imageHeight = $downloadingImage.height();\n            const imageWidth = $downloadingImage.width();\n            const windowHeight = window.innerHeight;\n            const heightModifier = 0.8;\n            const defaultWidth = 800;\n\n            if (imageWidth > defaultWidth) {\n               $imageModal.css({\n                  'max-width': '80%',\n               });\n            }\n\n            if (windowHeight < imageHeight) {\n               $downloadingImage.css({\n                  'max-height': windowHeight * heightModifier,\n               });\n            }\n\n            $(SELECTORS.SPINNER).addClass(ClassName.SPINNER_HIDE);\n            this.$btnContainer.removeClass(ClassName.HIDDEN);\n            this.$imgContainer.children().eq(0).trigger('focus');\n         });\n\n      return $downloadingImage;\n   }\n\n   _bindContainerEvents() {\n      this.$btnContainer.on(Events.CLICK_DATA_API, SELECTORS.DATA_MOVE, (e) => {\n         e.preventDefault();\n\n         if ($(e.currentTarget).data('move') === 'next') {\n            this.next();\n         } else {\n            this.prev();\n         }\n      });\n\n      this.$btnContainer.on(\n         Events.CLICK_DATA_API,\n         SELECTORS.DATA_MOVE_TO,\n         (e) => {\n            const viewerIndex = e.currentTarget.getAttribute('data-move-to');\n\n            if (viewerIndex) {\n               this.show(viewerIndex);\n            }\n         }\n      );\n   }\n\n   _getButtons() {\n      const buttonHTML = `<button type=\"button\" class=\"env-image-viewer--prev\" data-move=\"prev\">\n               <svg class=\"env-image-viewer__prev-icon env-icon env-icon-small\">\n               <use xlink:href=\"/sitevision/envision-icons.svg#icon-arrow-left\"></use>\n               </svg>\n               <span class=\"env-assistive-text\">Previous</span>\n            </button>\n            <button type=\"button\" class=\"env-image-viewer--next\" data-move=\"next\">\n               <svg class=\"env-image-viewer__next-icon env-icon env-icon-small\">\n               <use xlink:href=\"/sitevision/envision-icons.svg#icon-arrow-right\"></use>\n               </svg>\n               <span class=\"env-assistive-text\">Next</span>\n            </button>`;\n\n      return buttonHTML;\n   }\n\n   _getIndicators() {\n      const indicatorItems = this._getIndicatorItems();\n      return `<div class=\"env-image-viewer__indicators\">\n                  ${indicatorItems}\n               </div>`;\n   }\n\n   _getIndicatorItems() {\n      const activeElementIndex = this.config.index;\n      let items = '';\n\n      this.$images.each((index) => {\n         const isActive = index === activeElementIndex;\n         items += `<button type=\"button\" title=\"Move to image ${\n            index + 1\n         }\" data-move-to=\"${index}\" class=\"${\n            isActive ? 'env-is-active' : ''\n         }\"></button>`;\n      });\n\n      return items;\n   }\n\n   _showBackdrop() {\n      this.$backdrop = $('<div/>', {\n         class: BACKDROP,\n      });\n\n      this.$modal.on(Events.CLICK_DATA_API, (event) => {\n         if (this.$backdrop.hasClass(ANIMATION)) {\n            return;\n         }\n\n         if (event.target !== event.currentTarget) {\n            return;\n         }\n\n         if (!this._isShown) {\n            return;\n         }\n\n         this.hide();\n      });\n\n      this.$backdrop.appendTo(document.body);\n\n      this.$backdrop\n         .one('animationend', this._removeBackdropAnimation)\n         .addClass(`${BACKDROP_ANIMATION} ${ANIMATION}`);\n   }\n\n   _removeBackdropAnimation(e) {\n      $(e.currentTarget).removeClass(ANIMATION);\n   }\n\n   _bindEvents() {\n      const focusableElements = this.$modal.find('button');\n      const firstElement = focusableElements[0];\n      const lastElement = focusableElements[focusableElements.length - 1];\n\n      this.$modal.on('keydown', (event) =>\n         this._keydown(event, firstElement, lastElement)\n      );\n   }\n\n   _keydown(event, firstElement, lastElement) {\n      if (/input|textarea/i.test(event.target.tagName)) {\n         return;\n      }\n\n      switch (event.which) {\n         case ARROW_LEFT_KEYCODE:\n            event.preventDefault();\n            this.prev();\n            break;\n         case ARROW_RIGHT_KEYCODE:\n            event.preventDefault();\n            this.next();\n            break;\n         case ESCAPE_KEY:\n            event.preventDefault();\n            if (!this.$backdrop.hasClass(ANIMATION)) {\n               this.hide();\n            }\n            break;\n         case TAB_KEY:\n            if (event.target.tagName === 'IMG') {\n               event.preventDefault();\n               firstElement.focus();\n            } else if (event.shiftKey) {\n               if (event.target === firstElement) {\n                  event.preventDefault();\n                  lastElement.focus();\n               }\n            } else if (event.target === lastElement) {\n               event.preventDefault();\n               firstElement.focus();\n            }\n            break;\n         default:\n            return;\n      }\n   }\n\n   _getNextItemIndex() {\n      return this.config.index === this.$images.length - 1\n         ? 0\n         : this.config.index + 1;\n   }\n\n   _getPrevItemIndex() {\n      return this.config.index === 0\n         ? this.$images.length - 1\n         : this.config.index - 1;\n   }\n\n   _setActiveIndicatorElement() {\n      this._indicatorsElement = this.$btnContainer.find(\n         SELECTORS.INDICATORS\n      )[0];\n      if (this.$images.length > 0) {\n         this.$btnContainer\n            .find(SELECTORS.ACTIVE_DOT)\n            .removeClass(ClassName.ACTIVE_DOT);\n\n         const indicator = this.$btnContainer\n            .find(SELECTORS.INDICATORS)\n            .children()[this.config.index];\n\n         if (indicator) {\n            $(indicator).addClass(ClassName.ACTIVE_DOT);\n         }\n      }\n   }\n\n   static _jQuery($image) {\n      return this.each(() => {\n         const data = new Imageviewer(this, $image);\n         data.show(data.config.index);\n      });\n   }\n}\n\nif (typeof document !== 'undefined') {\n   $(document).on(\n      Events.CLICK_DATA_API,\n      SELECTORS.DATA_IMAGE_VIEWER,\n      function (e) {\n         e.preventDefault();\n         const $target = $(e.target);\n\n         if ($target.is('img')) {\n            $(this).envImageviewer($target.parent());\n         } else if ($target.is('a.env-image-viewer__images')) {\n            $(this).envImageviewer($target);\n         }\n      }\n   );\n\n   const NO_CONFLICT = $.fn[NAME];\n   $.fn[NAME] = Imageviewer._jQuery;\n   $.fn[NAME].Constructor = Imageviewer;\n   $.fn[NAME].noConflict = () => {\n      $.fn[NAME] = NO_CONFLICT;\n      return Imageviewer._jQuery;\n   };\n}\n\nexport default Imageviewer;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT https://github.com/sitevision/envision/blob/master/LICENSE\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery';\nimport CssUtil from './util/css-util';\n\nconst ANIMATION = 'env-animation-in-progress';\nconst BACKDROP = 'env-modal-dialog__backdrop';\nconst BACKDROP_ANIMATION = 'env-modal-dialog__backdrop--in';\nconst DATA_KEY = 'env.modal-dialog';\nconst DISMISS_SELECTOR = '[data-modal-dialog-dismiss]';\nconst ESCAPE_KEY = 27;\nconst FOCUSIN = 'focusin.env-modal-dialog';\nconst MODIFIER_BASE = 'env-modal-dialog--';\nconst ALERT_MODIFIER_BASE = 'env-modal-alert--';\nconst NAME = 'envDialog';\nconst SELECTORS = {\n   MODAL_DIALOG: '[data-modal-dialog]',\n   MODAL_ALERT: '[data-modal-alert]',\n};\nconst SHOW = 'show';\nconst TAB_KEY = 9;\n\nconst FOCUSABLE_ELEMENTS_SELECTOR =\n   'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex=\"0\"], [contenteditable]';\n\nconst EVENTS = {\n   HIDE: 'hide.env-modal-dialog',\n   HIDDEN: 'hidden.env-modal-dialog',\n   SHOW: 'show.env-modal-dialog',\n   SHOWN: 'shown.env-modal-dialog',\n};\n\nclass ModalDialog {\n   constructor(element) {\n      this.el = element;\n      this.$el = $(element);\n      this._isShown = false;\n   }\n\n   toggle() {\n      return this._isShown ? this.hide() : this.show();\n   }\n\n   show() {\n      if (this._isShown) {\n         return;\n      }\n\n      CssUtil.reflow(this.el); // Used to force reflow\n\n      const showEvent = $.Event(EVENTS.SHOW, {});\n\n      this.$el.trigger(showEvent);\n\n      const shownEvent = $.Event(EVENTS.SHOWN, {});\n\n      this.$el\n         .one('transitionend', () => {\n            this.$el.trigger(shownEvent);\n         })\n         .addClass(this._getModifierBase() + SHOW)\n         .removeAttr('aria-hidden')\n         .css('opacity', 1);\n\n      this._showBackdrop();\n\n      this._isShown = true;\n      this.$el.trigger('focus');\n\n      $('body').css('overflow', 'hidden');\n\n      this._bindEvents();\n   }\n\n   hide() {\n      if (!this._isShown) {\n         return;\n      }\n\n      const hideModalCallback = () => {\n         this.$el.removeClass(this._getModifierBase() + SHOW);\n         const hiddenEvent = $.Event(EVENTS.HIDDEN, {});\n         this.$el.trigger(hiddenEvent);\n      };\n\n      const removeBackdropCallback = () => {\n         this.$backdrop.remove();\n         $('body').css('overflow', '');\n      };\n\n      const hideEvent = $.Event(EVENTS.HIDE, {});\n\n      this.$el.trigger(hideEvent);\n\n      this.$el\n         .one('transitionend', hideModalCallback)\n         .attr('aria-hidden', 'true')\n         .css('opacity', 0)\n         .off('click', DISMISS_SELECTOR);\n\n      this.$backdrop\n         .one('transitionend', removeBackdropCallback)\n         .removeClass(BACKDROP_ANIMATION);\n\n      this._isShown = false;\n      this._unbindEvents();\n   }\n\n   _bindEvents() {\n      this.$el.on('click', DISMISS_SELECTOR, (event) => this.hide(event));\n\n      $(document)\n         .off(FOCUSIN)\n         .one(FOCUSIN, (event) => {\n            if (\n               document !== event.target &&\n               this.el !== event.target &&\n               !this.$el.has(event.target).length\n            ) {\n               this.$el.trigger('focus');\n            }\n         });\n\n      const focusableElements = this.$el.find(FOCUSABLE_ELEMENTS_SELECTOR);\n      const firstElement = focusableElements[0];\n      const lastElement = focusableElements[focusableElements.length - 1];\n\n      this.$el.on('keydown', (e) => {\n         if (e.which === TAB_KEY) {\n            if (e.shiftKey) {\n               if (e.target === firstElement) {\n                  e.preventDefault();\n                  lastElement.focus();\n               }\n            } else if (e.target === lastElement) {\n               e.preventDefault();\n               firstElement.focus();\n            }\n         }\n\n         if (e.which === ESCAPE_KEY) {\n            this.hide();\n         }\n      });\n   }\n\n   _getModifierBase() {\n      return this.$el.hasClass('env-modal-alert')\n         ? ALERT_MODIFIER_BASE\n         : MODIFIER_BASE;\n   }\n\n   _unbindEvents() {\n      this.$el.off('click keydown');\n      $(document).off(FOCUSIN);\n   }\n\n   _showBackdrop() {\n      this.$backdrop = $('<div/>', {\n         class: BACKDROP,\n      });\n\n      this.$el.on('mousedown', (event) => {\n         if (this.$backdrop.hasClass(ANIMATION)) {\n            return;\n         }\n\n         if (event.target !== event.currentTarget) {\n            return;\n         }\n\n         if (!this._isShown) {\n            return;\n         }\n\n         this.hide();\n      });\n\n      this.$backdrop.appendTo(document.body);\n\n      this.$backdrop\n         .one('animationend', this._removeBackdropAnimation)\n         .addClass(`${BACKDROP_ANIMATION} ${ANIMATION}`);\n   }\n\n   _removeBackdropAnimation(e) {\n      $(e.currentTarget).removeClass(ANIMATION);\n   }\n\n   static _jQuery(action) {\n      return this.each(() => {\n         const $this = $(this);\n         let data = $this.data(DATA_KEY);\n\n         if (!data) {\n            data = new ModalDialog(this);\n            $this.data(DATA_KEY, data);\n         }\n\n         if (typeof action === 'string') {\n            const method = data[action];\n            if (method === undefined) {\n               throw new Error(`No method named \"${action}\"`);\n            }\n            method.call(data);\n            return;\n         }\n\n         data.show();\n      });\n   }\n}\n\nif (typeof document !== 'undefined') {\n   const NO_CONFLICT = $.fn[NAME];\n   $.fn[NAME] = ModalDialog._jQuery;\n   $.fn[NAME].Constructor = ModalDialog;\n   $.fn[NAME].noConflict = () => {\n      $.fn[NAME] = NO_CONFLICT;\n      return ModalDialog._jQuery;\n   };\n\n   $(document).on(\n      'click',\n      SELECTORS.MODAL_ALERT + ',' + SELECTORS.MODAL_DIALOG,\n      function (e) {\n         e.preventDefault();\n\n         const $target = $($(this).data('target'));\n\n         $target[NAME]();\n      }\n   );\n}\n\nexport default ModalDialog;\n","/**!\n * @fileOverview Kickass library to create and place poppers near their reference elements.\n * @version 1.16.1\n * @license\n * Copyright (c) 2016 Federico Zivolo and contributors\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && typeof navigator !== 'undefined';\n\nvar timeoutDuration = function () {\n  var longerTimeoutBrowsers = ['Edge', 'Trident', 'Firefox'];\n  for (var i = 0; i < longerTimeoutBrowsers.length; i += 1) {\n    if (isBrowser && navigator.userAgent.indexOf(longerTimeoutBrowsers[i]) >= 0) {\n      return 1;\n    }\n  }\n  return 0;\n}();\n\nfunction microtaskDebounce(fn) {\n  var called = false;\n  return function () {\n    if (called) {\n      return;\n    }\n    called = true;\n    window.Promise.resolve().then(function () {\n      called = false;\n      fn();\n    });\n  };\n}\n\nfunction taskDebounce(fn) {\n  var scheduled = false;\n  return function () {\n    if (!scheduled) {\n      scheduled = true;\n      setTimeout(function () {\n        scheduled = false;\n        fn();\n      }, timeoutDuration);\n    }\n  };\n}\n\nvar supportsMicroTasks = isBrowser && window.Promise;\n\n/**\n* Create a debounced version of a method, that's asynchronously deferred\n* but called in the minimum time possible.\n*\n* @method\n* @memberof Popper.Utils\n* @argument {Function} fn\n* @returns {Function}\n*/\nvar debounce = supportsMicroTasks ? microtaskDebounce : taskDebounce;\n\n/**\n * Check if the given variable is a function\n * @method\n * @memberof Popper.Utils\n * @argument {Any} functionToCheck - variable to check\n * @returns {Boolean} answer to: is a function?\n */\nfunction isFunction(functionToCheck) {\n  var getType = {};\n  return functionToCheck && getType.toString.call(functionToCheck) === '[object Function]';\n}\n\n/**\n * Get CSS computed property of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Eement} element\n * @argument {String} property\n */\nfunction getStyleComputedProperty(element, property) {\n  if (element.nodeType !== 1) {\n    return [];\n  }\n  // NOTE: 1 DOM access here\n  var window = element.ownerDocument.defaultView;\n  var css = window.getComputedStyle(element, null);\n  return property ? css[property] : css;\n}\n\n/**\n * Returns the parentNode or the host of the element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} parent\n */\nfunction getParentNode(element) {\n  if (element.nodeName === 'HTML') {\n    return element;\n  }\n  return element.parentNode || element.host;\n}\n\n/**\n * Returns the scrolling parent of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} scroll parent\n */\nfunction getScrollParent(element) {\n  // Return body, `getScroll` will take care to get the correct `scrollTop` from it\n  if (!element) {\n    return document.body;\n  }\n\n  switch (element.nodeName) {\n    case 'HTML':\n    case 'BODY':\n      return element.ownerDocument.body;\n    case '#document':\n      return element.body;\n  }\n\n  // Firefox want us to check `-x` and `-y` variations as well\n\n  var _getStyleComputedProp = getStyleComputedProperty(element),\n      overflow = _getStyleComputedProp.overflow,\n      overflowX = _getStyleComputedProp.overflowX,\n      overflowY = _getStyleComputedProp.overflowY;\n\n  if (/(auto|scroll|overlay)/.test(overflow + overflowY + overflowX)) {\n    return element;\n  }\n\n  return getScrollParent(getParentNode(element));\n}\n\n/**\n * Returns the reference node of the reference object, or the reference object itself.\n * @method\n * @memberof Popper.Utils\n * @param {Element|Object} reference - the reference element (the popper will be relative to this)\n * @returns {Element} parent\n */\nfunction getReferenceNode(reference) {\n  return reference && reference.referenceNode ? reference.referenceNode : reference;\n}\n\nvar isIE11 = isBrowser && !!(window.MSInputMethodContext && document.documentMode);\nvar isIE10 = isBrowser && /MSIE 10/.test(navigator.userAgent);\n\n/**\n * Determines if the browser is Internet Explorer\n * @method\n * @memberof Popper.Utils\n * @param {Number} version to check\n * @returns {Boolean} isIE\n */\nfunction isIE(version) {\n  if (version === 11) {\n    return isIE11;\n  }\n  if (version === 10) {\n    return isIE10;\n  }\n  return isIE11 || isIE10;\n}\n\n/**\n * Returns the offset parent of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} offset parent\n */\nfunction getOffsetParent(element) {\n  if (!element) {\n    return document.documentElement;\n  }\n\n  var noOffsetParent = isIE(10) ? document.body : null;\n\n  // NOTE: 1 DOM access here\n  var offsetParent = element.offsetParent || null;\n  // Skip hidden elements which don't have an offsetParent\n  while (offsetParent === noOffsetParent && element.nextElementSibling) {\n    offsetParent = (element = element.nextElementSibling).offsetParent;\n  }\n\n  var nodeName = offsetParent && offsetParent.nodeName;\n\n  if (!nodeName || nodeName === 'BODY' || nodeName === 'HTML') {\n    return element ? element.ownerDocument.documentElement : document.documentElement;\n  }\n\n  // .offsetParent will return the closest TH, TD or TABLE in case\n  // no offsetParent is present, I hate this job...\n  if (['TH', 'TD', 'TABLE'].indexOf(offsetParent.nodeName) !== -1 && getStyleComputedProperty(offsetParent, 'position') === 'static') {\n    return getOffsetParent(offsetParent);\n  }\n\n  return offsetParent;\n}\n\nfunction isOffsetContainer(element) {\n  var nodeName = element.nodeName;\n\n  if (nodeName === 'BODY') {\n    return false;\n  }\n  return nodeName === 'HTML' || getOffsetParent(element.firstElementChild) === element;\n}\n\n/**\n * Finds the root node (document, shadowDOM root) of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} node\n * @returns {Element} root node\n */\nfunction getRoot(node) {\n  if (node.parentNode !== null) {\n    return getRoot(node.parentNode);\n  }\n\n  return node;\n}\n\n/**\n * Finds the offset parent common to the two provided nodes\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element1\n * @argument {Element} element2\n * @returns {Element} common offset parent\n */\nfunction findCommonOffsetParent(element1, element2) {\n  // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n  if (!element1 || !element1.nodeType || !element2 || !element2.nodeType) {\n    return document.documentElement;\n  }\n\n  // Here we make sure to give as \"start\" the element that comes first in the DOM\n  var order = element1.compareDocumentPosition(element2) & Node.DOCUMENT_POSITION_FOLLOWING;\n  var start = order ? element1 : element2;\n  var end = order ? element2 : element1;\n\n  // Get common ancestor container\n  var range = document.createRange();\n  range.setStart(start, 0);\n  range.setEnd(end, 0);\n  var commonAncestorContainer = range.commonAncestorContainer;\n\n  // Both nodes are inside #document\n\n  if (element1 !== commonAncestorContainer && element2 !== commonAncestorContainer || start.contains(end)) {\n    if (isOffsetContainer(commonAncestorContainer)) {\n      return commonAncestorContainer;\n    }\n\n    return getOffsetParent(commonAncestorContainer);\n  }\n\n  // one of the nodes is inside shadowDOM, find which one\n  var element1root = getRoot(element1);\n  if (element1root.host) {\n    return findCommonOffsetParent(element1root.host, element2);\n  } else {\n    return findCommonOffsetParent(element1, getRoot(element2).host);\n  }\n}\n\n/**\n * Gets the scroll value of the given element in the given side (top and left)\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @argument {String} side `top` or `left`\n * @returns {number} amount of scrolled pixels\n */\nfunction getScroll(element) {\n  var side = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'top';\n\n  var upperSide = side === 'top' ? 'scrollTop' : 'scrollLeft';\n  var nodeName = element.nodeName;\n\n  if (nodeName === 'BODY' || nodeName === 'HTML') {\n    var html = element.ownerDocument.documentElement;\n    var scrollingElement = element.ownerDocument.scrollingElement || html;\n    return scrollingElement[upperSide];\n  }\n\n  return element[upperSide];\n}\n\n/*\n * Sum or subtract the element scroll values (left and top) from a given rect object\n * @method\n * @memberof Popper.Utils\n * @param {Object} rect - Rect object you want to change\n * @param {HTMLElement} element - The element from the function reads the scroll values\n * @param {Boolean} subtract - set to true if you want to subtract the scroll values\n * @return {Object} rect - The modifier rect object\n */\nfunction includeScroll(rect, element) {\n  var subtract = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  var scrollTop = getScroll(element, 'top');\n  var scrollLeft = getScroll(element, 'left');\n  var modifier = subtract ? -1 : 1;\n  rect.top += scrollTop * modifier;\n  rect.bottom += scrollTop * modifier;\n  rect.left += scrollLeft * modifier;\n  rect.right += scrollLeft * modifier;\n  return rect;\n}\n\n/*\n * Helper to detect borders of a given element\n * @method\n * @memberof Popper.Utils\n * @param {CSSStyleDeclaration} styles\n * Result of `getStyleComputedProperty` on the given element\n * @param {String} axis - `x` or `y`\n * @return {number} borders - The borders size of the given axis\n */\n\nfunction getBordersSize(styles, axis) {\n  var sideA = axis === 'x' ? 'Left' : 'Top';\n  var sideB = sideA === 'Left' ? 'Right' : 'Bottom';\n\n  return parseFloat(styles['border' + sideA + 'Width']) + parseFloat(styles['border' + sideB + 'Width']);\n}\n\nfunction getSize(axis, body, html, computedStyle) {\n  return Math.max(body['offset' + axis], body['scroll' + axis], html['client' + axis], html['offset' + axis], html['scroll' + axis], isIE(10) ? parseInt(html['offset' + axis]) + parseInt(computedStyle['margin' + (axis === 'Height' ? 'Top' : 'Left')]) + parseInt(computedStyle['margin' + (axis === 'Height' ? 'Bottom' : 'Right')]) : 0);\n}\n\nfunction getWindowSizes(document) {\n  var body = document.body;\n  var html = document.documentElement;\n  var computedStyle = isIE(10) && getComputedStyle(html);\n\n  return {\n    height: getSize('Height', body, html, computedStyle),\n    width: getSize('Width', body, html, computedStyle)\n  };\n}\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\n\n\nvar defineProperty = function (obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n/**\n * Given element offsets, generate an output similar to getBoundingClientRect\n * @method\n * @memberof Popper.Utils\n * @argument {Object} offsets\n * @returns {Object} ClientRect like output\n */\nfunction getClientRect(offsets) {\n  return _extends({}, offsets, {\n    right: offsets.left + offsets.width,\n    bottom: offsets.top + offsets.height\n  });\n}\n\n/**\n * Get bounding client rect of given element\n * @method\n * @memberof Popper.Utils\n * @param {HTMLElement} element\n * @return {Object} client rect\n */\nfunction getBoundingClientRect(element) {\n  var rect = {};\n\n  // IE10 10 FIX: Please, don't ask, the element isn't\n  // considered in DOM in some circumstances...\n  // This isn't reproducible in IE10 compatibility mode of IE11\n  try {\n    if (isIE(10)) {\n      rect = element.getBoundingClientRect();\n      var scrollTop = getScroll(element, 'top');\n      var scrollLeft = getScroll(element, 'left');\n      rect.top += scrollTop;\n      rect.left += scrollLeft;\n      rect.bottom += scrollTop;\n      rect.right += scrollLeft;\n    } else {\n      rect = element.getBoundingClientRect();\n    }\n  } catch (e) {}\n\n  var result = {\n    left: rect.left,\n    top: rect.top,\n    width: rect.right - rect.left,\n    height: rect.bottom - rect.top\n  };\n\n  // subtract scrollbar size from sizes\n  var sizes = element.nodeName === 'HTML' ? getWindowSizes(element.ownerDocument) : {};\n  var width = sizes.width || element.clientWidth || result.width;\n  var height = sizes.height || element.clientHeight || result.height;\n\n  var horizScrollbar = element.offsetWidth - width;\n  var vertScrollbar = element.offsetHeight - height;\n\n  // if an hypothetical scrollbar is detected, we must be sure it's not a `border`\n  // we make this check conditional for performance reasons\n  if (horizScrollbar || vertScrollbar) {\n    var styles = getStyleComputedProperty(element);\n    horizScrollbar -= getBordersSize(styles, 'x');\n    vertScrollbar -= getBordersSize(styles, 'y');\n\n    result.width -= horizScrollbar;\n    result.height -= vertScrollbar;\n  }\n\n  return getClientRect(result);\n}\n\nfunction getOffsetRectRelativeToArbitraryNode(children, parent) {\n  var fixedPosition = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  var isIE10 = isIE(10);\n  var isHTML = parent.nodeName === 'HTML';\n  var childrenRect = getBoundingClientRect(children);\n  var parentRect = getBoundingClientRect(parent);\n  var scrollParent = getScrollParent(children);\n\n  var styles = getStyleComputedProperty(parent);\n  var borderTopWidth = parseFloat(styles.borderTopWidth);\n  var borderLeftWidth = parseFloat(styles.borderLeftWidth);\n\n  // In cases where the parent is fixed, we must ignore negative scroll in offset calc\n  if (fixedPosition && isHTML) {\n    parentRect.top = Math.max(parentRect.top, 0);\n    parentRect.left = Math.max(parentRect.left, 0);\n  }\n  var offsets = getClientRect({\n    top: childrenRect.top - parentRect.top - borderTopWidth,\n    left: childrenRect.left - parentRect.left - borderLeftWidth,\n    width: childrenRect.width,\n    height: childrenRect.height\n  });\n  offsets.marginTop = 0;\n  offsets.marginLeft = 0;\n\n  // Subtract margins of documentElement in case it's being used as parent\n  // we do this only on HTML because it's the only element that behaves\n  // differently when margins are applied to it. The margins are included in\n  // the box of the documentElement, in the other cases not.\n  if (!isIE10 && isHTML) {\n    var marginTop = parseFloat(styles.marginTop);\n    var marginLeft = parseFloat(styles.marginLeft);\n\n    offsets.top -= borderTopWidth - marginTop;\n    offsets.bottom -= borderTopWidth - marginTop;\n    offsets.left -= borderLeftWidth - marginLeft;\n    offsets.right -= borderLeftWidth - marginLeft;\n\n    // Attach marginTop and marginLeft because in some circumstances we may need them\n    offsets.marginTop = marginTop;\n    offsets.marginLeft = marginLeft;\n  }\n\n  if (isIE10 && !fixedPosition ? parent.contains(scrollParent) : parent === scrollParent && scrollParent.nodeName !== 'BODY') {\n    offsets = includeScroll(offsets, parent);\n  }\n\n  return offsets;\n}\n\nfunction getViewportOffsetRectRelativeToArtbitraryNode(element) {\n  var excludeScroll = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var html = element.ownerDocument.documentElement;\n  var relativeOffset = getOffsetRectRelativeToArbitraryNode(element, html);\n  var width = Math.max(html.clientWidth, window.innerWidth || 0);\n  var height = Math.max(html.clientHeight, window.innerHeight || 0);\n\n  var scrollTop = !excludeScroll ? getScroll(html) : 0;\n  var scrollLeft = !excludeScroll ? getScroll(html, 'left') : 0;\n\n  var offset = {\n    top: scrollTop - relativeOffset.top + relativeOffset.marginTop,\n    left: scrollLeft - relativeOffset.left + relativeOffset.marginLeft,\n    width: width,\n    height: height\n  };\n\n  return getClientRect(offset);\n}\n\n/**\n * Check if the given element is fixed or is inside a fixed parent\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @argument {Element} customContainer\n * @returns {Boolean} answer to \"isFixed?\"\n */\nfunction isFixed(element) {\n  var nodeName = element.nodeName;\n  if (nodeName === 'BODY' || nodeName === 'HTML') {\n    return false;\n  }\n  if (getStyleComputedProperty(element, 'position') === 'fixed') {\n    return true;\n  }\n  var parentNode = getParentNode(element);\n  if (!parentNode) {\n    return false;\n  }\n  return isFixed(parentNode);\n}\n\n/**\n * Finds the first parent of an element that has a transformed property defined\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} first transformed parent or documentElement\n */\n\nfunction getFixedPositionOffsetParent(element) {\n  // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n  if (!element || !element.parentElement || isIE()) {\n    return document.documentElement;\n  }\n  var el = element.parentElement;\n  while (el && getStyleComputedProperty(el, 'transform') === 'none') {\n    el = el.parentElement;\n  }\n  return el || document.documentElement;\n}\n\n/**\n * Computed the boundaries limits and return them\n * @method\n * @memberof Popper.Utils\n * @param {HTMLElement} popper\n * @param {HTMLElement} reference\n * @param {number} padding\n * @param {HTMLElement} boundariesElement - Element used to define the boundaries\n * @param {Boolean} fixedPosition - Is in fixed position mode\n * @returns {Object} Coordinates of the boundaries\n */\nfunction getBoundaries(popper, reference, padding, boundariesElement) {\n  var fixedPosition = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n  // NOTE: 1 DOM access here\n\n  var boundaries = { top: 0, left: 0 };\n  var offsetParent = fixedPosition ? getFixedPositionOffsetParent(popper) : findCommonOffsetParent(popper, getReferenceNode(reference));\n\n  // Handle viewport case\n  if (boundariesElement === 'viewport') {\n    boundaries = getViewportOffsetRectRelativeToArtbitraryNode(offsetParent, fixedPosition);\n  } else {\n    // Handle other cases based on DOM element used as boundaries\n    var boundariesNode = void 0;\n    if (boundariesElement === 'scrollParent') {\n      boundariesNode = getScrollParent(getParentNode(reference));\n      if (boundariesNode.nodeName === 'BODY') {\n        boundariesNode = popper.ownerDocument.documentElement;\n      }\n    } else if (boundariesElement === 'window') {\n      boundariesNode = popper.ownerDocument.documentElement;\n    } else {\n      boundariesNode = boundariesElement;\n    }\n\n    var offsets = getOffsetRectRelativeToArbitraryNode(boundariesNode, offsetParent, fixedPosition);\n\n    // In case of HTML, we need a different computation\n    if (boundariesNode.nodeName === 'HTML' && !isFixed(offsetParent)) {\n      var _getWindowSizes = getWindowSizes(popper.ownerDocument),\n          height = _getWindowSizes.height,\n          width = _getWindowSizes.width;\n\n      boundaries.top += offsets.top - offsets.marginTop;\n      boundaries.bottom = height + offsets.top;\n      boundaries.left += offsets.left - offsets.marginLeft;\n      boundaries.right = width + offsets.left;\n    } else {\n      // for all the other DOM elements, this one is good\n      boundaries = offsets;\n    }\n  }\n\n  // Add paddings\n  padding = padding || 0;\n  var isPaddingNumber = typeof padding === 'number';\n  boundaries.left += isPaddingNumber ? padding : padding.left || 0;\n  boundaries.top += isPaddingNumber ? padding : padding.top || 0;\n  boundaries.right -= isPaddingNumber ? padding : padding.right || 0;\n  boundaries.bottom -= isPaddingNumber ? padding : padding.bottom || 0;\n\n  return boundaries;\n}\n\nfunction getArea(_ref) {\n  var width = _ref.width,\n      height = _ref.height;\n\n  return width * height;\n}\n\n/**\n * Utility used to transform the `auto` placement to the placement with more\n * available space.\n * @method\n * @memberof Popper.Utils\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction computeAutoPlacement(placement, refRect, popper, reference, boundariesElement) {\n  var padding = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;\n\n  if (placement.indexOf('auto') === -1) {\n    return placement;\n  }\n\n  var boundaries = getBoundaries(popper, reference, padding, boundariesElement);\n\n  var rects = {\n    top: {\n      width: boundaries.width,\n      height: refRect.top - boundaries.top\n    },\n    right: {\n      width: boundaries.right - refRect.right,\n      height: boundaries.height\n    },\n    bottom: {\n      width: boundaries.width,\n      height: boundaries.bottom - refRect.bottom\n    },\n    left: {\n      width: refRect.left - boundaries.left,\n      height: boundaries.height\n    }\n  };\n\n  var sortedAreas = Object.keys(rects).map(function (key) {\n    return _extends({\n      key: key\n    }, rects[key], {\n      area: getArea(rects[key])\n    });\n  }).sort(function (a, b) {\n    return b.area - a.area;\n  });\n\n  var filteredAreas = sortedAreas.filter(function (_ref2) {\n    var width = _ref2.width,\n        height = _ref2.height;\n    return width >= popper.clientWidth && height >= popper.clientHeight;\n  });\n\n  var computedPlacement = filteredAreas.length > 0 ? filteredAreas[0].key : sortedAreas[0].key;\n\n  var variation = placement.split('-')[1];\n\n  return computedPlacement + (variation ? '-' + variation : '');\n}\n\n/**\n * Get offsets to the reference element\n * @method\n * @memberof Popper.Utils\n * @param {Object} state\n * @param {Element} popper - the popper element\n * @param {Element} reference - the reference element (the popper will be relative to this)\n * @param {Element} fixedPosition - is in fixed position mode\n * @returns {Object} An object containing the offsets which will be applied to the popper\n */\nfunction getReferenceOffsets(state, popper, reference) {\n  var fixedPosition = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n  var commonOffsetParent = fixedPosition ? getFixedPositionOffsetParent(popper) : findCommonOffsetParent(popper, getReferenceNode(reference));\n  return getOffsetRectRelativeToArbitraryNode(reference, commonOffsetParent, fixedPosition);\n}\n\n/**\n * Get the outer sizes of the given element (offset size + margins)\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Object} object containing width and height properties\n */\nfunction getOuterSizes(element) {\n  var window = element.ownerDocument.defaultView;\n  var styles = window.getComputedStyle(element);\n  var x = parseFloat(styles.marginTop || 0) + parseFloat(styles.marginBottom || 0);\n  var y = parseFloat(styles.marginLeft || 0) + parseFloat(styles.marginRight || 0);\n  var result = {\n    width: element.offsetWidth + y,\n    height: element.offsetHeight + x\n  };\n  return result;\n}\n\n/**\n * Get the opposite placement of the given one\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement\n * @returns {String} flipped placement\n */\nfunction getOppositePlacement(placement) {\n  var hash = { left: 'right', right: 'left', bottom: 'top', top: 'bottom' };\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}\n\n/**\n * Get offsets to the popper\n * @method\n * @memberof Popper.Utils\n * @param {Object} position - CSS position the Popper will get applied\n * @param {HTMLElement} popper - the popper element\n * @param {Object} referenceOffsets - the reference offsets (the popper will be relative to this)\n * @param {String} placement - one of the valid placement options\n * @returns {Object} popperOffsets - An object containing the offsets which will be applied to the popper\n */\nfunction getPopperOffsets(popper, referenceOffsets, placement) {\n  placement = placement.split('-')[0];\n\n  // Get popper node sizes\n  var popperRect = getOuterSizes(popper);\n\n  // Add position, width and height to our offsets object\n  var popperOffsets = {\n    width: popperRect.width,\n    height: popperRect.height\n  };\n\n  // depending by the popper placement we have to compute its offsets slightly differently\n  var isHoriz = ['right', 'left'].indexOf(placement) !== -1;\n  var mainSide = isHoriz ? 'top' : 'left';\n  var secondarySide = isHoriz ? 'left' : 'top';\n  var measurement = isHoriz ? 'height' : 'width';\n  var secondaryMeasurement = !isHoriz ? 'height' : 'width';\n\n  popperOffsets[mainSide] = referenceOffsets[mainSide] + referenceOffsets[measurement] / 2 - popperRect[measurement] / 2;\n  if (placement === secondarySide) {\n    popperOffsets[secondarySide] = referenceOffsets[secondarySide] - popperRect[secondaryMeasurement];\n  } else {\n    popperOffsets[secondarySide] = referenceOffsets[getOppositePlacement(secondarySide)];\n  }\n\n  return popperOffsets;\n}\n\n/**\n * Mimics the `find` method of Array\n * @method\n * @memberof Popper.Utils\n * @argument {Array} arr\n * @argument prop\n * @argument value\n * @returns index or -1\n */\nfunction find(arr, check) {\n  // use native find if supported\n  if (Array.prototype.find) {\n    return arr.find(check);\n  }\n\n  // use `filter` to obtain the same behavior of `find`\n  return arr.filter(check)[0];\n}\n\n/**\n * Return the index of the matching object\n * @method\n * @memberof Popper.Utils\n * @argument {Array} arr\n * @argument prop\n * @argument value\n * @returns index or -1\n */\nfunction findIndex(arr, prop, value) {\n  // use native findIndex if supported\n  if (Array.prototype.findIndex) {\n    return arr.findIndex(function (cur) {\n      return cur[prop] === value;\n    });\n  }\n\n  // use `find` + `indexOf` if `findIndex` isn't supported\n  var match = find(arr, function (obj) {\n    return obj[prop] === value;\n  });\n  return arr.indexOf(match);\n}\n\n/**\n * Loop trough the list of modifiers and run them in order,\n * each of them will then edit the data object.\n * @method\n * @memberof Popper.Utils\n * @param {dataObject} data\n * @param {Array} modifiers\n * @param {String} ends - Optional modifier name used as stopper\n * @returns {dataObject}\n */\nfunction runModifiers(modifiers, data, ends) {\n  var modifiersToRun = ends === undefined ? modifiers : modifiers.slice(0, findIndex(modifiers, 'name', ends));\n\n  modifiersToRun.forEach(function (modifier) {\n    if (modifier['function']) {\n      // eslint-disable-line dot-notation\n      console.warn('`modifier.function` is deprecated, use `modifier.fn`!');\n    }\n    var fn = modifier['function'] || modifier.fn; // eslint-disable-line dot-notation\n    if (modifier.enabled && isFunction(fn)) {\n      // Add properties to offsets to make them a complete clientRect object\n      // we do this before each modifier to make sure the previous one doesn't\n      // mess with these values\n      data.offsets.popper = getClientRect(data.offsets.popper);\n      data.offsets.reference = getClientRect(data.offsets.reference);\n\n      data = fn(data, modifier);\n    }\n  });\n\n  return data;\n}\n\n/**\n * Updates the position of the popper, computing the new offsets and applying\n * the new style.<br />\n * Prefer `scheduleUpdate` over `update` because of performance reasons.\n * @method\n * @memberof Popper\n */\nfunction update() {\n  // if popper is destroyed, don't perform any further update\n  if (this.state.isDestroyed) {\n    return;\n  }\n\n  var data = {\n    instance: this,\n    styles: {},\n    arrowStyles: {},\n    attributes: {},\n    flipped: false,\n    offsets: {}\n  };\n\n  // compute reference element offsets\n  data.offsets.reference = getReferenceOffsets(this.state, this.popper, this.reference, this.options.positionFixed);\n\n  // compute auto placement, store placement inside the data object,\n  // modifiers will be able to edit `placement` if needed\n  // and refer to originalPlacement to know the original value\n  data.placement = computeAutoPlacement(this.options.placement, data.offsets.reference, this.popper, this.reference, this.options.modifiers.flip.boundariesElement, this.options.modifiers.flip.padding);\n\n  // store the computed placement inside `originalPlacement`\n  data.originalPlacement = data.placement;\n\n  data.positionFixed = this.options.positionFixed;\n\n  // compute the popper offsets\n  data.offsets.popper = getPopperOffsets(this.popper, data.offsets.reference, data.placement);\n\n  data.offsets.popper.position = this.options.positionFixed ? 'fixed' : 'absolute';\n\n  // run the modifiers\n  data = runModifiers(this.modifiers, data);\n\n  // the first `update` will call `onCreate` callback\n  // the other ones will call `onUpdate` callback\n  if (!this.state.isCreated) {\n    this.state.isCreated = true;\n    this.options.onCreate(data);\n  } else {\n    this.options.onUpdate(data);\n  }\n}\n\n/**\n * Helper used to know if the given modifier is enabled.\n * @method\n * @memberof Popper.Utils\n * @returns {Boolean}\n */\nfunction isModifierEnabled(modifiers, modifierName) {\n  return modifiers.some(function (_ref) {\n    var name = _ref.name,\n        enabled = _ref.enabled;\n    return enabled && name === modifierName;\n  });\n}\n\n/**\n * Get the prefixed supported property name\n * @method\n * @memberof Popper.Utils\n * @argument {String} property (camelCase)\n * @returns {String} prefixed property (camelCase or PascalCase, depending on the vendor prefix)\n */\nfunction getSupportedPropertyName(property) {\n  var prefixes = [false, 'ms', 'Webkit', 'Moz', 'O'];\n  var upperProp = property.charAt(0).toUpperCase() + property.slice(1);\n\n  for (var i = 0; i < prefixes.length; i++) {\n    var prefix = prefixes[i];\n    var toCheck = prefix ? '' + prefix + upperProp : property;\n    if (typeof document.body.style[toCheck] !== 'undefined') {\n      return toCheck;\n    }\n  }\n  return null;\n}\n\n/**\n * Destroys the popper.\n * @method\n * @memberof Popper\n */\nfunction destroy() {\n  this.state.isDestroyed = true;\n\n  // touch DOM only if `applyStyle` modifier is enabled\n  if (isModifierEnabled(this.modifiers, 'applyStyle')) {\n    this.popper.removeAttribute('x-placement');\n    this.popper.style.position = '';\n    this.popper.style.top = '';\n    this.popper.style.left = '';\n    this.popper.style.right = '';\n    this.popper.style.bottom = '';\n    this.popper.style.willChange = '';\n    this.popper.style[getSupportedPropertyName('transform')] = '';\n  }\n\n  this.disableEventListeners();\n\n  // remove the popper if user explicitly asked for the deletion on destroy\n  // do not use `remove` because IE11 doesn't support it\n  if (this.options.removeOnDestroy) {\n    this.popper.parentNode.removeChild(this.popper);\n  }\n  return this;\n}\n\n/**\n * Get the window associated with the element\n * @argument {Element} element\n * @returns {Window}\n */\nfunction getWindow(element) {\n  var ownerDocument = element.ownerDocument;\n  return ownerDocument ? ownerDocument.defaultView : window;\n}\n\nfunction attachToScrollParents(scrollParent, event, callback, scrollParents) {\n  var isBody = scrollParent.nodeName === 'BODY';\n  var target = isBody ? scrollParent.ownerDocument.defaultView : scrollParent;\n  target.addEventListener(event, callback, { passive: true });\n\n  if (!isBody) {\n    attachToScrollParents(getScrollParent(target.parentNode), event, callback, scrollParents);\n  }\n  scrollParents.push(target);\n}\n\n/**\n * Setup needed event listeners used to update the popper position\n * @method\n * @memberof Popper.Utils\n * @private\n */\nfunction setupEventListeners(reference, options, state, updateBound) {\n  // Resize event listener on window\n  state.updateBound = updateBound;\n  getWindow(reference).addEventListener('resize', state.updateBound, { passive: true });\n\n  // Scroll event listener on scroll parents\n  var scrollElement = getScrollParent(reference);\n  attachToScrollParents(scrollElement, 'scroll', state.updateBound, state.scrollParents);\n  state.scrollElement = scrollElement;\n  state.eventsEnabled = true;\n\n  return state;\n}\n\n/**\n * It will add resize/scroll events and start recalculating\n * position of the popper element when they are triggered.\n * @method\n * @memberof Popper\n */\nfunction enableEventListeners() {\n  if (!this.state.eventsEnabled) {\n    this.state = setupEventListeners(this.reference, this.options, this.state, this.scheduleUpdate);\n  }\n}\n\n/**\n * Remove event listeners used to update the popper position\n * @method\n * @memberof Popper.Utils\n * @private\n */\nfunction removeEventListeners(reference, state) {\n  // Remove resize event listener on window\n  getWindow(reference).removeEventListener('resize', state.updateBound);\n\n  // Remove scroll event listener on scroll parents\n  state.scrollParents.forEach(function (target) {\n    target.removeEventListener('scroll', state.updateBound);\n  });\n\n  // Reset state\n  state.updateBound = null;\n  state.scrollParents = [];\n  state.scrollElement = null;\n  state.eventsEnabled = false;\n  return state;\n}\n\n/**\n * It will remove resize/scroll events and won't recalculate popper position\n * when they are triggered. It also won't trigger `onUpdate` callback anymore,\n * unless you call `update` method manually.\n * @method\n * @memberof Popper\n */\nfunction disableEventListeners() {\n  if (this.state.eventsEnabled) {\n    cancelAnimationFrame(this.scheduleUpdate);\n    this.state = removeEventListeners(this.reference, this.state);\n  }\n}\n\n/**\n * Tells if a given input is a number\n * @method\n * @memberof Popper.Utils\n * @param {*} input to check\n * @return {Boolean}\n */\nfunction isNumeric(n) {\n  return n !== '' && !isNaN(parseFloat(n)) && isFinite(n);\n}\n\n/**\n * Set the style to the given popper\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element - Element to apply the style to\n * @argument {Object} styles\n * Object with a list of properties and values which will be applied to the element\n */\nfunction setStyles(element, styles) {\n  Object.keys(styles).forEach(function (prop) {\n    var unit = '';\n    // add unit if the value is numeric and is one of the following\n    if (['width', 'height', 'top', 'right', 'bottom', 'left'].indexOf(prop) !== -1 && isNumeric(styles[prop])) {\n      unit = 'px';\n    }\n    element.style[prop] = styles[prop] + unit;\n  });\n}\n\n/**\n * Set the attributes to the given popper\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element - Element to apply the attributes to\n * @argument {Object} styles\n * Object with a list of properties and values which will be applied to the element\n */\nfunction setAttributes(element, attributes) {\n  Object.keys(attributes).forEach(function (prop) {\n    var value = attributes[prop];\n    if (value !== false) {\n      element.setAttribute(prop, attributes[prop]);\n    } else {\n      element.removeAttribute(prop);\n    }\n  });\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} data.styles - List of style properties - values to apply to popper element\n * @argument {Object} data.attributes - List of attribute properties - values to apply to popper element\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The same data object\n */\nfunction applyStyle(data) {\n  // any property present in `data.styles` will be applied to the popper,\n  // in this way we can make the 3rd party modifiers add custom styles to it\n  // Be aware, modifiers could override the properties defined in the previous\n  // lines of this modifier!\n  setStyles(data.instance.popper, data.styles);\n\n  // any property present in `data.attributes` will be applied to the popper,\n  // they will be set as HTML attributes of the element\n  setAttributes(data.instance.popper, data.attributes);\n\n  // if arrowElement is defined and arrowStyles has some properties\n  if (data.arrowElement && Object.keys(data.arrowStyles).length) {\n    setStyles(data.arrowElement, data.arrowStyles);\n  }\n\n  return data;\n}\n\n/**\n * Set the x-placement attribute before everything else because it could be used\n * to add margins to the popper margins needs to be calculated to get the\n * correct popper offsets.\n * @method\n * @memberof Popper.modifiers\n * @param {HTMLElement} reference - The reference element used to position the popper\n * @param {HTMLElement} popper - The HTML element used as popper\n * @param {Object} options - Popper.js options\n */\nfunction applyStyleOnLoad(reference, popper, options, modifierOptions, state) {\n  // compute reference element offsets\n  var referenceOffsets = getReferenceOffsets(state, popper, reference, options.positionFixed);\n\n  // compute auto placement, store placement inside the data object,\n  // modifiers will be able to edit `placement` if needed\n  // and refer to originalPlacement to know the original value\n  var placement = computeAutoPlacement(options.placement, referenceOffsets, popper, reference, options.modifiers.flip.boundariesElement, options.modifiers.flip.padding);\n\n  popper.setAttribute('x-placement', placement);\n\n  // Apply `position` to popper before anything else because\n  // without the position applied we can't guarantee correct computations\n  setStyles(popper, { position: options.positionFixed ? 'fixed' : 'absolute' });\n\n  return options;\n}\n\n/**\n * @function\n * @memberof Popper.Utils\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Boolean} shouldRound - If the offsets should be rounded at all\n * @returns {Object} The popper's position offsets rounded\n *\n * The tale of pixel-perfect positioning. It's still not 100% perfect, but as\n * good as it can be within reason.\n * Discussion here: https://github.com/FezVrasta/popper.js/pull/715\n *\n * Low DPI screens cause a popper to be blurry if not using full pixels (Safari\n * as well on High DPI screens).\n *\n * Firefox prefers no rounding for positioning and does not have blurriness on\n * high DPI screens.\n *\n * Only horizontal placement and left/right values need to be considered.\n */\nfunction getRoundedOffsets(data, shouldRound) {\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n  var round = Math.round,\n      floor = Math.floor;\n\n  var noRound = function noRound(v) {\n    return v;\n  };\n\n  var referenceWidth = round(reference.width);\n  var popperWidth = round(popper.width);\n\n  var isVertical = ['left', 'right'].indexOf(data.placement) !== -1;\n  var isVariation = data.placement.indexOf('-') !== -1;\n  var sameWidthParity = referenceWidth % 2 === popperWidth % 2;\n  var bothOddWidth = referenceWidth % 2 === 1 && popperWidth % 2 === 1;\n\n  var horizontalToInteger = !shouldRound ? noRound : isVertical || isVariation || sameWidthParity ? round : floor;\n  var verticalToInteger = !shouldRound ? noRound : round;\n\n  return {\n    left: horizontalToInteger(bothOddWidth && !isVariation && shouldRound ? popper.left - 1 : popper.left),\n    top: verticalToInteger(popper.top),\n    bottom: verticalToInteger(popper.bottom),\n    right: horizontalToInteger(popper.right)\n  };\n}\n\nvar isFirefox = isBrowser && /Firefox/i.test(navigator.userAgent);\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction computeStyle(data, options) {\n  var x = options.x,\n      y = options.y;\n  var popper = data.offsets.popper;\n\n  // Remove this legacy support in Popper.js v2\n\n  var legacyGpuAccelerationOption = find(data.instance.modifiers, function (modifier) {\n    return modifier.name === 'applyStyle';\n  }).gpuAcceleration;\n  if (legacyGpuAccelerationOption !== undefined) {\n    console.warn('WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!');\n  }\n  var gpuAcceleration = legacyGpuAccelerationOption !== undefined ? legacyGpuAccelerationOption : options.gpuAcceleration;\n\n  var offsetParent = getOffsetParent(data.instance.popper);\n  var offsetParentRect = getBoundingClientRect(offsetParent);\n\n  // Styles\n  var styles = {\n    position: popper.position\n  };\n\n  var offsets = getRoundedOffsets(data, window.devicePixelRatio < 2 || !isFirefox);\n\n  var sideA = x === 'bottom' ? 'top' : 'bottom';\n  var sideB = y === 'right' ? 'left' : 'right';\n\n  // if gpuAcceleration is set to `true` and transform is supported,\n  //  we use `translate3d` to apply the position to the popper we\n  // automatically use the supported prefixed version if needed\n  var prefixedProperty = getSupportedPropertyName('transform');\n\n  // now, let's make a step back and look at this code closely (wtf?)\n  // If the content of the popper grows once it's been positioned, it\n  // may happen that the popper gets misplaced because of the new content\n  // overflowing its reference element\n  // To avoid this problem, we provide two options (x and y), which allow\n  // the consumer to define the offset origin.\n  // If we position a popper on top of a reference element, we can set\n  // `x` to `top` to make the popper grow towards its top instead of\n  // its bottom.\n  var left = void 0,\n      top = void 0;\n  if (sideA === 'bottom') {\n    // when offsetParent is <html> the positioning is relative to the bottom of the screen (excluding the scrollbar)\n    // and not the bottom of the html element\n    if (offsetParent.nodeName === 'HTML') {\n      top = -offsetParent.clientHeight + offsets.bottom;\n    } else {\n      top = -offsetParentRect.height + offsets.bottom;\n    }\n  } else {\n    top = offsets.top;\n  }\n  if (sideB === 'right') {\n    if (offsetParent.nodeName === 'HTML') {\n      left = -offsetParent.clientWidth + offsets.right;\n    } else {\n      left = -offsetParentRect.width + offsets.right;\n    }\n  } else {\n    left = offsets.left;\n  }\n  if (gpuAcceleration && prefixedProperty) {\n    styles[prefixedProperty] = 'translate3d(' + left + 'px, ' + top + 'px, 0)';\n    styles[sideA] = 0;\n    styles[sideB] = 0;\n    styles.willChange = 'transform';\n  } else {\n    // othwerise, we use the standard `top`, `left`, `bottom` and `right` properties\n    var invertTop = sideA === 'bottom' ? -1 : 1;\n    var invertLeft = sideB === 'right' ? -1 : 1;\n    styles[sideA] = top * invertTop;\n    styles[sideB] = left * invertLeft;\n    styles.willChange = sideA + ', ' + sideB;\n  }\n\n  // Attributes\n  var attributes = {\n    'x-placement': data.placement\n  };\n\n  // Update `data` attributes, styles and arrowStyles\n  data.attributes = _extends({}, attributes, data.attributes);\n  data.styles = _extends({}, styles, data.styles);\n  data.arrowStyles = _extends({}, data.offsets.arrow, data.arrowStyles);\n\n  return data;\n}\n\n/**\n * Helper used to know if the given modifier depends from another one.<br />\n * It checks if the needed modifier is listed and enabled.\n * @method\n * @memberof Popper.Utils\n * @param {Array} modifiers - list of modifiers\n * @param {String} requestingName - name of requesting modifier\n * @param {String} requestedName - name of requested modifier\n * @returns {Boolean}\n */\nfunction isModifierRequired(modifiers, requestingName, requestedName) {\n  var requesting = find(modifiers, function (_ref) {\n    var name = _ref.name;\n    return name === requestingName;\n  });\n\n  var isRequired = !!requesting && modifiers.some(function (modifier) {\n    return modifier.name === requestedName && modifier.enabled && modifier.order < requesting.order;\n  });\n\n  if (!isRequired) {\n    var _requesting = '`' + requestingName + '`';\n    var requested = '`' + requestedName + '`';\n    console.warn(requested + ' modifier is required by ' + _requesting + ' modifier in order to work, be sure to include it before ' + _requesting + '!');\n  }\n  return isRequired;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction arrow(data, options) {\n  var _data$offsets$arrow;\n\n  // arrow depends on keepTogether in order to work\n  if (!isModifierRequired(data.instance.modifiers, 'arrow', 'keepTogether')) {\n    return data;\n  }\n\n  var arrowElement = options.element;\n\n  // if arrowElement is a string, suppose it's a CSS selector\n  if (typeof arrowElement === 'string') {\n    arrowElement = data.instance.popper.querySelector(arrowElement);\n\n    // if arrowElement is not found, don't run the modifier\n    if (!arrowElement) {\n      return data;\n    }\n  } else {\n    // if the arrowElement isn't a query selector we must check that the\n    // provided DOM node is child of its popper node\n    if (!data.instance.popper.contains(arrowElement)) {\n      console.warn('WARNING: `arrow.element` must be child of its popper element!');\n      return data;\n    }\n  }\n\n  var placement = data.placement.split('-')[0];\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var isVertical = ['left', 'right'].indexOf(placement) !== -1;\n\n  var len = isVertical ? 'height' : 'width';\n  var sideCapitalized = isVertical ? 'Top' : 'Left';\n  var side = sideCapitalized.toLowerCase();\n  var altSide = isVertical ? 'left' : 'top';\n  var opSide = isVertical ? 'bottom' : 'right';\n  var arrowElementSize = getOuterSizes(arrowElement)[len];\n\n  //\n  // extends keepTogether behavior making sure the popper and its\n  // reference have enough pixels in conjunction\n  //\n\n  // top/left side\n  if (reference[opSide] - arrowElementSize < popper[side]) {\n    data.offsets.popper[side] -= popper[side] - (reference[opSide] - arrowElementSize);\n  }\n  // bottom/right side\n  if (reference[side] + arrowElementSize > popper[opSide]) {\n    data.offsets.popper[side] += reference[side] + arrowElementSize - popper[opSide];\n  }\n  data.offsets.popper = getClientRect(data.offsets.popper);\n\n  // compute center of the popper\n  var center = reference[side] + reference[len] / 2 - arrowElementSize / 2;\n\n  // Compute the sideValue using the updated popper offsets\n  // take popper margin in account because we don't have this info available\n  var css = getStyleComputedProperty(data.instance.popper);\n  var popperMarginSide = parseFloat(css['margin' + sideCapitalized]);\n  var popperBorderSide = parseFloat(css['border' + sideCapitalized + 'Width']);\n  var sideValue = center - data.offsets.popper[side] - popperMarginSide - popperBorderSide;\n\n  // prevent arrowElement from being placed not contiguously to its popper\n  sideValue = Math.max(Math.min(popper[len] - arrowElementSize, sideValue), 0);\n\n  data.arrowElement = arrowElement;\n  data.offsets.arrow = (_data$offsets$arrow = {}, defineProperty(_data$offsets$arrow, side, Math.round(sideValue)), defineProperty(_data$offsets$arrow, altSide, ''), _data$offsets$arrow);\n\n  return data;\n}\n\n/**\n * Get the opposite placement variation of the given one\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement variation\n * @returns {String} flipped placement variation\n */\nfunction getOppositeVariation(variation) {\n  if (variation === 'end') {\n    return 'start';\n  } else if (variation === 'start') {\n    return 'end';\n  }\n  return variation;\n}\n\n/**\n * List of accepted placements to use as values of the `placement` option.<br />\n * Valid placements are:\n * - `auto`\n * - `top`\n * - `right`\n * - `bottom`\n * - `left`\n *\n * Each placement can have a variation from this list:\n * - `-start`\n * - `-end`\n *\n * Variations are interpreted easily if you think of them as the left to right\n * written languages. Horizontally (`top` and `bottom`), `start` is left and `end`\n * is right.<br />\n * Vertically (`left` and `right`), `start` is top and `end` is bottom.\n *\n * Some valid examples are:\n * - `top-end` (on top of reference, right aligned)\n * - `right-start` (on right of reference, top aligned)\n * - `bottom` (on bottom, centered)\n * - `auto-end` (on the side with more space available, alignment depends by placement)\n *\n * @static\n * @type {Array}\n * @enum {String}\n * @readonly\n * @method placements\n * @memberof Popper\n */\nvar placements = ['auto-start', 'auto', 'auto-end', 'top-start', 'top', 'top-end', 'right-start', 'right', 'right-end', 'bottom-end', 'bottom', 'bottom-start', 'left-end', 'left', 'left-start'];\n\n// Get rid of `auto` `auto-start` and `auto-end`\nvar validPlacements = placements.slice(3);\n\n/**\n * Given an initial placement, returns all the subsequent placements\n * clockwise (or counter-clockwise).\n *\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement - A valid placement (it accepts variations)\n * @argument {Boolean} counter - Set to true to walk the placements counterclockwise\n * @returns {Array} placements including their variations\n */\nfunction clockwise(placement) {\n  var counter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var index = validPlacements.indexOf(placement);\n  var arr = validPlacements.slice(index + 1).concat(validPlacements.slice(0, index));\n  return counter ? arr.reverse() : arr;\n}\n\nvar BEHAVIORS = {\n  FLIP: 'flip',\n  CLOCKWISE: 'clockwise',\n  COUNTERCLOCKWISE: 'counterclockwise'\n};\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction flip(data, options) {\n  // if `inner` modifier is enabled, we can't use the `flip` modifier\n  if (isModifierEnabled(data.instance.modifiers, 'inner')) {\n    return data;\n  }\n\n  if (data.flipped && data.placement === data.originalPlacement) {\n    // seems like flip is trying to loop, probably there's not enough space on any of the flippable sides\n    return data;\n  }\n\n  var boundaries = getBoundaries(data.instance.popper, data.instance.reference, options.padding, options.boundariesElement, data.positionFixed);\n\n  var placement = data.placement.split('-')[0];\n  var placementOpposite = getOppositePlacement(placement);\n  var variation = data.placement.split('-')[1] || '';\n\n  var flipOrder = [];\n\n  switch (options.behavior) {\n    case BEHAVIORS.FLIP:\n      flipOrder = [placement, placementOpposite];\n      break;\n    case BEHAVIORS.CLOCKWISE:\n      flipOrder = clockwise(placement);\n      break;\n    case BEHAVIORS.COUNTERCLOCKWISE:\n      flipOrder = clockwise(placement, true);\n      break;\n    default:\n      flipOrder = options.behavior;\n  }\n\n  flipOrder.forEach(function (step, index) {\n    if (placement !== step || flipOrder.length === index + 1) {\n      return data;\n    }\n\n    placement = data.placement.split('-')[0];\n    placementOpposite = getOppositePlacement(placement);\n\n    var popperOffsets = data.offsets.popper;\n    var refOffsets = data.offsets.reference;\n\n    // using floor because the reference offsets may contain decimals we are not going to consider here\n    var floor = Math.floor;\n    var overlapsRef = placement === 'left' && floor(popperOffsets.right) > floor(refOffsets.left) || placement === 'right' && floor(popperOffsets.left) < floor(refOffsets.right) || placement === 'top' && floor(popperOffsets.bottom) > floor(refOffsets.top) || placement === 'bottom' && floor(popperOffsets.top) < floor(refOffsets.bottom);\n\n    var overflowsLeft = floor(popperOffsets.left) < floor(boundaries.left);\n    var overflowsRight = floor(popperOffsets.right) > floor(boundaries.right);\n    var overflowsTop = floor(popperOffsets.top) < floor(boundaries.top);\n    var overflowsBottom = floor(popperOffsets.bottom) > floor(boundaries.bottom);\n\n    var overflowsBoundaries = placement === 'left' && overflowsLeft || placement === 'right' && overflowsRight || placement === 'top' && overflowsTop || placement === 'bottom' && overflowsBottom;\n\n    // flip the variation if required\n    var isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\n\n    // flips variation if reference element overflows boundaries\n    var flippedVariationByRef = !!options.flipVariations && (isVertical && variation === 'start' && overflowsLeft || isVertical && variation === 'end' && overflowsRight || !isVertical && variation === 'start' && overflowsTop || !isVertical && variation === 'end' && overflowsBottom);\n\n    // flips variation if popper content overflows boundaries\n    var flippedVariationByContent = !!options.flipVariationsByContent && (isVertical && variation === 'start' && overflowsRight || isVertical && variation === 'end' && overflowsLeft || !isVertical && variation === 'start' && overflowsBottom || !isVertical && variation === 'end' && overflowsTop);\n\n    var flippedVariation = flippedVariationByRef || flippedVariationByContent;\n\n    if (overlapsRef || overflowsBoundaries || flippedVariation) {\n      // this boolean to detect any flip loop\n      data.flipped = true;\n\n      if (overlapsRef || overflowsBoundaries) {\n        placement = flipOrder[index + 1];\n      }\n\n      if (flippedVariation) {\n        variation = getOppositeVariation(variation);\n      }\n\n      data.placement = placement + (variation ? '-' + variation : '');\n\n      // this object contains `position`, we want to preserve it along with\n      // any additional property we may add in the future\n      data.offsets.popper = _extends({}, data.offsets.popper, getPopperOffsets(data.instance.popper, data.offsets.reference, data.placement));\n\n      data = runModifiers(data.instance.modifiers, data, 'flip');\n    }\n  });\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction keepTogether(data) {\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var placement = data.placement.split('-')[0];\n  var floor = Math.floor;\n  var isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\n  var side = isVertical ? 'right' : 'bottom';\n  var opSide = isVertical ? 'left' : 'top';\n  var measurement = isVertical ? 'width' : 'height';\n\n  if (popper[side] < floor(reference[opSide])) {\n    data.offsets.popper[opSide] = floor(reference[opSide]) - popper[measurement];\n  }\n  if (popper[opSide] > floor(reference[side])) {\n    data.offsets.popper[opSide] = floor(reference[side]);\n  }\n\n  return data;\n}\n\n/**\n * Converts a string containing value + unit into a px value number\n * @function\n * @memberof {modifiers~offset}\n * @private\n * @argument {String} str - Value + unit string\n * @argument {String} measurement - `height` or `width`\n * @argument {Object} popperOffsets\n * @argument {Object} referenceOffsets\n * @returns {Number|String}\n * Value in pixels, or original string if no values were extracted\n */\nfunction toValue(str, measurement, popperOffsets, referenceOffsets) {\n  // separate value from unit\n  var split = str.match(/((?:\\-|\\+)?\\d*\\.?\\d*)(.*)/);\n  var value = +split[1];\n  var unit = split[2];\n\n  // If it's not a number it's an operator, I guess\n  if (!value) {\n    return str;\n  }\n\n  if (unit.indexOf('%') === 0) {\n    var element = void 0;\n    switch (unit) {\n      case '%p':\n        element = popperOffsets;\n        break;\n      case '%':\n      case '%r':\n      default:\n        element = referenceOffsets;\n    }\n\n    var rect = getClientRect(element);\n    return rect[measurement] / 100 * value;\n  } else if (unit === 'vh' || unit === 'vw') {\n    // if is a vh or vw, we calculate the size based on the viewport\n    var size = void 0;\n    if (unit === 'vh') {\n      size = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n    } else {\n      size = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n    }\n    return size / 100 * value;\n  } else {\n    // if is an explicit pixel unit, we get rid of the unit and keep the value\n    // if is an implicit unit, it's px, and we return just the value\n    return value;\n  }\n}\n\n/**\n * Parse an `offset` string to extrapolate `x` and `y` numeric offsets.\n * @function\n * @memberof {modifiers~offset}\n * @private\n * @argument {String} offset\n * @argument {Object} popperOffsets\n * @argument {Object} referenceOffsets\n * @argument {String} basePlacement\n * @returns {Array} a two cells array with x and y offsets in numbers\n */\nfunction parseOffset(offset, popperOffsets, referenceOffsets, basePlacement) {\n  var offsets = [0, 0];\n\n  // Use height if placement is left or right and index is 0 otherwise use width\n  // in this way the first offset will use an axis and the second one\n  // will use the other one\n  var useHeight = ['right', 'left'].indexOf(basePlacement) !== -1;\n\n  // Split the offset string to obtain a list of values and operands\n  // The regex addresses values with the plus or minus sign in front (+10, -20, etc)\n  var fragments = offset.split(/(\\+|\\-)/).map(function (frag) {\n    return frag.trim();\n  });\n\n  // Detect if the offset string contains a pair of values or a single one\n  // they could be separated by comma or space\n  var divider = fragments.indexOf(find(fragments, function (frag) {\n    return frag.search(/,|\\s/) !== -1;\n  }));\n\n  if (fragments[divider] && fragments[divider].indexOf(',') === -1) {\n    console.warn('Offsets separated by white space(s) are deprecated, use a comma (,) instead.');\n  }\n\n  // If divider is found, we divide the list of values and operands to divide\n  // them by ofset X and Y.\n  var splitRegex = /\\s*,\\s*|\\s+/;\n  var ops = divider !== -1 ? [fragments.slice(0, divider).concat([fragments[divider].split(splitRegex)[0]]), [fragments[divider].split(splitRegex)[1]].concat(fragments.slice(divider + 1))] : [fragments];\n\n  // Convert the values with units to absolute pixels to allow our computations\n  ops = ops.map(function (op, index) {\n    // Most of the units rely on the orientation of the popper\n    var measurement = (index === 1 ? !useHeight : useHeight) ? 'height' : 'width';\n    var mergeWithPrevious = false;\n    return op\n    // This aggregates any `+` or `-` sign that aren't considered operators\n    // e.g.: 10 + +5 => [10, +, +5]\n    .reduce(function (a, b) {\n      if (a[a.length - 1] === '' && ['+', '-'].indexOf(b) !== -1) {\n        a[a.length - 1] = b;\n        mergeWithPrevious = true;\n        return a;\n      } else if (mergeWithPrevious) {\n        a[a.length - 1] += b;\n        mergeWithPrevious = false;\n        return a;\n      } else {\n        return a.concat(b);\n      }\n    }, [])\n    // Here we convert the string values into number values (in px)\n    .map(function (str) {\n      return toValue(str, measurement, popperOffsets, referenceOffsets);\n    });\n  });\n\n  // Loop trough the offsets arrays and execute the operations\n  ops.forEach(function (op, index) {\n    op.forEach(function (frag, index2) {\n      if (isNumeric(frag)) {\n        offsets[index] += frag * (op[index2 - 1] === '-' ? -1 : 1);\n      }\n    });\n  });\n  return offsets;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @argument {Number|String} options.offset=0\n * The offset value as described in the modifier description\n * @returns {Object} The data object, properly modified\n */\nfunction offset(data, _ref) {\n  var offset = _ref.offset;\n  var placement = data.placement,\n      _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var basePlacement = placement.split('-')[0];\n\n  var offsets = void 0;\n  if (isNumeric(+offset)) {\n    offsets = [+offset, 0];\n  } else {\n    offsets = parseOffset(offset, popper, reference, basePlacement);\n  }\n\n  if (basePlacement === 'left') {\n    popper.top += offsets[0];\n    popper.left -= offsets[1];\n  } else if (basePlacement === 'right') {\n    popper.top += offsets[0];\n    popper.left += offsets[1];\n  } else if (basePlacement === 'top') {\n    popper.left += offsets[0];\n    popper.top -= offsets[1];\n  } else if (basePlacement === 'bottom') {\n    popper.left += offsets[0];\n    popper.top += offsets[1];\n  }\n\n  data.popper = popper;\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction preventOverflow(data, options) {\n  var boundariesElement = options.boundariesElement || getOffsetParent(data.instance.popper);\n\n  // If offsetParent is the reference element, we really want to\n  // go one step up and use the next offsetParent as reference to\n  // avoid to make this modifier completely useless and look like broken\n  if (data.instance.reference === boundariesElement) {\n    boundariesElement = getOffsetParent(boundariesElement);\n  }\n\n  // NOTE: DOM access here\n  // resets the popper's position so that the document size can be calculated excluding\n  // the size of the popper element itself\n  var transformProp = getSupportedPropertyName('transform');\n  var popperStyles = data.instance.popper.style; // assignment to help minification\n  var top = popperStyles.top,\n      left = popperStyles.left,\n      transform = popperStyles[transformProp];\n\n  popperStyles.top = '';\n  popperStyles.left = '';\n  popperStyles[transformProp] = '';\n\n  var boundaries = getBoundaries(data.instance.popper, data.instance.reference, options.padding, boundariesElement, data.positionFixed);\n\n  // NOTE: DOM access here\n  // restores the original style properties after the offsets have been computed\n  popperStyles.top = top;\n  popperStyles.left = left;\n  popperStyles[transformProp] = transform;\n\n  options.boundaries = boundaries;\n\n  var order = options.priority;\n  var popper = data.offsets.popper;\n\n  var check = {\n    primary: function primary(placement) {\n      var value = popper[placement];\n      if (popper[placement] < boundaries[placement] && !options.escapeWithReference) {\n        value = Math.max(popper[placement], boundaries[placement]);\n      }\n      return defineProperty({}, placement, value);\n    },\n    secondary: function secondary(placement) {\n      var mainSide = placement === 'right' ? 'left' : 'top';\n      var value = popper[mainSide];\n      if (popper[placement] > boundaries[placement] && !options.escapeWithReference) {\n        value = Math.min(popper[mainSide], boundaries[placement] - (placement === 'right' ? popper.width : popper.height));\n      }\n      return defineProperty({}, mainSide, value);\n    }\n  };\n\n  order.forEach(function (placement) {\n    var side = ['left', 'top'].indexOf(placement) !== -1 ? 'primary' : 'secondary';\n    popper = _extends({}, popper, check[side](placement));\n  });\n\n  data.offsets.popper = popper;\n\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction shift(data) {\n  var placement = data.placement;\n  var basePlacement = placement.split('-')[0];\n  var shiftvariation = placement.split('-')[1];\n\n  // if shift shiftvariation is specified, run the modifier\n  if (shiftvariation) {\n    var _data$offsets = data.offsets,\n        reference = _data$offsets.reference,\n        popper = _data$offsets.popper;\n\n    var isVertical = ['bottom', 'top'].indexOf(basePlacement) !== -1;\n    var side = isVertical ? 'left' : 'top';\n    var measurement = isVertical ? 'width' : 'height';\n\n    var shiftOffsets = {\n      start: defineProperty({}, side, reference[side]),\n      end: defineProperty({}, side, reference[side] + reference[measurement] - popper[measurement])\n    };\n\n    data.offsets.popper = _extends({}, popper, shiftOffsets[shiftvariation]);\n  }\n\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction hide(data) {\n  if (!isModifierRequired(data.instance.modifiers, 'hide', 'preventOverflow')) {\n    return data;\n  }\n\n  var refRect = data.offsets.reference;\n  var bound = find(data.instance.modifiers, function (modifier) {\n    return modifier.name === 'preventOverflow';\n  }).boundaries;\n\n  if (refRect.bottom < bound.top || refRect.left > bound.right || refRect.top > bound.bottom || refRect.right < bound.left) {\n    // Avoid unnecessary DOM access if visibility hasn't changed\n    if (data.hide === true) {\n      return data;\n    }\n\n    data.hide = true;\n    data.attributes['x-out-of-boundaries'] = '';\n  } else {\n    // Avoid unnecessary DOM access if visibility hasn't changed\n    if (data.hide === false) {\n      return data;\n    }\n\n    data.hide = false;\n    data.attributes['x-out-of-boundaries'] = false;\n  }\n\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction inner(data) {\n  var placement = data.placement;\n  var basePlacement = placement.split('-')[0];\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var isHoriz = ['left', 'right'].indexOf(basePlacement) !== -1;\n\n  var subtractLength = ['top', 'left'].indexOf(basePlacement) === -1;\n\n  popper[isHoriz ? 'left' : 'top'] = reference[basePlacement] - (subtractLength ? popper[isHoriz ? 'width' : 'height'] : 0);\n\n  data.placement = getOppositePlacement(placement);\n  data.offsets.popper = getClientRect(popper);\n\n  return data;\n}\n\n/**\n * Modifier function, each modifier can have a function of this type assigned\n * to its `fn` property.<br />\n * These functions will be called on each update, this means that you must\n * make sure they are performant enough to avoid performance bottlenecks.\n *\n * @function ModifierFn\n * @argument {dataObject} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {dataObject} The data object, properly modified\n */\n\n/**\n * Modifiers are plugins used to alter the behavior of your poppers.<br />\n * Popper.js uses a set of 9 modifiers to provide all the basic functionalities\n * needed by the library.\n *\n * Usually you don't want to override the `order`, `fn` and `onLoad` props.\n * All the other properties are configurations that could be tweaked.\n * @namespace modifiers\n */\nvar modifiers = {\n  /**\n   * Modifier used to shift the popper on the start or end of its reference\n   * element.<br />\n   * It will read the variation of the `placement` property.<br />\n   * It can be one either `-end` or `-start`.\n   * @memberof modifiers\n   * @inner\n   */\n  shift: {\n    /** @prop {number} order=100 - Index used to define the order of execution */\n    order: 100,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: shift\n  },\n\n  /**\n   * The `offset` modifier can shift your popper on both its axis.\n   *\n   * It accepts the following units:\n   * - `px` or unit-less, interpreted as pixels\n   * - `%` or `%r`, percentage relative to the length of the reference element\n   * - `%p`, percentage relative to the length of the popper element\n   * - `vw`, CSS viewport width unit\n   * - `vh`, CSS viewport height unit\n   *\n   * For length is intended the main axis relative to the placement of the popper.<br />\n   * This means that if the placement is `top` or `bottom`, the length will be the\n   * `width`. In case of `left` or `right`, it will be the `height`.\n   *\n   * You can provide a single value (as `Number` or `String`), or a pair of values\n   * as `String` divided by a comma or one (or more) white spaces.<br />\n   * The latter is a deprecated method because it leads to confusion and will be\n   * removed in v2.<br />\n   * Additionally, it accepts additions and subtractions between different units.\n   * Note that multiplications and divisions aren't supported.\n   *\n   * Valid examples are:\n   * ```\n   * 10\n   * '10%'\n   * '10, 10'\n   * '10%, 10'\n   * '10 + 10%'\n   * '10 - 5vh + 3%'\n   * '-10px + 5vh, 5px - 6%'\n   * ```\n   * > **NB**: If you desire to apply offsets to your poppers in a way that may make them overlap\n   * > with their reference element, unfortunately, you will have to disable the `flip` modifier.\n   * > You can read more on this at this [issue](https://github.com/FezVrasta/popper.js/issues/373).\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  offset: {\n    /** @prop {number} order=200 - Index used to define the order of execution */\n    order: 200,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: offset,\n    /** @prop {Number|String} offset=0\n     * The offset value as described in the modifier description\n     */\n    offset: 0\n  },\n\n  /**\n   * Modifier used to prevent the popper from being positioned outside the boundary.\n   *\n   * A scenario exists where the reference itself is not within the boundaries.<br />\n   * We can say it has \"escaped the boundaries\" — or just \"escaped\".<br />\n   * In this case we need to decide whether the popper should either:\n   *\n   * - detach from the reference and remain \"trapped\" in the boundaries, or\n   * - if it should ignore the boundary and \"escape with its reference\"\n   *\n   * When `escapeWithReference` is set to`true` and reference is completely\n   * outside its boundaries, the popper will overflow (or completely leave)\n   * the boundaries in order to remain attached to the edge of the reference.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  preventOverflow: {\n    /** @prop {number} order=300 - Index used to define the order of execution */\n    order: 300,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: preventOverflow,\n    /**\n     * @prop {Array} [priority=['left','right','top','bottom']]\n     * Popper will try to prevent overflow following these priorities by default,\n     * then, it could overflow on the left and on top of the `boundariesElement`\n     */\n    priority: ['left', 'right', 'top', 'bottom'],\n    /**\n     * @prop {number} padding=5\n     * Amount of pixel used to define a minimum distance between the boundaries\n     * and the popper. This makes sure the popper always has a little padding\n     * between the edges of its container\n     */\n    padding: 5,\n    /**\n     * @prop {String|HTMLElement} boundariesElement='scrollParent'\n     * Boundaries used by the modifier. Can be `scrollParent`, `window`,\n     * `viewport` or any DOM element.\n     */\n    boundariesElement: 'scrollParent'\n  },\n\n  /**\n   * Modifier used to make sure the reference and its popper stay near each other\n   * without leaving any gap between the two. Especially useful when the arrow is\n   * enabled and you want to ensure that it points to its reference element.\n   * It cares only about the first axis. You can still have poppers with margin\n   * between the popper and its reference element.\n   * @memberof modifiers\n   * @inner\n   */\n  keepTogether: {\n    /** @prop {number} order=400 - Index used to define the order of execution */\n    order: 400,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: keepTogether\n  },\n\n  /**\n   * This modifier is used to move the `arrowElement` of the popper to make\n   * sure it is positioned between the reference element and its popper element.\n   * It will read the outer size of the `arrowElement` node to detect how many\n   * pixels of conjunction are needed.\n   *\n   * It has no effect if no `arrowElement` is provided.\n   * @memberof modifiers\n   * @inner\n   */\n  arrow: {\n    /** @prop {number} order=500 - Index used to define the order of execution */\n    order: 500,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: arrow,\n    /** @prop {String|HTMLElement} element='[x-arrow]' - Selector or node used as arrow */\n    element: '[x-arrow]'\n  },\n\n  /**\n   * Modifier used to flip the popper's placement when it starts to overlap its\n   * reference element.\n   *\n   * Requires the `preventOverflow` modifier before it in order to work.\n   *\n   * **NOTE:** this modifier will interrupt the current update cycle and will\n   * restart it if it detects the need to flip the placement.\n   * @memberof modifiers\n   * @inner\n   */\n  flip: {\n    /** @prop {number} order=600 - Index used to define the order of execution */\n    order: 600,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: flip,\n    /**\n     * @prop {String|Array} behavior='flip'\n     * The behavior used to change the popper's placement. It can be one of\n     * `flip`, `clockwise`, `counterclockwise` or an array with a list of valid\n     * placements (with optional variations)\n     */\n    behavior: 'flip',\n    /**\n     * @prop {number} padding=5\n     * The popper will flip if it hits the edges of the `boundariesElement`\n     */\n    padding: 5,\n    /**\n     * @prop {String|HTMLElement} boundariesElement='viewport'\n     * The element which will define the boundaries of the popper position.\n     * The popper will never be placed outside of the defined boundaries\n     * (except if `keepTogether` is enabled)\n     */\n    boundariesElement: 'viewport',\n    /**\n     * @prop {Boolean} flipVariations=false\n     * The popper will switch placement variation between `-start` and `-end` when\n     * the reference element overlaps its boundaries.\n     *\n     * The original placement should have a set variation.\n     */\n    flipVariations: false,\n    /**\n     * @prop {Boolean} flipVariationsByContent=false\n     * The popper will switch placement variation between `-start` and `-end` when\n     * the popper element overlaps its reference boundaries.\n     *\n     * The original placement should have a set variation.\n     */\n    flipVariationsByContent: false\n  },\n\n  /**\n   * Modifier used to make the popper flow toward the inner of the reference element.\n   * By default, when this modifier is disabled, the popper will be placed outside\n   * the reference element.\n   * @memberof modifiers\n   * @inner\n   */\n  inner: {\n    /** @prop {number} order=700 - Index used to define the order of execution */\n    order: 700,\n    /** @prop {Boolean} enabled=false - Whether the modifier is enabled or not */\n    enabled: false,\n    /** @prop {ModifierFn} */\n    fn: inner\n  },\n\n  /**\n   * Modifier used to hide the popper when its reference element is outside of the\n   * popper boundaries. It will set a `x-out-of-boundaries` attribute which can\n   * be used to hide with a CSS selector the popper when its reference is\n   * out of boundaries.\n   *\n   * Requires the `preventOverflow` modifier before it in order to work.\n   * @memberof modifiers\n   * @inner\n   */\n  hide: {\n    /** @prop {number} order=800 - Index used to define the order of execution */\n    order: 800,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: hide\n  },\n\n  /**\n   * Computes the style that will be applied to the popper element to gets\n   * properly positioned.\n   *\n   * Note that this modifier will not touch the DOM, it just prepares the styles\n   * so that `applyStyle` modifier can apply it. This separation is useful\n   * in case you need to replace `applyStyle` with a custom implementation.\n   *\n   * This modifier has `850` as `order` value to maintain backward compatibility\n   * with previous versions of Popper.js. Expect the modifiers ordering method\n   * to change in future major versions of the library.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  computeStyle: {\n    /** @prop {number} order=850 - Index used to define the order of execution */\n    order: 850,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: computeStyle,\n    /**\n     * @prop {Boolean} gpuAcceleration=true\n     * If true, it uses the CSS 3D transformation to position the popper.\n     * Otherwise, it will use the `top` and `left` properties\n     */\n    gpuAcceleration: true,\n    /**\n     * @prop {string} [x='bottom']\n     * Where to anchor the X axis (`bottom` or `top`). AKA X offset origin.\n     * Change this if your popper should grow in a direction different from `bottom`\n     */\n    x: 'bottom',\n    /**\n     * @prop {string} [x='left']\n     * Where to anchor the Y axis (`left` or `right`). AKA Y offset origin.\n     * Change this if your popper should grow in a direction different from `right`\n     */\n    y: 'right'\n  },\n\n  /**\n   * Applies the computed styles to the popper element.\n   *\n   * All the DOM manipulations are limited to this modifier. This is useful in case\n   * you want to integrate Popper.js inside a framework or view library and you\n   * want to delegate all the DOM manipulations to it.\n   *\n   * Note that if you disable this modifier, you must make sure the popper element\n   * has its position set to `absolute` before Popper.js can do its work!\n   *\n   * Just disable this modifier and define your own to achieve the desired effect.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  applyStyle: {\n    /** @prop {number} order=900 - Index used to define the order of execution */\n    order: 900,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: applyStyle,\n    /** @prop {Function} */\n    onLoad: applyStyleOnLoad,\n    /**\n     * @deprecated since version 1.10.0, the property moved to `computeStyle` modifier\n     * @prop {Boolean} gpuAcceleration=true\n     * If true, it uses the CSS 3D transformation to position the popper.\n     * Otherwise, it will use the `top` and `left` properties\n     */\n    gpuAcceleration: undefined\n  }\n};\n\n/**\n * The `dataObject` is an object containing all the information used by Popper.js.\n * This object is passed to modifiers and to the `onCreate` and `onUpdate` callbacks.\n * @name dataObject\n * @property {Object} data.instance The Popper.js instance\n * @property {String} data.placement Placement applied to popper\n * @property {String} data.originalPlacement Placement originally defined on init\n * @property {Boolean} data.flipped True if popper has been flipped by flip modifier\n * @property {Boolean} data.hide True if the reference element is out of boundaries, useful to know when to hide the popper\n * @property {HTMLElement} data.arrowElement Node used as arrow by arrow modifier\n * @property {Object} data.styles Any CSS property defined here will be applied to the popper. It expects the JavaScript nomenclature (eg. `marginBottom`)\n * @property {Object} data.arrowStyles Any CSS property defined here will be applied to the popper arrow. It expects the JavaScript nomenclature (eg. `marginBottom`)\n * @property {Object} data.boundaries Offsets of the popper boundaries\n * @property {Object} data.offsets The measurements of popper, reference and arrow elements\n * @property {Object} data.offsets.popper `top`, `left`, `width`, `height` values\n * @property {Object} data.offsets.reference `top`, `left`, `width`, `height` values\n * @property {Object} data.offsets.arrow] `top` and `left` offsets, only one of them will be different from 0\n */\n\n/**\n * Default options provided to Popper.js constructor.<br />\n * These can be overridden using the `options` argument of Popper.js.<br />\n * To override an option, simply pass an object with the same\n * structure of the `options` object, as the 3rd argument. For example:\n * ```\n * new Popper(ref, pop, {\n *   modifiers: {\n *     preventOverflow: { enabled: false }\n *   }\n * })\n * ```\n * @type {Object}\n * @static\n * @memberof Popper\n */\nvar Defaults = {\n  /**\n   * Popper's placement.\n   * @prop {Popper.placements} placement='bottom'\n   */\n  placement: 'bottom',\n\n  /**\n   * Set this to true if you want popper to position it self in 'fixed' mode\n   * @prop {Boolean} positionFixed=false\n   */\n  positionFixed: false,\n\n  /**\n   * Whether events (resize, scroll) are initially enabled.\n   * @prop {Boolean} eventsEnabled=true\n   */\n  eventsEnabled: true,\n\n  /**\n   * Set to true if you want to automatically remove the popper when\n   * you call the `destroy` method.\n   * @prop {Boolean} removeOnDestroy=false\n   */\n  removeOnDestroy: false,\n\n  /**\n   * Callback called when the popper is created.<br />\n   * By default, it is set to no-op.<br />\n   * Access Popper.js instance with `data.instance`.\n   * @prop {onCreate}\n   */\n  onCreate: function onCreate() {},\n\n  /**\n   * Callback called when the popper is updated. This callback is not called\n   * on the initialization/creation of the popper, but only on subsequent\n   * updates.<br />\n   * By default, it is set to no-op.<br />\n   * Access Popper.js instance with `data.instance`.\n   * @prop {onUpdate}\n   */\n  onUpdate: function onUpdate() {},\n\n  /**\n   * List of modifiers used to modify the offsets before they are applied to the popper.\n   * They provide most of the functionalities of Popper.js.\n   * @prop {modifiers}\n   */\n  modifiers: modifiers\n};\n\n/**\n * @callback onCreate\n * @param {dataObject} data\n */\n\n/**\n * @callback onUpdate\n * @param {dataObject} data\n */\n\n// Utils\n// Methods\nvar Popper = function () {\n  /**\n   * Creates a new Popper.js instance.\n   * @class Popper\n   * @param {Element|referenceObject} reference - The reference element used to position the popper\n   * @param {Element} popper - The HTML / XML element used as the popper\n   * @param {Object} options - Your custom options to override the ones defined in [Defaults](#defaults)\n   * @return {Object} instance - The generated Popper.js instance\n   */\n  function Popper(reference, popper) {\n    var _this = this;\n\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    classCallCheck(this, Popper);\n\n    this.scheduleUpdate = function () {\n      return requestAnimationFrame(_this.update);\n    };\n\n    // make update() debounced, so that it only runs at most once-per-tick\n    this.update = debounce(this.update.bind(this));\n\n    // with {} we create a new object with the options inside it\n    this.options = _extends({}, Popper.Defaults, options);\n\n    // init state\n    this.state = {\n      isDestroyed: false,\n      isCreated: false,\n      scrollParents: []\n    };\n\n    // get reference and popper elements (allow jQuery wrappers)\n    this.reference = reference && reference.jquery ? reference[0] : reference;\n    this.popper = popper && popper.jquery ? popper[0] : popper;\n\n    // Deep merge modifiers options\n    this.options.modifiers = {};\n    Object.keys(_extends({}, Popper.Defaults.modifiers, options.modifiers)).forEach(function (name) {\n      _this.options.modifiers[name] = _extends({}, Popper.Defaults.modifiers[name] || {}, options.modifiers ? options.modifiers[name] : {});\n    });\n\n    // Refactoring modifiers' list (Object => Array)\n    this.modifiers = Object.keys(this.options.modifiers).map(function (name) {\n      return _extends({\n        name: name\n      }, _this.options.modifiers[name]);\n    })\n    // sort the modifiers by order\n    .sort(function (a, b) {\n      return a.order - b.order;\n    });\n\n    // modifiers have the ability to execute arbitrary code when Popper.js get inited\n    // such code is executed in the same order of its modifier\n    // they could add new properties to their options configuration\n    // BE AWARE: don't add options to `options.modifiers.name` but to `modifierOptions`!\n    this.modifiers.forEach(function (modifierOptions) {\n      if (modifierOptions.enabled && isFunction(modifierOptions.onLoad)) {\n        modifierOptions.onLoad(_this.reference, _this.popper, _this.options, modifierOptions, _this.state);\n      }\n    });\n\n    // fire the first update to position the popper in the right place\n    this.update();\n\n    var eventsEnabled = this.options.eventsEnabled;\n    if (eventsEnabled) {\n      // setup event listeners, they will take care of update the position in specific situations\n      this.enableEventListeners();\n    }\n\n    this.state.eventsEnabled = eventsEnabled;\n  }\n\n  // We can't use class properties because they don't get listed in the\n  // class prototype and break stuff like Sinon stubs\n\n\n  createClass(Popper, [{\n    key: 'update',\n    value: function update$$1() {\n      return update.call(this);\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy$$1() {\n      return destroy.call(this);\n    }\n  }, {\n    key: 'enableEventListeners',\n    value: function enableEventListeners$$1() {\n      return enableEventListeners.call(this);\n    }\n  }, {\n    key: 'disableEventListeners',\n    value: function disableEventListeners$$1() {\n      return disableEventListeners.call(this);\n    }\n\n    /**\n     * Schedules an update. It will run on the next UI update available.\n     * @method scheduleUpdate\n     * @memberof Popper\n     */\n\n\n    /**\n     * Collection of utilities useful when writing custom modifiers.\n     * Starting from version 1.7, this method is available only if you\n     * include `popper-utils.js` before `popper.js`.\n     *\n     * **DEPRECATION**: This way to access PopperUtils is deprecated\n     * and will be removed in v2! Use the PopperUtils module directly instead.\n     * Due to the high instability of the methods contained in Utils, we can't\n     * guarantee them to follow semver. Use them at your own risk!\n     * @static\n     * @private\n     * @type {Object}\n     * @deprecated since version 1.8\n     * @member Utils\n     * @memberof Popper\n     */\n\n  }]);\n  return Popper;\n}();\n\n/**\n * The `referenceObject` is an object that provides an interface compatible with Popper.js\n * and lets you use it as replacement of a real DOM node.<br />\n * You can use this method to position a popper relatively to a set of coordinates\n * in case you don't have a DOM node to use as reference.\n *\n * ```\n * new Popper(referenceObject, popperNode);\n * ```\n *\n * NB: This feature isn't supported in Internet Explorer 10.\n * @name referenceObject\n * @property {Function} data.getBoundingClientRect\n * A function that returns a set of coordinates compatible with the native `getBoundingClientRect` method.\n * @property {number} data.clientWidth\n * An ES6 getter that will return the width of the virtual reference element.\n * @property {number} data.clientHeight\n * An ES6 getter that will return the height of the virtual reference element.\n */\n\n\nPopper.Utils = (typeof window !== 'undefined' ? window : global).PopperUtils;\nPopper.placements = placements;\nPopper.Defaults = Defaults;\n\nexport default Popper;\n//# sourceMappingURL=popper.js.map\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT https://github.com/sitevision/envision/blob/master/LICENSE\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery';\nimport Popper from 'popper.js';\n\nconst NAME = 'envPopover';\nconst IDENTIFIER = 'env.popover';\nconst EVENT_NAMESPACE = `.${IDENTIFIER}`;\n\nconst attachmentMapping = {\n   top: 'top',\n   bottom: 'bottom',\n   left: 'left',\n   right: 'right',\n};\n\nconst DEFAULTS = {\n   clickOutside: false,\n   constraints: [],\n   container: 'body',\n   content: '',\n   delay: 0,\n   escapeContent: true,\n   placement: 'top',\n   template: `<div class=\"env-popover\" role=\"tooltip\">\n                  <div class=\"env-popover__arrow\"></div>\n                  <div class=\"env-popover__header\">\n                     <h4 class=\"env-text env-popover__header__title\"></h4>\n                  </div>\n                  <div class=\"env-popover__content\"></div>\n               </div>`,\n   title: '',\n   trigger: 'click',\n};\n\nclass Popover {\n   constructor(element, config) {\n      this.el = element;\n      this.$el = $(this.el);\n      this.config = $.extend({}, DEFAULTS, this.$el.data(), config);\n\n      this.bindEvents();\n   }\n\n   bindEvents() {\n      const triggers = this.config.trigger.split(' ');\n\n      triggers.forEach((trigger) => {\n         if (trigger === 'click') {\n            this.$el.on(this.config.trigger + EVENT_NAMESPACE, () => {\n               if (this.isShowing) {\n                  this.hide();\n               } else {\n                  this.show();\n               }\n            });\n         } else {\n            const hoverTrigger = trigger === 'hover';\n            const inEvent = hoverTrigger ? 'mouseenter' : 'focusin';\n            const outEvent = hoverTrigger ? 'mouseleave' : 'focusout';\n\n            this.$el\n               .on(inEvent + EVENT_NAMESPACE, () => {\n                  if (this.config.delay > 0) {\n                     if (this.hidetimeout) {\n                        clearTimeout(this.hidetimeout);\n                     }\n                     if (this.showtimeout) {\n                        clearTimeout(this.showtimeout);\n                     }\n                     if (!this.isShowing) {\n                        this.showtimeout = setTimeout(() => {\n                           this.show();\n                        }, this.config.delay);\n                     }\n                  } else if (!this.isShowing) {\n                     this.show();\n                  }\n               })\n               .on(outEvent + EVENT_NAMESPACE, () => {\n                  if (this.config.delay > 0) {\n                     this.hoverPopover();\n                     if (this.showtimeout) {\n                        clearTimeout(this.showtimeout);\n                     }\n                     if (this.isShowing) {\n                        this.hidetimeout = setTimeout(() => {\n                           this.hide();\n                        }, this.config.delay);\n                     }\n                  } else if (this.isShowing) {\n                     this.hide();\n                  }\n               });\n         }\n      });\n   }\n\n   hoverPopover() {\n      const $popoverElement = this.getPopoverElement();\n\n      $popoverElement.off('mouseenter').on('mouseenter', () => {\n         if (this.hidetimeout) {\n            clearTimeout(this.hidetimeout);\n         }\n         if (this.showtimeout) {\n            clearTimeout(this.showtimeout);\n         }\n         if (!this.isShowing) {\n            this.showtimeout = setTimeout(() => {\n               this.show();\n            }, this.config.delay);\n         }\n      });\n      $popoverElement.off('mouseleave').on('mouseleave', () => {\n         if (this.showtimeout) {\n            clearTimeout(this.showtimeout);\n         }\n         if (this.isShowing) {\n            this.hidetimeout = setTimeout(() => {\n               this.hide();\n            }, this.config.delay);\n         }\n      });\n   }\n\n   getPopoverElement() {\n      return (this.$popoverElement =\n         this.$popoverElement || $(this.config.template));\n   }\n\n   setText($popoverElement, selector, text) {\n      // prettier-ignore\n      $popoverElement\n            .find(selector)[this.config.escapeContent ? 'text' : 'html'](text);\n   }\n\n   setTitle($popoverElement) {\n      this.setText(\n         $popoverElement,\n         '.env-popover__header__title',\n         this.config.title\n      );\n   }\n\n   setContent($popoverElement) {\n      this.setText(\n         $popoverElement,\n         '.env-popover__content',\n         this.config.content\n      );\n   }\n\n   updateConfig(config) {\n      Object.assign(this.config, config);\n      return this;\n   }\n\n   render() {\n      const $popoverElement = this.getPopoverElement();\n\n      this.setTitle($popoverElement);\n      this.setContent($popoverElement);\n      this.setArrowPosition($popoverElement);\n   }\n\n   setArrowPosition($popoverElement) {\n      $popoverElement\n         .find('.env-popover__arrow')\n         .addClass(`env-popover__arrow--${this.config.placement}`);\n   }\n\n   hide() {\n      const $popoverElement = this.getPopoverElement();\n\n      $popoverElement.detach();\n\n      if (this.config.clickOutside) {\n         $('body').off(this.config.trigger + EVENT_NAMESPACE);\n      }\n\n      this.isShowing = false;\n   }\n\n   _cleanTipClass() {\n      this.$popoverElement\n         .find('.env-popover__arrow')\n         .removeClass((index, oldClassNames) => {\n            const modifier = oldClassNames\n               .replace(/env-popover__arrow/g, '')\n               .trim();\n\n            return `env-popover__arrow${modifier}`;\n         });\n   }\n\n   _handlePopperPlacementChange(data) {\n      this._cleanTipClass();\n      this._addAttachmentClass(attachmentMapping[data.placement]);\n   }\n\n   _addAttachmentClass(className) {\n      this.$popoverElement\n         .find('.env-popover__arrow')\n         .addClass(`env-popover__arrow--${className}`);\n   }\n\n   show() {\n      this.render();\n\n      const $popoverElement = this.getPopoverElement();\n\n      $('body').append($popoverElement);\n\n      this._popper = new Popper(this.el, $popoverElement[0], {\n         placement: attachmentMapping[this.config.placement],\n         modifiers: {\n            flip: {\n               behavior: 'flip',\n            },\n            arrow: {\n               element: '.env-popover__arrow',\n            },\n         },\n         onCreate: (data) => {\n            if (data.originalPlacement !== data.placement) {\n               this._handlePopperPlacementChange(data);\n            }\n         },\n         onUpdate: (data) => {\n            this._handlePopperPlacementChange(data);\n         },\n      });\n\n      this._popper.update();\n\n      if (this.config.clickOutside) {\n         $('body').on(\n            this.config.trigger + EVENT_NAMESPACE,\n            this.clickOutsideHandler.bind(this)\n         );\n      }\n\n      this.isShowing = true;\n   }\n\n   destroy() {\n      this.hide();\n\n      if (this._popper) {\n         this._popper.destroy();\n      }\n\n      this.$popoverElement = undefined;\n      this._popper = undefined;\n      this.isShowing = false;\n      this.$el.off();\n      this.$el.removeData(IDENTIFIER);\n   }\n\n   clickOutsideHandler(e) {\n      const target = e.target;\n      const $target = $(target);\n\n      if (\n         this.isShowing &&\n         !this.el.contains(target) &&\n         !$target.closest(this.$popoverElement).length\n      ) {\n         this.hide();\n      }\n   }\n\n   static _jQuery(config) {\n      return this.each(function () {\n         const $this = $(this);\n         let data = $this.data(IDENTIFIER);\n\n         if (!data && /destroy|hide/.test(config)) {\n            return;\n         }\n\n         if (!data) {\n            data = new Popover(\n               this,\n               typeof config === 'object' ? config : null\n            );\n            $this.data(IDENTIFIER, data);\n         }\n\n         if (typeof config === 'string') {\n            const method = data[config];\n\n            if (!method) {\n               throw new Error(`Invalid method name \"${config}\"`);\n            }\n\n            method.call(data);\n         }\n      });\n   }\n}\n\nif (typeof document !== 'undefined') {\n   const NO_CONFLICT = $.fn[NAME];\n   $.fn[NAME] = Popover._jQuery;\n   $.fn[NAME].Constructor = Popover;\n   $.fn[NAME].noConflict = () => {\n      $.fn[NAME] = NO_CONFLICT;\n      return Popover._jQuery;\n   };\n}\n\nexport default Popover;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT https://github.com/sitevision/envision/blob/master/LICENSE\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery';\nimport CssUtil from './util/css-util';\n\nconst HANDLE_INDEX = 'range-handle-index';\nconst HANDLES_SELECTOR = '.env-range-slider__handle';\nconst VALUE_HOLDERS_SELECTOR = '.env-range-slider__values__value';\nconst RANGE_SELECTOR = '.env-range-slider__range';\nconst TOUCH_MODIFIER = 'env-range-slider--touch';\nconst IDENTIFIER = 'env.range-slider';\nconst NAME = 'envRangeSlider';\nconst KEY_RIGHT = 39;\nconst KEY_LEFT = 37;\nconst KEY_DOWN = 40;\nconst KEY_UP = 38;\n\nconst EVENTS = {\n   SLIDE: 'slide',\n   STOP: 'slidestop',\n};\n\nconst DEFAULTS = {\n   min: 0,\n   max: 100,\n   step: 1,\n   values: [0, 0],\n   visibleValues: true,\n};\n\nclass RangeSlider {\n   constructor(element, config) {\n      this.config = $.extend({}, DEFAULTS, config);\n      this.$document = $(document);\n      this.el = element;\n      this.$el = $(element);\n      this.handles = this.$el.find(HANDLES_SELECTOR);\n      this.$range = this.$el.find(RANGE_SELECTOR);\n      this.isTouch = CssUtil.isTouch();\n\n      if (this.config.visibleValues) {\n         this.valueHolders = this.$el.find(VALUE_HOLDERS_SELECTOR);\n      }\n\n      this.handleEvents = {\n         mousedown: this._initSlide.bind(this),\n         touchstart: this._initSlide.bind(this),\n         keydown: this._initKeySlide.bind(this),\n         keyup: this._stopKeySlide.bind(this),\n      };\n   }\n\n   initialize() {\n      this._setupHandles();\n      this._refreshRange();\n      this._bindEvents();\n\n      if (this.isTouch) {\n         this.$el.addClass(TOUCH_MODIFIER);\n      }\n   }\n\n   values(values) {\n      if ($.isArray(values)) {\n         for (let i = 0; i < values.length; i += 1) {\n            this.config.values[i] = this._trimAlignValue(values[i]);\n         }\n         this._refreshRange();\n      }\n   }\n\n   _setupHandles() {\n      this.handles.each((i, handle) => {\n         $(handle).data(HANDLE_INDEX, i);\n      });\n   }\n\n   _refreshRange() {\n      let lastValPercent;\n      let valPercent;\n      let val;\n\n      this.handles.each((i, handle) => {\n         val = this._getValue(i);\n         /* eslint-disable no-magic-numbers */\n         valPercent =\n            ((val - this.config.min) / (this.config.max - this.config.min)) *\n            100;\n         /* eslint-enable no-magic-numbers */\n         $(handle).css('left', `${valPercent}%`);\n\n         if (i === 0) {\n            this.$range.css('left', `${valPercent}%`);\n\n            if (this.config.visibleValues) {\n               this.valueHolders.eq(i).text(val);\n            }\n         } else {\n            this.$range.css('width', `${valPercent - lastValPercent}%`);\n\n            if (this.config.visibleValues) {\n               this.valueHolders.eq(i).text(val);\n            }\n         }\n\n         lastValPercent = valPercent;\n      });\n   }\n\n   _bindEvents() {\n      this.handles.off();\n      this.handles.on(this.handleEvents);\n   }\n\n   _initSlide(e) {\n      const position = this._getPosition(e);\n      const normValue = this._normValueFromMouse(position);\n      let distance = this.config.max - this.config.min + 1;\n      let $closestHandle;\n      let index;\n      let val;\n      let thisDistance;\n\n      if (e.type === 'touchstart') {\n         this.$document.on(\n            `touchmove.${IDENTIFIER}`,\n            this._handleSlide.bind(this)\n         );\n         this.$document.one(\n            `touchend.${IDENTIFIER}`,\n            this._stopSlide.bind(this)\n         );\n      } else {\n         this.$document.on(\n            `mousemove.${IDENTIFIER}`,\n            this._handleSlide.bind(this)\n         );\n         this.$document.one(\n            `mouseup.${IDENTIFIER}`,\n            this._stopSlide.bind(this)\n         );\n      }\n\n      this.handles.each((i, handle) => {\n         val = this._getValue(i);\n         thisDistance = Math.abs(normValue - val);\n         if (\n            distance > thisDistance ||\n            (distance === thisDistance &&\n               (i === this._lastChangedValue || val === this.config.min))\n         ) {\n            distance = thisDistance;\n            $closestHandle = $(handle);\n            index = i;\n         }\n      });\n\n      this._handleIndex = index;\n\n      $closestHandle.trigger('focus');\n\n      const offset = $closestHandle.offset();\n      /* eslint-disable no-magic-numbers */\n      this._clickOffset = {\n         left: position.x - offset.left - $closestHandle.width() / 2,\n         top:\n            position.y -\n            offset.top -\n            $closestHandle.height() / 2 -\n            (parseInt($closestHandle.css('borderTopWidth'), 10) || 0) -\n            (parseInt($closestHandle.css('borderBottomWidth'), 10) || 0) +\n            (parseInt($closestHandle.css('marginTop'), 10) || 0),\n      };\n      /* eslint-enable no-magic-numbers */\n\n      this._slide(e, index, normValue);\n   }\n\n   _handleSlide(e) {\n      const normValue = this._normValueFromMouse(this._getPosition(e));\n      this._slide(e, this._handleIndex, normValue);\n\n      return false;\n   }\n\n   _slide(e, index, newVal) {\n      const otherVal = this._getValue(index ? 0 : 1);\n      const currentValue = this._getValue(index);\n      const newValues = this._getValues();\n      newVal =\n         index === 0 ? Math.min(otherVal, newVal) : Math.max(otherVal, newVal);\n      newValues[index] = newVal;\n\n      if (newVal === currentValue) {\n         return;\n      }\n\n      this._trigger(EVENTS.SLIDE, e, {\n         values: newValues,\n      });\n\n      this._setValue(index, newVal);\n   }\n\n   _stopSlide(e) {\n      this.$document.off(`mousemove.${IDENTIFIER} touchmove.${IDENTIFIER}`);\n\n      this._trigger(EVENTS.STOP, e, {\n         values: this._getValues(),\n      });\n\n      this._handleIndex = null;\n      this._clickOffset = null;\n\n      return false;\n   }\n\n   _initKeySlide(e) {\n      switch (e.keyCode) {\n         case KEY_UP:\n         case KEY_DOWN:\n         case KEY_LEFT:\n         case KEY_RIGHT:\n            e.preventDefault();\n            if (!this._keySliding) {\n               this._keySliding = true;\n            }\n            break;\n         default:\n            return;\n      }\n\n      const index = $(e.target).data(HANDLE_INDEX);\n      const curVal = this._getValue(index);\n      let newVal;\n\n      switch (event.keyCode) {\n         case KEY_UP:\n         case KEY_RIGHT:\n            if (curVal === this.config.max) {\n               return;\n            }\n            newVal = this._trimAlignValue(curVal + this.config.step);\n            break;\n         case KEY_DOWN:\n         case KEY_LEFT:\n            if (curVal === this.config.min) {\n               return;\n            }\n            newVal = this._trimAlignValue(curVal - this.config.step);\n            break;\n         default:\n      }\n\n      this._slide(e, index, newVal);\n   }\n\n   _stopKeySlide(e) {\n      if (this._keySliding) {\n         this._keySliding = false;\n         this._trigger(EVENTS.STOP, e, {\n            values: this._getValues(),\n         });\n      }\n   }\n\n   _normValueFromMouse(position) {\n      const pixelTotal = this.el.outerWidth();\n      const valueTotal = this.config.max - this.config.min;\n      const pixelMouse =\n         position.x -\n         this.el.offset().left -\n         (this._clickOffset ? this._clickOffset.left : 0);\n      let percentMouse = pixelMouse / pixelTotal;\n\n      if (percentMouse > 1) {\n         percentMouse = 1;\n      }\n\n      if (percentMouse < 0) {\n         percentMouse = 0;\n      }\n\n      const valueMouse = this.config.min + percentMouse * valueTotal;\n\n      return this._trimAlignValue(valueMouse);\n   }\n\n   _getPosition(e) {\n      const pos = {};\n\n      if (this.isTouch) {\n         const touches = e.originalEvent.touches[0];\n         pos.x = touches.pageX;\n         pos.y = touches.pageY;\n      } else {\n         pos.x = e.pageX;\n         pos.y = e.pageY;\n      }\n\n      return pos;\n   }\n\n   _trimAlignValue(val) {\n      if (val <= this.config.min) {\n         return this.config.min;\n      }\n\n      if (val >= this.config.max) {\n         return this.config.max;\n      }\n\n      const step = this.config.step;\n      const valModStep = (val - this.config.min) % step;\n      let alignValue = val - valModStep;\n      /* eslint-disable no-magic-numbers */\n      if (Math.abs(valModStep) * 2 >= step) {\n         alignValue += valModStep > 0 ? step : -step;\n      }\n\n      return parseFloat(alignValue.toFixed(5));\n      /* eslint-enable no-magic-numbers */\n   }\n\n   _getValues() {\n      return this.config.values.slice();\n   }\n\n   _getValue(index) {\n      return this.config.values[index];\n   }\n\n   _setValue(index, newValue) {\n      this.config.values[index] = this._trimAlignValue(newValue);\n      this._refreshRange();\n   }\n\n   _trigger(type, e, data) {\n      const el = this.el[0];\n      const cb = this.config[type];\n\n      e = $.Event(e);\n      e.type = type;\n      e.target = el;\n      this.$el.trigger(e, data);\n\n      if (cb) {\n         cb.call(el, e, data);\n      }\n   }\n\n   static _jQuery(config, ...args) {\n      return this.each(() => {\n         const $this = $(this);\n         let rangeSlider = $this.data(IDENTIFIER);\n\n         if (!rangeSlider) {\n            rangeSlider = new RangeSlider(this, config);\n            $this.data(IDENTIFIER, rangeSlider);\n         }\n\n         if (typeof config === 'string') {\n            const method = rangeSlider[config];\n            if (method === undefined) {\n               throw new Error(`No method named \"${config}\"`);\n            }\n\n            method.call(rangeSlider, ...args);\n         }\n\n         rangeSlider.initialize();\n      });\n   }\n}\n\nif (typeof document !== 'undefined') {\n   const NO_CONFLICT = $.fn[NAME];\n   $.fn[NAME] = RangeSlider._jQuery;\n   $.fn[NAME].Constructor = RangeSlider;\n   $.fn[NAME].noConflict = () => {\n      $.fn[NAME] = NO_CONFLICT;\n      return RangeSlider._jQuery;\n   };\n}\n\nexport default RangeSlider;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT https://github.com/sitevision/envision/blob/master/LICENSE\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery';\n\nconst ARIA_SELECTED = 'aria-selected';\nconst ARIA_HIDDEN = 'aria-hidden';\nconst ENTER_KEY = 13;\nconst IDENTIFIER = 'env.tabs';\nconst IS_ACTIVE = 'env-tabs__link--active';\nconst NAME = 'envTabs';\nconst TAB_SELECTOR = '.env-tabs__link';\n\nconst DEFAULTS = {\n   active: 0,\n};\n\nclass Tabs {\n   constructor(element, config) {\n      this.el = element;\n      this.$el = $(element);\n      this.$tabs = this.$el.find(TAB_SELECTOR);\n      this.config = $.extend({}, DEFAULTS, config);\n      this.$panels = {};\n      this.$activeTab = undefined;\n\n      this._bindEvents();\n   }\n\n   initialize() {\n      this.$tabs.each((i, tab) => {\n         const $tab = $(tab);\n         const $panel = $($tab.attr('href'));\n         this.$panels[$tab.attr('id')] = $panel;\n\n         $tab.removeClass(IS_ACTIVE).attr(ARIA_SELECTED, false);\n\n         $panel.attr(ARIA_HIDDEN, true).hide();\n      });\n\n      this._setActive(this.$tabs.eq(this.config.active), false);\n   }\n\n   activate(index) {\n      this._setActive(this.$tabs.eq(index), true);\n   }\n\n   destroy() {\n      this.$tabs.off('click keydown');\n      this.$activeTab = undefined;\n      this.$tabs = undefined;\n      this.$panels = undefined;\n      this.$el.removeData(IDENTIFIER);\n   }\n\n   // Private\n\n   _bindEvents() {\n      this.$tabs.on('click', (e) => {\n         e.preventDefault();\n         this._setActive($(e.currentTarget), true);\n      });\n\n      this.$tabs.on('keydown', (e) => {\n         if (e.which === ENTER_KEY) {\n            this._setActive($(e.currentTarget), true);\n         }\n      });\n   }\n\n   _setActive($tab, initialized) {\n      this._resetActive();\n\n      $tab.addClass(IS_ACTIVE).attr(ARIA_SELECTED, true);\n\n      if (initialized) {\n         $tab.trigger('focus');\n      }\n\n      this._getPanelForTab($tab).attr(ARIA_HIDDEN, false).show();\n\n      this.$activeTab = $tab;\n   }\n\n   _getPanelForTab($tab) {\n      return this.$panels[$tab.attr('id')];\n   }\n\n   _resetActive() {\n      if (this.$activeTab) {\n         this.$activeTab.removeClass(IS_ACTIVE).attr(ARIA_SELECTED, false);\n\n         this._getPanelForTab(this.$activeTab).attr(ARIA_HIDDEN, true).hide();\n      }\n   }\n\n   static _jQuery(config, argument) {\n      return this.each(() => {\n         const $this = $(this);\n         let tabs = $this.data(IDENTIFIER);\n\n         if (!tabs) {\n            tabs = new Tabs(this, config);\n            $this.data(IDENTIFIER, tabs);\n            tabs.initialize();\n         } else if (typeof config === 'string') {\n            const method = tabs[config];\n\n            if (!method) {\n               throw new Error(`Invalid method name \"${config}\"`);\n            }\n\n            method.call(tabs, argument);\n         }\n      });\n   }\n}\n\nif (typeof document !== 'undefined') {\n   const NO_CONFLICT = $.fn[NAME];\n   $.fn[NAME] = Tabs._jQuery;\n   $.fn[NAME].Constructor = Tabs;\n   $.fn[NAME].noConflict = () => {\n      $.fn[NAME] = NO_CONFLICT;\n      return Tabs._jQuery;\n   };\n}\n\nexport default Tabs;\n"],"sourceRoot":""}