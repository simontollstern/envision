/*! For license information please see 42ed8d7c0476042c55dde9f1afb280bd206be5f4-29d9b3b4a2f40cc2f5ca.js.LICENSE.txt */
(self.webpackChunkenvision_docs=self.webpackChunkenvision_docs||[]).push([[536],{2161:function(e){var t="undefined"!=typeof Element,n="function"==typeof Map,i="function"==typeof Set,r="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(e,s){if(e===s)return!0;if(e&&s&&"object"==typeof e&&"object"==typeof s){if(e.constructor!==s.constructor)return!1;var a,l,c,u;if(Array.isArray(e)){if((a=e.length)!=s.length)return!1;for(l=a;0!=l--;)if(!o(e[l],s[l]))return!1;return!0}if(n&&e instanceof Map&&s instanceof Map){if(e.size!==s.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!s.has(l.value[0]))return!1;for(u=e.entries();!(l=u.next()).done;)if(!o(l.value[1],s.get(l.value[0])))return!1;return!0}if(i&&e instanceof Set&&s instanceof Set){if(e.size!==s.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!s.has(l.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(s)){if((a=e.length)!=s.length)return!1;for(l=a;0!=l--;)if(e[l]!==s[l])return!1;return!0}if(e.constructor===RegExp)return e.source===s.source&&e.flags===s.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===s.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===s.toString();if((a=(c=Object.keys(e)).length)!==Object.keys(s).length)return!1;for(l=a;0!=l--;)if(!Object.prototype.hasOwnProperty.call(s,c[l]))return!1;if(t&&e instanceof Element)return!1;for(l=a;0!=l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!o(e[c[l]],s[c[l]]))return!1;return!0}return e!=e&&s!=s}e.exports=function(e,t){try{return o(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},2773:function(e,t,n){"use strict";var i,r=n(2784),o=(i=r)&&"object"==typeof i&&"default"in i?i.default:i;function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=!("undefined"==typeof window||!window.document||!window.document.createElement);e.exports=function(e,t,n){if("function"!=typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!=typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if(void 0!==n&&"function"!=typeof n)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(i){if("function"!=typeof i)throw new Error("Expected WrappedComponent to be a React component.");var l,c=[];function u(){l=e(c.map((function(e){return e.props}))),d.canUseDOM?t(l):n&&(l=n(l))}var d=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.peek=function(){return l},r.rewind=function(){if(r.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=l;return l=void 0,c=[],e};var s=r.prototype;return s.UNSAFE_componentWillMount=function(){c.push(this),u()},s.componentDidUpdate=function(){u()},s.componentWillUnmount=function(){var e=c.indexOf(this);c.splice(e,1),u()},s.render=function(){return o.createElement(i,this.props)},r}(r.PureComponent);return s(d,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(i)+")"),s(d,"canUseDOM",a),d}}},3819:function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},1176:function(e,t,n){var i=n(5052);e.exports=function(e){if(!i(e))throw TypeError(String(e)+" is not an object");return e}},9540:function(e,t,n){var i=n(905),r=n(4237),o=n(3231),s=function(e){return function(t,n,s){var a,l=i(t),c=r(l.length),u=o(s,c);if(e&&n!=n){for(;c>u;)if((a=l[u++])!=a)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},7501:function(e,t,n){var i=n(5052),r=n(3718),o=n(95)("species");e.exports=function(e,t){var n;return r(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!r(n.prototype)?i(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},7079:function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},7081:function(e,t,n){var i=n(816),r=n(4826),o=n(7933),s=n(1787);e.exports=function(e,t){for(var n=r(t),a=s.f,l=o.f,c=0;c<n.length;c++){var u=n[c];i(e,u)||a(e,u,l(t,u))}}},5762:function(e,t,n){var i=n(7400),r=n(1787),o=n(5358);e.exports=i?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},5358:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},7400:function(e,t,n){var i=n(4229);e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},2635:function(e,t,n){var i=n(9859),r=n(5052),o=i.document,s=r(o)&&r(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},598:function(e,t,n){var i=n(1333);e.exports=i("navigator","userAgent")||""},6358:function(e,t,n){var i,r,o=n(9859),s=n(598),a=o.process,l=a&&a.versions,c=l&&l.v8;c?r=(i=c.split("."))[0]<4?1:i[0]+i[1]:s&&(!(i=s.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=s.match(/Chrome\/(\d+)/))&&(r=i[1]),e.exports=r&&+r},3837:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3103:function(e,t,n){var i=n(9859),r=n(7933).f,o=n(5762),s=n(7487),a=n(2079),l=n(7081),c=n(6541);e.exports=function(e,t){var n,u,d,f,p,h=e.target,v=e.global,m=e.stat;if(n=v?i:m?i[h]||a(h,{}):(i[h]||{}).prototype)for(u in t){if(f=t[u],d=e.noTargetGet?(p=r(n,u))&&p.value:n[u],!c(v?u:h+(m?".":"#")+u,e.forced)&&void 0!==d){if(typeof f==typeof d)continue;l(f,d)}(e.sham||d&&d.sham)&&o(f,"sham",!0),s(n,u,f,e)}}},4229:function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},4990:function(e,t,n){"use strict";var i=n(3718),r=n(4237),o=n(7636),s=function(e,t,n,a,l,c,u,d){for(var f,p=l,h=0,v=!!u&&o(u,d,3);h<a;){if(h in n){if(f=v?v(n[h],h,t):n[h],c>0&&i(f))p=s(e,t,f,r(f.length),p,c-1)-1;else{if(p>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[p]=f}p++}h++}return p};e.exports=s},7636:function(e,t,n){var i=n(3819);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},1333:function(e,t,n){var i=n(9276),r=n(9859),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(i[e])||o(r[e]):i[e]&&i[e][t]||r[e]&&r[e][t]}},9859:function(e,t,n){var i=function(e){return e&&e.Math==Math&&e};e.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},816:function(e,t,n){var i=n(2991),r={}.hasOwnProperty;e.exports=function(e,t){return r.call(i(e),t)}},5977:function(e){e.exports={}},4394:function(e,t,n){var i=n(7400),r=n(4229),o=n(2635);e.exports=!i&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},9337:function(e,t,n){var i=n(4229),r=n(7079),o="".split;e.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==r(e)?o.call(e,""):Object(e)}:Object},8511:function(e,t,n){var i=n(5353),r=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(e){return r.call(e)}),e.exports=i.inspectSource},6407:function(e,t,n){var i,r,o,s=n(8694),a=n(9859),l=n(5052),c=n(5762),u=n(816),d=n(5353),f=n(4399),p=n(5977),h="Object already initialized",v=a.WeakMap;if(s||d.state){var m=d.state||(d.state=new v),g=m.get,y=m.has,b=m.set;i=function(e,t){if(y.call(m,e))throw new TypeError(h);return t.facade=e,b.call(m,e,t),t},r=function(e){return g.call(m,e)||{}},o=function(e){return y.call(m,e)}}else{var w=f("state");p[w]=!0,i=function(e,t){if(u(e,w))throw new TypeError(h);return t.facade=e,c(e,w,t),t},r=function(e){return u(e,w)?e[w]:{}},o=function(e){return u(e,w)}}e.exports={set:i,get:r,has:o,enforce:function(e){return o(e)?r(e):i(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=r(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},3718:function(e,t,n){var i=n(7079);e.exports=Array.isArray||function(e){return"Array"==i(e)}},6541:function(e,t,n){var i=n(4229),r=/#|\.prototype\./,o=function(e,t){var n=a[s(e)];return n==c||n!=l&&("function"==typeof t?i(t):!!t)},s=o.normalize=function(e){return String(e).replace(r,".").toLowerCase()},a=o.data={},l=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},5052:function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},4231:function(e){e.exports=!1},3839:function(e,t,n){var i=n(6358),r=n(4229);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())||!Symbol.sham&&i&&i<41}))},8694:function(e,t,n){var i=n(9859),r=n(8511),o=i.WeakMap;e.exports="function"==typeof o&&/native code/.test(r(o))},1787:function(e,t,n){var i=n(7400),r=n(4394),o=n(1176),s=n(2066),a=Object.defineProperty;t.f=i?a:function(e,t,n){if(o(e),t=s(t,!0),o(n),r)try{return a(e,t,n)}catch(i){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},7933:function(e,t,n){var i=n(7400),r=n(9195),o=n(5358),s=n(905),a=n(2066),l=n(816),c=n(4394),u=Object.getOwnPropertyDescriptor;t.f=i?u:function(e,t){if(e=s(e),t=a(t,!0),c)try{return u(e,t)}catch(n){}if(l(e,t))return o(!r.f.call(e,t),e[t])}},8151:function(e,t,n){var i=n(140),r=n(3837).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},894:function(e,t){t.f=Object.getOwnPropertySymbols},140:function(e,t,n){var i=n(816),r=n(905),o=n(9540).indexOf,s=n(5977);e.exports=function(e,t){var n,a=r(e),l=0,c=[];for(n in a)!i(s,n)&&i(a,n)&&c.push(n);for(;t.length>l;)i(a,n=t[l++])&&(~o(c,n)||c.push(n));return c}},9195:function(e,t){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!n.call({1:2},1);t.f=r?function(e){var t=i(this,e);return!!t&&t.enumerable}:n},4826:function(e,t,n){var i=n(1333),r=n(8151),o=n(894),s=n(1176);e.exports=i("Reflect","ownKeys")||function(e){var t=r.f(s(e)),n=o.f;return n?t.concat(n(e)):t}},9276:function(e,t,n){var i=n(9859);e.exports=i},7487:function(e,t,n){var i=n(9859),r=n(5762),o=n(816),s=n(2079),a=n(8511),l=n(6407),c=l.get,u=l.enforce,d=String(String).split("String");(e.exports=function(e,t,n,a){var l,c=!!a&&!!a.unsafe,f=!!a&&!!a.enumerable,p=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof t||o(n,"name")||r(n,"name",t),(l=u(n)).source||(l.source=d.join("string"==typeof t?t:""))),e!==i?(c?!p&&e[t]&&(f=!0):delete e[t],f?e[t]=n:r(e,t,n)):f?e[t]=n:s(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||a(this)}))},8885:function(e){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},2079:function(e,t,n){var i=n(9859),r=n(5762);e.exports=function(e,t){try{r(i,e,t)}catch(n){i[e]=t}return t}},4399:function(e,t,n){var i=n(3036),r=n(1441),o=i("keys");e.exports=function(e){return o[e]||(o[e]=r(e))}},5353:function(e,t,n){var i=n(9859),r=n(2079),o="__core-js_shared__",s=i[o]||r(o,{});e.exports=s},3036:function(e,t,n){var i=n(4231),r=n(5353);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.13.0",mode:i?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},3231:function(e,t,n){var i=n(6051),r=Math.max,o=Math.min;e.exports=function(e,t){var n=i(e);return n<0?r(n+t,0):o(n,t)}},905:function(e,t,n){var i=n(9337),r=n(8885);e.exports=function(e){return i(r(e))}},6051:function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},4237:function(e,t,n){var i=n(6051),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},2991:function(e,t,n){var i=n(8885);e.exports=function(e){return Object(i(e))}},2066:function(e,t,n){var i=n(5052);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},1441:function(e){var t=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+n).toString(36)}},6969:function(e,t,n){var i=n(3839);e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},95:function(e,t,n){var i=n(9859),r=n(3036),o=n(816),s=n(1441),a=n(3839),l=n(6969),c=r("wks"),u=i.Symbol,d=l?u:u&&u.withoutSetter||s;e.exports=function(e){return o(c,e)&&(a||"string"==typeof c[e])||(a&&o(u,e)?c[e]=u[e]:c[e]=d("Symbol."+e)),c[e]}},7072:function(e,t,n){"use strict";var i=n(3103),r=n(4990),o=n(2991),s=n(4237),a=n(6051),l=n(7501);i({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=o(this),n=s(t.length),i=l(t,0);return i.length=r(i,t,t,n,0,void 0===e?1:a(e)),i}})},3976:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});var i=n(853),r=n.n(i),o=n(9040),s=n(2784),a=function(e){(0,s.useEffect)((function(){e.current.querySelectorAll(".gatsby-highlight[data-language=html]").forEach((function(e){var t=document.createElement("div");t.classList.add("code-example"),t.innerHTML=e.textContent,e.parentNode.insertBefore(t,e)})),r()(".example-popover").envPopover(),r()(".example-tabs").envTabs(),r()(".example-tabs1").envTabs(),r()(".example-tabs2").envTabs(),r()(".example-tabs3").envTabs(),r()(".example-range-slider").envRangeSlider({values:[20,70]});for(var t=document.querySelector(".env-form .example-tag-select"),n=0;t&&n<t.length;n++)o.select(t,{maxItems:6,create:!0,i18n:"en"});var i=document.querySelector("#example-tag-select-1");i&&o.select(i,{i18n:"en"});var s=document.querySelector("#example-tag-select-2");if(s){var a=o.select(s,{maxItems:5,clearButton:!0,create:!0,placeholder:"Select or add tags...",items:["fruit01"],i18n:"en",options:[{value:"fruit01",text:"Apple"},{value:"fruit02",text:"Banana"},{value:"fruit03",text:"Grapefruit"},{value:"fruit04",text:"Lemon"},{value:"fruit05",text:"Pear"}],onOptionAdd:function(e,t){console.log("Added:",e,t)}});document.getElementById("example-tag-select-2-add").addEventListener("click",(function(){var e=document.getElementById("example-tag-select-2-tag").value;a[0].addOptions({value:e,text:e}),a[0].addItem(e)}));var l=document.querySelector("#example-tag-select-3");l&&o.select(l,{maxItems:5,placeholder:"Select a Github repository...",i18n:"en",valueField:"url",labelField:"name",searchField:["name"],preload:!0,load:function(e,t){e=e||"sitevision";var n="https://api.github.com/search/repositories?q="+encodeURIComponent(e);fetch(n).then((function(e){return e.json()})).then((function(e){t(e.items)})).catch((function(){t()}))}})}}),[e])}},5118:function(e,t,n){"use strict";n.d(t,{Z:function(){return Oe}});var i,r,o,s,a=n(2784),l=n(3980),c=n.n(l),u=n(2773),d=n.n(u),f=n(2161),p=n.n(f),h=n(308),v=n.n(h),m="bodyAttributes",g="htmlAttributes",y="titleAttributes",b={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},w=(Object.keys(b).map((function(e){return b[e]})),"charset"),_="cssText",O="href",C="http-equiv",k="innerHTML",x="itemprop",E="name",S="property",T="rel",A="src",I="target",$={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},P="defaultTitle",j="defer",L="encodeSpecialCharacters",F="onChangeClientState",D="titleTemplate",N=Object.keys($).reduce((function(e,t){return e[$[t]]=t,e}),{}),M=[b.NOSCRIPT,b.SCRIPT,b.STYLE],V="data-react-helmet",q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},H=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},U=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},z=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},K=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!1===t?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Q=function(e){var t=J(e,b.TITLE),n=J(e,D);if(n&&t)return n.replace(/%s/g,(function(){return Array.isArray(t)?t.join(""):t}));var i=J(e,P);return t||i||void 0},W=function(e){return J(e,F)||function(){}},Y=function(e,t){return t.filter((function(t){return void 0!==t[e]})).map((function(t){return t[e]})).reduce((function(e,t){return R({},e,t)}),{})},G=function(e,t){return t.filter((function(e){return void 0!==e[b.BASE]})).map((function(e){return e[b.BASE]})).reverse().reduce((function(t,n){if(!t.length)for(var i=Object.keys(n),r=0;r<i.length;r++){var o=i[r].toLowerCase();if(-1!==e.indexOf(o)&&n[o])return t.concat(n)}return t}),[])},X=function(e,t,n){var i={};return n.filter((function(t){return!!Array.isArray(t[e])||(void 0!==t[e]&&ie("Helmet: "+e+' should be of type "Array". Instead found type "'+q(t[e])+'"'),!1)})).map((function(t){return t[e]})).reverse().reduce((function(e,n){var r={};n.filter((function(e){for(var n=void 0,o=Object.keys(e),s=0;s<o.length;s++){var a=o[s],l=a.toLowerCase();-1===t.indexOf(l)||n===T&&"canonical"===e[n].toLowerCase()||l===T&&"stylesheet"===e[l].toLowerCase()||(n=l),-1===t.indexOf(a)||a!==k&&a!==_&&a!==x||(n=a)}if(!n||!e[n])return!1;var c=e[n].toLowerCase();return i[n]||(i[n]={}),r[n]||(r[n]={}),!i[n][c]&&(r[n][c]=!0,!0)})).reverse().forEach((function(t){return e.push(t)}));for(var o=Object.keys(r),s=0;s<o.length;s++){var a=o[s],l=v()({},i[a],r[a]);i[a]=l}return e}),[]).reverse()},J=function(e,t){for(var n=e.length-1;n>=0;n--){var i=e[n];if(i.hasOwnProperty(t))return i[t]}return null},Z=(i=Date.now(),function(e){var t=Date.now();t-i>16?(i=t,e(t)):setTimeout((function(){Z(e)}),0)}),ee=function(e){return clearTimeout(e)},te="undefined"!=typeof window?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Z:n.g.requestAnimationFrame||Z,ne="undefined"!=typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||ee:n.g.cancelAnimationFrame||ee,ie=function(e){return console&&"function"==typeof console.warn&&console.warn(e)},re=null,oe=function(e,t){var n=e.baseTag,i=e.bodyAttributes,r=e.htmlAttributes,o=e.linkTags,s=e.metaTags,a=e.noscriptTags,l=e.onChangeClientState,c=e.scriptTags,u=e.styleTags,d=e.title,f=e.titleAttributes;le(b.BODY,i),le(b.HTML,r),ae(d,f);var p={baseTag:ce(b.BASE,n),linkTags:ce(b.LINK,o),metaTags:ce(b.META,s),noscriptTags:ce(b.NOSCRIPT,a),scriptTags:ce(b.SCRIPT,c),styleTags:ce(b.STYLE,u)},h={},v={};Object.keys(p).forEach((function(e){var t=p[e],n=t.newTags,i=t.oldTags;n.length&&(h[e]=n),i.length&&(v[e]=p[e].oldTags)})),t&&t(),l(e,h,v)},se=function(e){return Array.isArray(e)?e.join(""):e},ae=function(e,t){void 0!==e&&document.title!==e&&(document.title=se(e)),le(b.TITLE,t)},le=function(e,t){var n=document.getElementsByTagName(e)[0];if(n){for(var i=n.getAttribute(V),r=i?i.split(","):[],o=[].concat(r),s=Object.keys(t),a=0;a<s.length;a++){var l=s[a],c=t[l]||"";n.getAttribute(l)!==c&&n.setAttribute(l,c),-1===r.indexOf(l)&&r.push(l);var u=o.indexOf(l);-1!==u&&o.splice(u,1)}for(var d=o.length-1;d>=0;d--)n.removeAttribute(o[d]);r.length===o.length?n.removeAttribute(V):n.getAttribute(V)!==s.join(",")&&n.setAttribute(V,s.join(","))}},ce=function(e,t){var n=document.head||document.querySelector(b.HEAD),i=n.querySelectorAll(e+"["+"data-react-helmet]"),r=Array.prototype.slice.call(i),o=[],s=void 0;return t&&t.length&&t.forEach((function(t){var n=document.createElement(e);for(var i in t)if(t.hasOwnProperty(i))if(i===k)n.innerHTML=t.innerHTML;else if(i===_)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{var a=void 0===t[i]?"":t[i];n.setAttribute(i,a)}n.setAttribute(V,"true"),r.some((function(e,t){return s=t,n.isEqualNode(e)}))?r.splice(s,1):o.push(n)})),r.forEach((function(e){return e.parentNode.removeChild(e)})),o.forEach((function(e){return n.appendChild(e)})),{oldTags:r,newTags:o}},ue=function(e){return Object.keys(e).reduce((function(t,n){var i=void 0!==e[n]?n+'="'+e[n]+'"':""+n;return t?t+" "+i:i}),"")},de=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,n){return t[$[n]||n]=e[n],t}),t)},fe=function(e,t,n){switch(e){case b.TITLE:return{toComponent:function(){return e=t.title,n=t.titleAttributes,(i={key:e})[V]=!0,r=de(n,i),[a.createElement(b.TITLE,r,e)];var e,n,i,r},toString:function(){return function(e,t,n,i){var r=ue(n),o=se(t);return r?"<"+e+' data-react-helmet="true" '+r+">"+K(o,i)+"</"+e+">":"<"+e+' data-react-helmet="true">'+K(o,i)+"</"+e+">"}(e,t.title,t.titleAttributes,n)}};case m:case g:return{toComponent:function(){return de(t)},toString:function(){return ue(t)}};default:return{toComponent:function(){return function(e,t){return t.map((function(t,n){var i,r=((i={key:n})[V]=!0,i);return Object.keys(t).forEach((function(e){var n=$[e]||e;if(n===k||n===_){var i=t.innerHTML||t.cssText;r.dangerouslySetInnerHTML={__html:i}}else r[n]=t[e]})),a.createElement(e,r)}))}(e,t)},toString:function(){return function(e,t,n){return t.reduce((function(t,i){var r=Object.keys(i).filter((function(e){return!(e===k||e===_)})).reduce((function(e,t){var r=void 0===i[t]?t:t+'="'+K(i[t],n)+'"';return e?e+" "+r:r}),""),o=i.innerHTML||i.cssText||"",s=-1===M.indexOf(e);return t+"<"+e+' data-react-helmet="true" '+r+(s?"/>":">"+o+"</"+e+">")}),"")}(e,t,n)}}}},pe=function(e){var t=e.baseTag,n=e.bodyAttributes,i=e.encode,r=e.htmlAttributes,o=e.linkTags,s=e.metaTags,a=e.noscriptTags,l=e.scriptTags,c=e.styleTags,u=e.title,d=void 0===u?"":u,f=e.titleAttributes;return{base:fe(b.BASE,t,i),bodyAttributes:fe(m,n,i),htmlAttributes:fe(g,r,i),link:fe(b.LINK,o,i),meta:fe(b.META,s,i),noscript:fe(b.NOSCRIPT,a,i),script:fe(b.SCRIPT,l,i),style:fe(b.STYLE,c,i),title:fe(b.TITLE,{title:d,titleAttributes:f},i)}},he=d()((function(e){return{baseTag:G([O,I],e),bodyAttributes:Y(m,e),defer:J(e,j),encode:J(e,L),htmlAttributes:Y(g,e),linkTags:X(b.LINK,[T,O],e),metaTags:X(b.META,[E,w,C,S,x],e),noscriptTags:X(b.NOSCRIPT,[k],e),onChangeClientState:W(e),scriptTags:X(b.SCRIPT,[A,k],e),styleTags:X(b.STYLE,[_],e),title:Q(e),titleAttributes:Y(y,e)}}),(function(e){re&&ne(re),e.defer?re=te((function(){oe(e,(function(){re=null}))})):(oe(e),re=null)}),pe)((function(){return null})),ve=(r=he,s=o=function(e){function t(){return B(this,t),z(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldComponentUpdate=function(e){return!p()(this.props,e)},t.prototype.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case b.SCRIPT:case b.NOSCRIPT:return{innerHTML:t};case b.STYLE:return{cssText:t}}throw new Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},t.prototype.flattenArrayTypeChildren=function(e){var t,n=e.child,i=e.arrayTypeChildren,r=e.newChildProps,o=e.nestedChildren;return R({},i,((t={})[n.type]=[].concat(i[n.type]||[],[R({},r,this.mapNestedChildrenToProps(n,o))]),t))},t.prototype.mapObjectTypeChildren=function(e){var t,n,i=e.child,r=e.newProps,o=e.newChildProps,s=e.nestedChildren;switch(i.type){case b.TITLE:return R({},r,((t={})[i.type]=s,t.titleAttributes=R({},o),t));case b.BODY:return R({},r,{bodyAttributes:R({},o)});case b.HTML:return R({},r,{htmlAttributes:R({},o)})}return R({},r,((n={})[i.type]=R({},o),n))},t.prototype.mapArrayTypeChildrenToProps=function(e,t){var n=R({},t);return Object.keys(e).forEach((function(t){var i;n=R({},n,((i={})[t]=e[t],i))})),n},t.prototype.warnOnInvalidChildren=function(e,t){return!0},t.prototype.mapChildrenToProps=function(e,t){var n=this,i={};return a.Children.forEach(e,(function(e){if(e&&e.props){var r=e.props,o=r.children,s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,n){return t[N[n]||n]=e[n],t}),t)}(U(r,["children"]));switch(n.warnOnInvalidChildren(e,o),e.type){case b.LINK:case b.META:case b.NOSCRIPT:case b.SCRIPT:case b.STYLE:i=n.flattenArrayTypeChildren({child:e,arrayTypeChildren:i,newChildProps:s,nestedChildren:o});break;default:t=n.mapObjectTypeChildren({child:e,newProps:t,newChildProps:s,nestedChildren:o})}}})),t=this.mapArrayTypeChildrenToProps(i,t)},t.prototype.render=function(){var e=this.props,t=e.children,n=U(e,["children"]),i=R({},n);return t&&(i=this.mapChildrenToProps(t,i)),a.createElement(r,i)},H(t,null,[{key:"canUseDOM",set:function(e){r.canUseDOM=e}}]),t}(a.Component),o.propTypes={base:c().object,bodyAttributes:c().object,children:c().oneOfType([c().arrayOf(c().node),c().node]),defaultTitle:c().string,defer:c().bool,encodeSpecialCharacters:c().bool,htmlAttributes:c().object,link:c().arrayOf(c().object),meta:c().arrayOf(c().object),noscript:c().arrayOf(c().object),onChangeClientState:c().func,script:c().arrayOf(c().object),style:c().arrayOf(c().object),title:c().string,titleAttributes:c().object,titleTemplate:c().string},o.defaultProps={defer:!0,encodeSpecialCharacters:!0},o.peek=r.peek,o.rewind=function(){var e=r.rewind();return e||(e=pe({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),e},s);ve.renderStatic=ve.rewind;var me=ve;var ge=n(8447),ye=function(e){var t=e.to,n=e.children,i=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,["to","children"]);return/^http/.test(t)?a.createElement("a",{href:t},n):a.createElement(ge.Link,Object.assign({to:t},i),n)},be=function(e){var t=e.title,n=e.menuItems;return a.createElement(a.Fragment,null,a.createElement(me,null,a.createElement("html",{lang:"en",className:"sv-js"}),a.createElement("meta",{charset:"utf-8"}),a.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),a.createElement("title",null,t+" · Envision by Sitevision"),a.createElement("link",{rel:"icon",type:"image/png",href:"/images/envision_logo.png",sizes:"32x32"})),a.createElement("div",{className:"sv-header"},a.createElement("header",{className:"header"},a.createElement("div",{className:"logo"},a.createElement("a",{href:"https://www.sitevision.se"},a.createElement("img",{src:"/images/sitevision-logo.svg",alt:"Sitevision"}))),a.createElement("nav",{className:"header-nav"},a.createElement("ul",{className:"env-nav env-nav--menubar env-nav--border",role:"menubar"},n.map((function(e){var t=e.label,n=e.to;return a.createElement("li",{className:"env-nav__item",key:t,role:"menuitem"},a.createElement(ye,{to:n,activeClassName:"active"},t))})))))))},we=function(e){var t=e.categories,n=e.menuItems;return a.createElement("nav",{className:"sidenav"},t.map((function(e){var t=e.title,i=e.slug;return a.createElement("div",{key:i},a.createElement(ye,{to:n[i][0].slug},t),a.createElement("ul",null,n[i].map((function(e){var t=e.id,n=e.title,i=e.slug;return a.createElement("li",{key:t},a.createElement(ye,{to:i,className:"env-link-secondary",activeClassName:"active"},n))}))))})),a.createElement("div",{className:"theme-picker env-text"},a.createElement("a",{href:"/theme/settings/",className:"env-link-secondary"},"Site theme settings")))},_e=function(e){var t=e.menuItems;return a.createElement(a.Fragment,null,a.createElement("div",{className:"footer-wrapper"},a.createElement("footer",{className:"footer"},a.createElement("a",{href:"https://www.sitevision.se/"},"© Sitevision"),a.createElement("nav",{className:"footer-nav"},a.createElement("ul",{className:"env-nav env-nav--menubar env-nav--border",role:"menubar"},t.map((function(e){var t=e.label,n=e.to;return a.createElement("li",{className:"env-nav__item",key:t,role:"menuitem"},a.createElement(ye,{to:n,activeClassName:"active"},t))})))))),a.createElement(me,null,a.createElement("script",null,"var _paq = _paq || [];\n  /* tracker methods like \"setCustomDimension\" should be called before \"trackPageView\" */\n  _paq.push([\"setDoNotTrack\", true]);\n  _paq.push(['trackPageView']);\n  _paq.push(['enableLinkTracking']);\n  (function() {\n    var u=\"//uistats.sitevision.se/\";\n    _paq.push(['setTrackerUrl', u+'piwik.php']);\n    _paq.push(['setSiteId', '8']);\n    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];\n    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);\n  })();")))},Oe=function(e){var t,n=e.title,i=e.topMenuItems,r=e.menuCategories,o=e.menuItems,s=e.children;return a.createElement(a.Fragment,null,a.createElement(be,{title:n,menuItems:i}),a.createElement("div",{className:"main-container"},a.createElement("main",null,a.createElement("h1",{className:"main-heading"},n),s),a.createElement(we,{categories:r,menuItems:(t=o,t.map((function(e){var t=e.node;return{id:t.id,title:t.frontmatter.title,slug:t.fields.slug}})).reduce((function(e,t){var n=t.slug.split("/").filter((function(e){return e})),i=e[n[0]];return i||(i=e[n[0]]=[]),i.push(t),e}),{}))})),a.createElement(_e,{menuItems:i}))}},9040:function(e,t,n){var i,r=n(6637),o=n(4450);function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}e.exports=(i=n(853),function(){var e={807:function(){!function(){"use strict";if("undefined"!=typeof window&&window.addEventListener){var e,t,n,i=Object.create(null),r=function(){clearTimeout(t),t=setTimeout(e,100)},o=function(){},s=function(e){function t(e){var t;return void 0!==e.protocol?t=e:(t=document.createElement("a")).href=e,t.protocol.replace(/:/g,"")+t.host}var n,i,r;return window.XMLHttpRequest&&(n=new XMLHttpRequest,i=t(location),r=t(e),n=void 0===n.withCredentials&&""!==r&&r!==i?XDomainRequest||void 0:XMLHttpRequest),n},a="http://www.w3.org/1999/xlink";e=function(){var e,t,n,l,c,u,d,f,p,h,v=0;function m(){var e;0==(v-=1)&&(o(),window.addEventListener("resize",r,!1),window.addEventListener("orientationchange",r,!1),window.MutationObserver?((e=new MutationObserver(r)).observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0}),o=function(){try{e.disconnect(),window.removeEventListener("resize",r,!1),window.removeEventListener("orientationchange",r,!1)}catch(e){}}):(document.documentElement.addEventListener("DOMSubtreeModified",r,!1),o=function(){document.documentElement.removeEventListener("DOMSubtreeModified",r,!1),window.removeEventListener("resize",r,!1),window.removeEventListener("orientationchange",r,!1)}))}function g(e){return function(){!0!==i[e.base]&&(e.useEl.setAttributeNS(a,"xlink:href","#"+e.hash),e.useEl.hasAttribute("href")&&e.useEl.setAttribute("href","#"+e.hash))}}function y(e){return function(){var t,n=document.body,i=document.createElement("x");e.onload=null,i.innerHTML=e.responseText,(t=i.getElementsByTagName("svg")[0])&&(t.setAttribute("aria-hidden","true"),t.style.position="absolute",t.style.width=0,t.style.height=0,t.style.overflow="hidden",n.insertBefore(t,n.firstChild)),m()}}function b(e){return function(){e.onerror=null,e.ontimeout=null,m()}}for(o(),p=document.getElementsByTagName("use"),c=0;c<p.length;c+=1){try{t=p[c].getBoundingClientRect()}catch(e){t=!1}e=(f=(l=p[c].getAttribute("href")||p[c].getAttributeNS(a,"href")||p[c].getAttribute("xlink:href"))&&l.split?l.split("#"):["",""])[0],n=f[1],u=t&&0===t.left&&0===t.right&&0===t.top&&0===t.bottom,t&&0===t.width&&0===t.height&&!u?(p[c].hasAttribute("href")&&p[c].setAttributeNS(a,"xlink:href",l),e.length&&(!0!==(h=i[e])&&setTimeout(g({useEl:p[c],base:e,hash:n}),0),void 0===h&&void 0!==(d=s(e))&&(h=new d,i[e]=h,h.onload=y(h),h.onerror=b(h),h.ontimeout=b(h),h.open("GET",e),h.send(),v+=1))):u?e.length&&i[e]&&setTimeout(g({useEl:p[c],base:e,hash:n}),0):void 0===i[e]?i[e]=!0:i[e].onload&&(i[e].abort(),delete i[e].onload,i[e]=!0)}p="",v+=1,m()},n=function(){window.removeEventListener("load",n,!1),t=setTimeout(e,0)},"complete"!==document.readyState?window.addEventListener("load",n,!1):n()}}()},592:function(e){e.exports=function(){"use strict";function e(e,t){e.split(/\s+/).forEach((function(e){t(e)}))}var t=function(){function t(){this._events={}}var n=t.prototype;return n.on=function(t,n){var i=this;e(t,(function(e){i._events[e]=i._events[e]||[],i._events[e].push(n)}))},n.off=function(t,n){var i=this,r=arguments.length;0!==r?e(t,(function(e){if(1===r)return delete i._events[e];e in i._events!=0&&i._events[e].splice(i._events[e].indexOf(n),1)})):this._events={}},n.trigger=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var o=this;e(t,(function(e){if(e in o._events!=0)for(var t,n=s(o._events[e]);!(t=n()).done;)t.value.apply(o,i)}))},t}();function n(e){return e.plugins={},function(t){function n(){return t.apply(this,arguments)||this}o(n,t),n.define=function(t,n){e.plugins[t]={name:t,fn:n}};var i=n.prototype;return i.initializePlugins=function(e){var t,n,i,r=this,o=[];if(r.plugins={names:[],settings:{},requested:{},loaded:{}},Array.isArray(e))for(t=0,n=e.length;t<n;t++)"string"==typeof e[t]?o.push(e[t]):(r.plugins.settings[e[t].name]=e[t].options,o.push(e[t].name));else if(e)for(i in e)e.hasOwnProperty(i)&&(r.plugins.settings[i]=e[i],o.push(i));for(;o.length;)r.require(o.shift())},i.loadPlugin=function(t){var n=this,i=n.plugins,r=e.plugins[t];if(!e.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');i.requested[t]=!0,i.loaded[t]=r.fn.apply(n,[n.plugins.settings[t]||{}]),i.names.push(t)},i.require=function(e){var t=this,n=t.plugins;if(!t.plugins.loaded.hasOwnProperty(e)){if(n.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');t.loadPlugin(e)}return n.loaded[e]},n}(e)}var i=[[67,67],[160,160],[192,438],[452,652],[961,961],[1019,1019],[1083,1083],[1281,1289],[1984,1984],[5095,5095],[7429,7441],[7545,7549],[7680,7935],[8580,8580],[9398,9449],[11360,11391],[42792,42793],[42802,42851],[42873,42897],[42912,42922],[64256,64260],[65313,65338],[65345,65370]];function a(e){return e.normalize("NFD").replace(/[\u0300-\u036F]/g,"").normalize("NFKD").toLowerCase()}function l(){var e={"l·":"l","ʼn":"n","æ":"ae","ø":"o","aʾ":"a","dž":"dz"},t={};return i.forEach((function(n){for(var i=n[0];i<=n[1];i++){var r=String.fromCharCode(i),o=r.normalize("NFD").replace(/[\u0300-\u036F]/g,"").normalize("NFKD");o!=r&&((o=o.toLowerCase())in e&&(o=e[o]),o in t||(t[o]=o+o.toUpperCase()),t[o]+=r)}})),t}var c=null;function u(e){for(var t in null===c&&(c=l()),c)c.hasOwnProperty(t)&&(e=e.replace(new RegExp(t,"g"),"["+c[t]+"]"));return e}function d(e,t){if(e)return e[t]}function f(e,t){if(e){for(var n=t.split(".");n.length&&(e=e[n.shift()]););return e}}function p(e,t,n){var i,r;return e?-1===(r=(e+="").search(t.regex))?0:(i=t.string.length/e.length,0===r&&(i+=.5),i*n):0}function h(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function v(e,t){var n=e[t];n&&!Array.isArray(n)&&(e[t]=[n])}function m(e,t){if(Array.isArray(e))e.forEach(t);else for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function g(e,t){return"number"==typeof e&&"number"==typeof t?e>t?1:e<t?-1:0:(e=a(e+"").toLowerCase())>(t=a(t+"").toLowerCase())?1:t>e?-1:0}var y=function(){function e(e,t){this.items=void 0,this.settings=void 0,this.items=e,this.settings=t||{diacritics:!0}}var t=e.prototype;return t.tokenize=function(e,t,n){var i=this;if(!e||!e.length)return[];var r,o=[],s=e.split(/\s+/);return n&&(r=new RegExp("^("+Object.keys(n).map(h).join("|")+"):(.*)$")),s.forEach((function(e){var n,s=null,a=null;r&&(n=e.match(r))&&(s=n[1],e=n[2]),e.length>0&&(a=h(e),i.settings.diacritics&&(a=u(a)),t&&(a="\\b"+a),a=new RegExp(a,"i")),o.push({string:e,regex:a,field:s})})),o},t.getScoreFunction=function(e,t){var n=this.prepareSearch(e,t);return this._getScoreFunction(n)},t._getScoreFunction=function(e){var t=e.tokens,n=t.length;if(!n)return function(){return 0};var i=e.options.fields,r=e.weights,o=i.length,s=e.getAttrFn;if(!o)return function(){return 1};var a=1===o?function(e,t){var n=i[0].field;return p(s(t,n),e,r[n])}:function(e,t){var n=0;if(e.field){var i=s(t,e.field);!e.regex&&i?n+=1/o:n+=p(i,e,1)}else m(r,(function(i,r){n+=p(s(t,r),e,i)}));return n/o};return 1===n?function(e){return a(t[0],e)}:"and"===e.options.conjunction?function(e){for(var i,r=0,o=0;r<n;r++){if((i=a(t[r],e))<=0)return 0;o+=i}return o/n}:function(e){var i=0;return m(t,(function(t){i+=a(t,e)})),i/n}},t.getSortFunction=function(e,t){var n=this.prepareSearch(e,t);return this._getSortFunction(n)},t._getSortFunction=function(e){var t,n,i,r,o,s,a=this,l=e.options,c=!e.query&&l.sort_empty||l.sort,u=[],d=[],f=function(t,n){return"$score"===t?n.score:e.getAttrFn(a.items[n.id],t)};if(c)for(t=0,n=c.length;t<n;t++)(e.query||"$score"!==c[t].field)&&u.push(c[t]);if(e.query){for(s=!0,t=0,n=u.length;t<n;t++)if("$score"===u[t].field){s=!1;break}s&&u.unshift({field:"$score",direction:"desc"})}else for(t=0,n=u.length;t<n;t++)if("$score"===u[t].field){u.splice(t,1);break}for(t=0,n=u.length;t<n;t++)d.push("desc"===u[t].direction?-1:1);return(r=u.length)?1===r?(i=u[0].field,o=d[0],function(e,t){return o*g(f(i,e),f(i,t))}):function(e,t){var n,i,o;for(n=0;n<r;n++)if(o=u[n].field,i=d[n]*g(f(o,e),f(o,t)))return i;return 0}:null},t.prepareSearch=function(e,t){var n={},i=Object.assign({},t);if(v(i,"sort"),v(i,"sort_empty"),i.fields){if(v(i,"fields"),Array.isArray(i.fields)&&"object"!=typeof i.fields[0]){var r=[];i.fields.forEach((function(e){r.push({field:e})})),i.fields=r}i.fields.forEach((function(e){n[e.field]="weight"in e?e.weight:1}))}return{options:i,query:e=a(e+"").toLowerCase().trim(),tokens:this.tokenize(e,i.respect_word_boundaries,n),total:0,items:[],weights:n,getAttrFn:i.nesting?f:d}},t.search=function(e,t){var n,i,r,o,s=this;return i=this.prepareSearch(e,t),t=i.options,e=i.query,o=t.score||s._getScoreFunction(i),e.length?m(s.items,(function(e,r){n=o(e),(!1===t.filter||n>0)&&i.items.push({score:n,id:r})})):m(s.items,(function(e,t){i.items.push({score:1,id:t})})),(r=s._getSortFunction(i))&&i.items.sort(r),i.total=i.items.length,"number"==typeof t.limit&&(i.items=i.items.slice(0,t.limit)),i},e}();function b(e,t){if(null!==t){if("string"==typeof t){if(!t.length)return;t=new RegExp(t,"i")}!function e(n){var i=0;if(3===n.nodeType){var r=n.data.search(t);if(r>=0&&n.data.length>0){var o=n.data.match(t),s=document.createElement("span");s.className="highlight";var a=n.splitText(r);a.splitText(o[0].length);var l=a.cloneNode(!0);s.appendChild(l),a.parentNode.replaceChild(s,a),i=1}}else if(1===n.nodeType&&n.childNodes&&!/(script|style)/i.test(n.tagName)&&("highlight"!==n.className||"SPAN"!==n.tagName))for(var c=0;c<n.childNodes.length;++c)c+=e(n.childNodes[c]);return i}(e)}}function w(e){var t=document.querySelectorAll("span.highlight");Array.prototype.forEach.call(t,(function(e,t){var n=e.parentNode;n.replaceChild(e.firstChild,e),n.normalize()}))}var _=65,O=13,C=27,k=37,x=38,E=39,S=40,T=8,A=46,I=9,P="undefined"!=typeof navigator&&/Mac/.test(navigator.userAgent)?"metaKey":"ctrlKey",j={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,closeAfterSelect:!1,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-control",inputClass:"ts-input",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:null,copyClassesToDropdown:!0,placeholder:null,hidePlaceholder:null,shouldLoad:function(e){return e.length>0},render:{}};function L(e){return null==e?null:"boolean"==typeof e?e?"1":"0":e+""}function F(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function D(e,t){var n;return function(i,r){var o=this;n&&(o.loading=Math.max(o.loading-1,0)),clearTimeout(n),n=setTimeout((function(){n=null,o.loadedSearches[i]=!0,e.call(o,i,r)}),t)}}function N(e,t,n){var i,r=e.trigger,o={};for(i in e.trigger=function(){var n=arguments[0];if(-1===t.indexOf(n))return r.apply(e,arguments);o[n]=arguments},n.apply(e,[]),e.trigger=r,o)r.apply(e,o[i])}function M(e){return{start:e.selectionStart,length:e.selectionEnd-e.selectionStart}}function V(e,t){void 0===t&&(t=!1),e&&(e.preventDefault(),t&&e.stopPropagation())}function q(e,t,n,i){e.addEventListener(t,n,i)}function B(e,t){return!!t&&!!t[e]&&1==(t.altKey?1:0)+(t.ctrlKey?1:0)+(t.shiftKey?1:0)+(t.metaKey?1:0)}function H(e,t){return e.getAttribute("id")||(e.setAttribute("id",t),t)}function R(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/'/g,"\\'")}function U(e,t){var n=Object.assign({},j,t),i=n.dataAttr,r=n.labelField,o=n.valueField,a=n.disabledField,l=n.optgroupField,c=n.optgroupLabelField,u=n.optgroupValueField,d=e.tagName.toLowerCase(),f=e.getAttribute("placeholder")||e.getAttribute("data-placeholder");if(!f&&!n.allowEmptyOption){var p=e.querySelector('option[value=""]');p&&(f=p.textContent)}var h={placeholder:f,options:[],optgroups:[],items:[],maxItems:null},v=function(){var t,a,l=e.getAttribute(i);if(l){h.options=JSON.parse(l);for(var c,u=s(h.options);!(c=u()).done;){var d=c.value;h.items.push(d[o])}}else{var f=e.value.trim()||"";if(!n.allowEmptyOption&&!f.length)return;for(var p,v=s(t=f.split(n.delimiter));!(p=v()).done;){var m=p.value;(a={})[r]=m,a[o]=m,h.options.push(a)}h.items=t}};return"select"===d?function(){var t,d=h.options,f={},p=1,v=function(e){var t=Object.assign({},e.dataset),n=i&&t[i];return"string"==typeof n&&n.length&&(t=Object.assign(t,JSON.parse(n))),t},m=function(e,t){var i=L(e.value);if(i||n.allowEmptyOption)if(f.hasOwnProperty(i)){if(t){var s=f[i][l];s?Array.isArray(s)?s.push(t):f[i][l]=[s,t]:f[i][l]=t}}else{var c=v(e);c[r]=c[r]||e.textContent,c[o]=c[o]||i,c[a]=c[a]||e.disabled,c[l]=c[l]||t,c.$option=e,f[i]=c,d.push(c),e.selected&&h.items.push(i)}},g=function(e){var t,n;(n=v(e))[c]=n[c]||e.getAttribute("label")||"",n[u]=n[u]||p++,n[a]=n[a]||e.disabled,h.optgroups.push(n),t=n[u];for(var i,r=s(e.children);!(i=r()).done;){var o=i.value;m(o,t)}};h.maxItems=e.hasAttribute("multiple")?null:1;for(var y,b=s(e.children);!(y=b()).done;){var w=y.value;"optgroup"===(t=w.tagName.toLowerCase())?g(w):"option"===t&&m(w)}}():v(),Object.assign({},j,h,t)}function z(e){if(e.jquery)return e[0];if(e instanceof HTMLElement)return e;if(e.indexOf("<")>-1){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild}return document.querySelector(e)}function K(e){return e.replace(/['"\\]/g,"\\$&")}function Q(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!1),e.dispatchEvent(n)}function W(e,t){Object.assign(e.style,t)}function Y(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=X(n);(e=J(e)).map((function(e){r.map((function(t){e.classList.add(t)}))}))}function G(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=X(n);(e=J(e)).map((function(e){r.map((function(t){e.classList.remove(t)}))}))}function X(e){for(var t,n=[],i=s(e);!(t=i()).done;){var r=t.value;"string"==typeof r&&(r=r.trim().split(/[\11\12\14\15\40]/)),Array.isArray(r)&&(n=n.concat(r))}return n.filter(Boolean)}function J(e){return Array.isArray(e)||(e=[e]),e}function Z(e,t,n){if(!n||n.contains(e))for(;e&&e.matches;){if(e.matches(t))return e;e=e.parentNode}}function ee(e,t){return t>0?e[e.length-1]:e[0]}function te(e){return 0===Object.keys(e).length}function ne(e,t){if(!e)return-1;t=t||e.nodeName;for(var n=0;e=e.previousElementSibling;)e.matches(t)&&n++;return n}function ie(e,t){for(var n in t)e.setAttribute(n,t[n])}var re=0,oe=function(e){function t(t,n){var i,o;(i=e.call(this)||this).control_input=void 0,i.wrapper=void 0,i.dropdown=void 0,i.control=void 0,i.dropdown_content=void 0,i.order=0,i.settings=void 0,i.input=void 0,i.tabIndex=void 0,i.is_select_tag=void 0,i.rtl=void 0,i.inputId=void 0,i._destroy=void 0,i.sifter=void 0,i.tab_key=!1,i.isOpen=!1,i.isDisabled=!1,i.isRequired=void 0,i.isInvalid=!1,i.isLocked=!1,i.isFocused=!1,i.isInputHidden=!1,i.isSetup=!1,i.ignoreFocus=!1,i.hasOptions=!1,i.currentResults=null,i.lastValue="",i.caretPos=0,i.loading=0,i.loadedSearches={},i.activeOption=null,i.activeItems=[],i.optgroups={},i.options={},i.userOptions={},i.items=[],i.renderCache={item:{},option:{}},re++;var s=z(t);if(s.tomselect)throw new Error("Tom Select already initialized on this element");s.tomselect=r(i),o=(window.getComputedStyle&&window.getComputedStyle(s,null)).getPropertyValue("direction"),i.settings=U(s,n),i.input=s,i.tabIndex=s.tabIndex||0,i.is_select_tag="select"===s.tagName.toLowerCase(),i.rtl=/rtl/i.test(o),i.inputId=H(s,"tomselect-"+re),i.isRequired=s.required,i.sifter=new y(i.options,{diacritics:i.settings.diacritics}),i.setupOptions(i.settings.options,i.settings.optgroups),delete i.settings.optgroups,delete i.settings.options,i.settings.mode=i.settings.mode||(1===i.settings.maxItems?"single":"multi"),"boolean"!=typeof i.settings.hideSelected&&(i.settings.hideSelected="multi"===i.settings.mode),"boolean"!=typeof i.settings.hidePlaceholder&&(i.settings.hidePlaceholder="multi"!==i.settings.mode);var a=i.settings.createFilter;return"function"!=typeof a&&("string"==typeof a&&(a=new RegExp(a)),a instanceof RegExp?i.settings.createFilter=function(e){return a.test(e)}:i.settings.createFilter=function(){return!0}),i.initializePlugins(i.settings.plugins),i.setupCallbacks(),i.setupTemplates(),i.setup(),i}o(t,e);var n=t.prototype;return n.setup=function(){var e,t,n,i,r,o,s,a,l,c=this,u=c.settings,d=c.input,f={passive:!0},p=c.inputId+"-ts-dropdown";if(o=c.settings.mode,s=d.getAttribute("class")||"",Y(e=z("<div>"),u.wrapperClass,s,o),Y(t=z('<div class="items">'),u.inputClass),e.append(t),Y(i=c.render("dropdown"),u.dropdownClass,o),Y(r=z('<div role="listbox" id="'+p+'" tabindex="-1">'),u.dropdownContentClass),i.append(r),z(u.dropdownParent||e).appendChild(i),u.controlInput)n=z(u.controlInput);else{n=z('<input type="text" autocomplete="off" size="1" />');for(var v=0,m=["autocorrect","autocapitalize","autocomplete"];v<m.length;v++){var g,y=m[v];d.getAttribute(y)&&ie(n,((g={})[y]=d.getAttribute(y),g))}}u.controlInput||(n.tabIndex=d.disabled?-1:c.tabIndex,t.appendChild(n)),ie(n,{role:"combobox",haspopup:"listbox","aria-expanded":"false","aria-controls":p}),l=H(n,c.inputId+"-tomselected");var b="label[for='"+K(c.inputId)+"']",w=document.querySelector(b);w&&(ie(w,{for:l}),ie(r,{"aria-labelledby":H(w,c.inputId+"-ts-label")})),c.settings.copyClassesToDropdown&&Y(i,s),e.style.width=d.style.width,c.plugins.names.length&&(a="plugin-"+c.plugins.names.join(" plugin-"),Y([e,i],a)),(null===u.maxItems||u.maxItems>1)&&c.is_select_tag&&ie(d,{multiple:"multiple"}),c.settings.placeholder&&ie(n,{placeholder:u.placeholder}),!c.settings.splitOn&&c.settings.delimiter&&(c.settings.splitOn=new RegExp("\\s*"+h(c.settings.delimiter)+"+\\s*")),this.settings.load&&this.settings.loadThrottle&&(this.settings.load=D(this.settings.load,this.settings.loadThrottle)),c.control=t,c.control_input=n,c.wrapper=e,c.dropdown=i,c.dropdown_content=r,c.control_input.type=d.type,q(i,"click",(function(e){var t=Z(e.target,"[data-selectable]");t&&c.onOptionSelect(e,t)})),q(t,"click",(function(e){var i=Z(e.target,"."+c.settings.itemClass,t);i&&c.onItemSelect(e,i)||""==n.value&&c.onClick(e)})),q(n,"mousedown",(function(e){""!==n.value&&e.stopPropagation()})),q(n,"keydown",(function(e){return c.onKeyDown(e)})),q(n,"keyup",(function(e){return c.onKeyUp(e)})),q(n,"keypress",(function(e){return c.onKeyPress(e)})),q(n,"resize",(function(){return c.positionDropdown()}),f),q(n,"blur",(function(e){return c.onBlur(e)})),q(n,"focus",(function(e){return c.onFocus(e)})),q(n,"paste",(function(e){return c.onPaste(e)}));var _=function(t){if(!e.contains(t.target)&&!i.contains(t.target))return c.isFocused&&c.blur(),void c.inputState();V(t,!0)},O=function(){c.isOpen&&c.positionDropdown()};q(document,"mousedown",_),q(window,"sroll",O,f),q(window,"resize",O,f),c._destroy=function(){document.removeEventListener("mousedown",_),window.removeEventListener("sroll",O),window.removeEventListener("resize",O)},this.revertSettings={innerHTML:d.innerHTML,tabIndex:d.tabIndex},d.tabIndex=-1,ie(d,{hidden:"hidden"}),d.insertAdjacentElement("afterend",c.wrapper),c.setValue(u.items),delete u.items,q(d,"invalid",(function(e){V(e),c.isInvalid||(c.isInvalid=!0,c.refreshState())})),c.updateOriginalInput(),c.refreshItems(),c.refreshState(),c.inputState(),c.isSetup=!0,d.disabled&&c.disable(),c.on("change",this.onChange),Y(d,"tomselected"),c.trigger("initialize"),!0===u.preload&&c.load("")},n.setupOptions=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=[]);for(var n,i=s(e);!(n=i()).done;){var r=n.value;this.registerOption(r)}for(var o,a=s(t);!(o=a()).done;){var l=o.value;this.registerOptionGroup(l)}},n.setupTemplates=function(){var e=this,t=e.settings.labelField,n=e.settings.optgroupLabelField,i={optgroup:function(e,t){var n=document.createElement("div");return n.className="optgroup",n.appendChild(e.options),n},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[n])+"</div>"},option:function(e,n){return"<div>"+n(e[t])+"</div>"},item:function(e,n){return"<div>"+n(e[t])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>"},no_results:function(e,t){return'<div class="no-results">No results found</div>'},loading:function(e,t){return'<div class="spinner"></div>'},not_loading:function(){},dropdown:function(){return"<div></div>"}};e.settings.render=Object.assign({},i,e.settings.render)},n.setupCallbacks=function(){var e,t,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in n)(t=this.settings[n[e]])&&this.on(e,t)},n.onClick=function(e){var t=this;if(t.activeItems.length>0)return t.clearActiveItems(),void t.focus();t.isFocused&&t.isOpen?t.blur():t.focus()},n.onMouseDown=function(e){},n.onChange=function(){Q(this.input,"input"),Q(this.input,"change")},n.onPaste=function(e){var t=this;t.isFull()||t.isInputHidden||t.isLocked?V(e):t.settings.splitOn&&setTimeout((function(){var e=t.inputValue();if(e.match(t.settings.splitOn))for(var n,i=s(e.trim().split(t.settings.splitOn));!(n=i()).done;){var r=n.value;t.createItem(r)}}),0)},n.onKeyPress=function(e){var t=this;if(!t.isLocked){var n=String.fromCharCode(e.keyCode||e.which);return t.settings.create&&"multi"===t.settings.mode&&n===t.settings.delimiter?(t.createItem(),void V(e)):void 0}V(e)},n.onKeyDown=function(e){var t=this;if(t.isLocked)e.keyCode!==I&&V(e);else{switch(e.keyCode){case _:if(B(P,e))return void t.selectAll();break;case C:return t.isOpen&&(V(e,!0),t.close()),void t.clearActiveItems();case S:if(!t.isOpen&&t.hasOptions)t.open();else if(t.activeOption){var n=t.getAdjacent(t.activeOption,1);n&&t.setActiveOption(n)}return void V(e);case x:if(t.activeOption){var i=t.getAdjacent(t.activeOption,-1);i&&t.setActiveOption(i)}return void V(e);case O:return void(t.isOpen&&t.activeOption?(t.onOptionSelect(e,t.activeOption),V(e)):t.settings.create&&t.createItem()&&V(e));case k:return void t.advanceSelection(-1,e);case E:return void t.advanceSelection(1,e);case I:return void(t.settings.selectOnTab&&(t.isOpen&&t.activeOption&&(t.tab_key=!0,t.onOptionSelect(e,t.activeOption),V(e),t.tab_key=!1),t.settings.create&&t.createItem()&&V(e)));case T:case A:return void t.deleteSelection(e)}t.isInputHidden&&!B(P,e)&&V(e)}},n.onKeyUp=function(e){var t=this;if(t.isLocked)V(e);else{var n=t.inputValue();t.lastValue!==n&&(t.lastValue=n,t.settings.shouldLoad.call(t,n)&&t.load(n),t.refreshOptions(),t.trigger("type",n))}},n.onFocus=function(e){var t=this,n=t.isFocused;if(t.isDisabled)return t.blur(),void V(e);t.ignoreFocus||(t.isFocused=!0,"focus"===t.settings.preload&&t.load(""),n||t.trigger("focus"),t.activeItems.length||(t.showInput(),t.setActiveItem(),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState())},n.onBlur=function(e){var t=this;if(t.isFocused){t.isFocused=!1,t.ignoreFocus=!1;var n=function(){t.close(),t.setActiveItem(),t.setCaret(t.items.length),t.trigger("blur")};t.settings.create&&t.settings.createOnBlur?t.createItem(null,!1,n):n()}},n.onOptionSelect=function(e,t){var n,i=this;t&&(t.parentElement&&t.parentElement.matches("[data-disabled]")||(t.classList.contains("create")?i.createItem(null,!0,(function(){i.settings.closeAfterSelect&&i.close()})):void 0!==(n=t.dataset.value)&&(i.lastQuery=null,i.addItem(n),i.settings.closeAfterSelect?i.close():!i.settings.hideSelected&&e.type&&/mouse/.test(e.type)&&i.setActiveOption(i.getOption(n)))))},n.onItemSelect=function(e,t){var n=this;return!n.isLocked&&"multi"===n.settings.mode&&(V(e),n.setActiveItem(t,e),!0)},n.canLoad=function(e){return!!this.settings.load&&!this.loadedSearches.hasOwnProperty(e)},n.load=function(e){var t=this;if(t.canLoad(e)){Y(t.wrapper,t.settings.loadingClass),t.loading++;var n=t.loadCallback.bind(t,e);t.settings.load.call(t,e,n)}},n.loadCallback=function(e,t,n){var i=this;i.loading=Math.max(i.loading-1,0),i.lastQuery=null,i.clearActiveOption(),i.setupOptions(t,n),i.refreshOptions(i.isFocused&&!i.isInputHidden),i.loading||G(i.wrapper,i.settings.loadingClass),i.trigger("load",t,n)},n.setTextboxValue=function(e){void 0===e&&(e="");var t=this.control_input;t.value!==e&&(t.value=e,Q(t,"update"),this.lastValue=e)},n.getValue=function(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)},n.setValue=function(e,t){var n=this;N(this,t?[]:["change"],(function(){n.clear(t),n.addItems(e,t)}))},n.setMaxItems=function(e){0===e&&(e=null),this.settings.maxItems=e,this.refreshState()},n.setActiveItem=function(e,t){var n,i,r,o,s,a,l=this;if("single"!==l.settings.mode){if(!e)return l.clearActiveItems(),void(l.isFocused&&l.showInput());if("click"===(n=t&&t.type.toLowerCase())&&B("shiftKey",t)&&l.activeItems.length){for(a=l.getLastActive(),(r=Array.prototype.indexOf.call(l.control.children,a))>(o=Array.prototype.indexOf.call(l.control.children,e))&&(s=r,r=o,o=s),i=r;i<=o;i++)e=l.control.children[i],-1===l.activeItems.indexOf(e)&&l.setActiveItemClass(e);V(t)}else"click"===n&&B(P,t)||"keydown"===n&&B("shiftKey",t)?e.classList.contains("active")?l.removeActiveItem(e):l.setActiveItemClass(e):(l.clearActiveItems(),l.setActiveItemClass(e));l.hideInput(),l.isFocused||l.focus()}},n.setActiveItemClass=function(e){var t=this.control.querySelector(".last-active");t&&G(t,"last-active"),Y(e,"active last-active"),-1==this.activeItems.indexOf(e)&&this.activeItems.push(e)},n.removeActiveItem=function(e){var t=this.activeItems.indexOf(e);this.activeItems.splice(t,1),G(e,"active")},n.clearActiveItems=function(){G(this.activeItems,"active"),this.activeItems=[]},n.setActiveOption=function(e){var t,n,i;if(e!==this.activeOption&&(this.clearActiveOption(),e)){this.activeOption=e,ie(this.control_input,{"aria-activedescendant":e.getAttribute("id")}),ie(e,{"aria-selected":"true"}),Y(e,"active"),t=this.dropdown_content.clientHeight;var r=this.dropdown_content.scrollTop||0;n=this.activeOption.offsetHeight,(i=this.activeOption.getBoundingClientRect().top-this.dropdown_content.getBoundingClientRect().top+r)+n>t+r?this.dropdown_content.scrollTop=i-t+n:i<r&&(this.dropdown_content.scrollTop=i)}},n.clearActiveOption=function(){this.activeOption&&(G(this.activeOption,"active"),this.activeOption.removeAttribute("aria-selected")),this.activeOption=null,this.control_input.removeAttribute("aria-activedescendant")},n.selectAll=function(){"single"!==this.settings.mode&&(this.activeItems=this.controlChildren(),this.activeItems.length&&(Y(this.activeItems,"active"),this.hideInput(),this.close()),this.focus())},n.inputState=function(){var e=this;e.settings.controlInput||(e.activeItems.length>0||!e.isFocused&&this.settings.hidePlaceholder&&e.items.length>0?(e.setTextboxValue(),e.isInputHidden=!0,Y(e.wrapper,"input-hidden")):(e.isInputHidden=!1,G(e.wrapper,"input-hidden")))},n.hideInput=function(){this.inputState()},n.showInput=function(){this.inputState()},n.inputValue=function(){return this.control_input.value.trim()},n.focus=function(){var e=this;e.isDisabled||(e.ignoreFocus=!0,e.control_input.focus(),setTimeout((function(){e.ignoreFocus=!1,e.onFocus()}),0))},n.blur=function(){this.control_input.blur(),this.onBlur(null)},n.getScoreFunction=function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},n.getSearchOptions=function(){var e=this.settings,t=e.sortField;return"string"==typeof e.sortField&&(t=[{field:e.sortField}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t,nesting:e.nesting}},n.search=function(e){var t,n,i,r=this,o=r.settings,s=this.getSearchOptions();if(o.score&&"function"!=typeof(i=r.settings.score.call(r,e)))throw new Error('Tom Select "score" setting must be a function that returns a function');if(e!==r.lastQuery?(r.lastQuery=e,n=r.sifter.search(e,Object.assign(s,{score:i})),r.currentResults=n):n=Object.assign({},r.currentResults),o.hideSelected)for(t=n.items.length-1;t>=0;t--)-1!==r.items.indexOf(L(n.items[t].id))&&n.items.splice(t,1);return n},n.refreshOptions=function(e){void 0===e&&(e=!0);var t,n,i,r,o,a,l,c,u,d,f,p,h=this,v=h.inputValue(),m=h.search(v),g=h.activeOption&&L(h.activeOption.dataset.value),y=h.settings.shouldOpen||!1;for(r=m.items.length,"number"==typeof h.settings.maxOptions&&(r=Math.min(r,h.settings.maxOptions)),r>0&&(y=!0),p={},o=[],t=0;t<r;t++){var _=h.options[m.items[t].id],O=L(_[h.settings.valueField]),C=h.getOption(O);for(C||(C=h.render("option",_)),h.settings.hideSelected||C.classList.toggle("selected",h.items.includes(O)),a=_[h.settings.optgroupField]||"",n=0,i=(l=Array.isArray(a)?a:[a])&&l.length;n<i;n++)a=l[n],h.optgroups.hasOwnProperty(a)||(a=""),p.hasOwnProperty(a)||(p[a]=document.createDocumentFragment(),o.push(a)),n>0&&(G(C=C.cloneNode(!0),"active"),C.removeAttribute("aria-selected")),p[a].appendChild(C)}for(var k,x=s((this.settings.lockOptgroupOrder&&o.sort((function(e,t){return(h.optgroups[e]&&h.optgroups[e].$order||0)-(h.optgroups[t]&&h.optgroups[t].$order||0)})),c=document.createDocumentFragment(),o));!(k=x()).done;)if(a=k.value,h.optgroups.hasOwnProperty(a)&&p[a].children.length){var E=document.createDocumentFragment();E.append(h.render("optgroup_header",h.optgroups[a])),E.append(p[a]);var S=h.render("optgroup",{group:h.optgroups[a],options:E});c.append(S)}else c.append(p[a]);if(h.dropdown_content.innerHTML="",h.dropdown_content.append(c),h.settings.highlight&&(w(h.dropdown_content),m.query.length&&m.tokens.length))for(var T,A=s(m.tokens);!(T=A()).done;){var I=T.value;b(h.dropdown_content,I.regex)}var $=function(e){var t=h.render(e,{input:v});return t&&(y=!0,h.dropdown_content.insertBefore(t,h.dropdown_content.firstChild)),t};if(h.settings.shouldLoad.call(h,v)?h.loading?$("loading"):0===m.items.length&&$("no_results"):$("not_loading"),(u=h.canCreate(v))&&(f=$("option_create")),h.hasOptions=m.items.length>0||u,y){if(m.items.length>0){if(!(d=g&&h.getOption(g))&&"single"===h.settings.mode&&h.items.length&&(d=h.getOption(h.items[0])),!d||!h.dropdown_content.contains(d)){var P=0;f&&!h.settings.addPrecedence&&(P=1),d=h.selectable()[P]}}else d=f;h.setActiveOption(d),e&&!h.isOpen&&h.open()}else h.clearActiveOption(),e&&h.isOpen&&h.close(!1)},n.selectable=function(){return this.dropdown_content.querySelectorAll("[data-selectable]")},n.addOption=function(e){var t,n=this;if(Array.isArray(e))for(var i,r=s(e);!(i=r()).done;){var o=i.value;n.addOption(o)}else(t=n.registerOption(e))&&(n.userOptions[t]=!0,n.lastQuery=null,n.trigger("option_add",t,e))},n.registerOption=function(e){var t=L(e[this.settings.valueField]);return null!==t&&!this.options.hasOwnProperty(t)&&(e.$order=e.$order||++this.order,e.$id=this.inputId+"-opt-"+e.$order,this.options[t]=e,t)},n.registerOptionGroup=function(e){var t=L(e[this.settings.optgroupValueField]);return null!==t&&(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)},n.addOptionGroup=function(e,t){var n;t[this.settings.optgroupValueField]=e,(n=this.registerOptionGroup(t))&&this.trigger("optgroup_add",n,t)},n.removeOptionGroup=function(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.clearCache(),this.trigger("optgroup_remove",e))},n.clearOptionGroups=function(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")},n.updateOption=function(e,t){var n,i,r,o,s,a,l,c=this;if(e=L(e),r=L(t[c.settings.valueField]),null!==e&&c.options.hasOwnProperty(e)){if("string"!=typeof r)throw new Error("Value must be set in option data");l=c.options[e].$order,r!==e&&(delete c.options[e],-1!==(o=c.items.indexOf(e))&&c.items.splice(o,1,r)),t.$order=t.$order||l,c.options[r]=t,s=c.renderCache.item,a=c.renderCache.option,s&&(delete s[e],delete s[r]),a&&(delete a[e],delete a[r]),-1!==c.items.indexOf(r)&&(n=c.getItem(e),i=c.render("item",t),n.classList.contains("active")&&Y(i,"active"),n.parentNode.insertBefore(i,n),n.remove()),c.lastQuery=null,c.isOpen&&c.refreshOptions(!1)}},n.removeOption=function(e,t){var n=this;e=L(e);var i=n.renderCache.item,r=n.renderCache.option;i&&delete i[e],r&&delete r[e],delete n.userOptions[e],delete n.options[e],n.lastQuery=null,n.trigger("option_remove",e),n.removeItem(e,t)},n.clearOptions=function(){this.loadedSearches={},this.userOptions={},this.clearCache();var e={};for(var t in this.options)this.options.hasOwnProperty(t)&&this.items.indexOf(t)>=0&&(e[t]=this.options[t]);this.options=this.sifter.items=e,this.lastQuery=null,this.trigger("option_clear")},n.getOption=function(e){if(e=L(e)){var t=this.dropdown_content.querySelector('[data-selectable][data-value="'+R(e)+'"]');if(t)return t}if(this.renderCache.option.hasOwnProperty(e))return this.renderCache.option[e]},n.getAdjacent=function(e,t,n){void 0===n&&(n="option");var i,r=this;if(e){i="item"==n?r.controlChildren():r.dropdown_content.querySelectorAll("[data-selectable]");for(var o=0;o<i.length;o++)if(i[o]==e)return t>0?i[o+1]:i[o-1]}},n.getItem=function(e){if(e=L(e))return e=R(e),this.control.querySelector('[data-value="'+e+'"]')},n.addItems=function(e,t){var n=this;n.buffer=document.createDocumentFragment();for(var i,r=s(n.control.children);!(i=r()).done;){var o=i.value;n.buffer.appendChild(o)}for(var a=Array.isArray(e)?e:[e],l=0,c=(a=a.filter((function(e){return-1===n.items.indexOf(e)}))).length;l<c;l++)n.isPending=l<c-1,n.addItem(a[l],t);var u=n.control;u.insertBefore(n.buffer,u.firstChild),n.buffer=null},n.addItem=function(e,t){var n=this;N(this,t?[]:["change"],(function(){var i,r,o=n,s=o.settings.mode;if(e=L(e),(-1===o.items.indexOf(e)||("single"===s&&o.close(),"single"!==s&&o.settings.duplicates))&&o.options.hasOwnProperty(e)&&("single"===s&&o.clear(t),"multi"!==s||!o.isFull())){if(i=o.render("item",o.options[e]),o.control.contains(i)&&(i=i.cloneNode(!0)),r=o.isFull(),o.items.splice(o.caretPos,0,e),o.insertAtCaret(i),o.isSetup){var a=o.selectable();if(!o.isPending){var l=o.getOption(e),c=o.getAdjacent(l,1);o.refreshOptions(o.isFocused&&"single"!==s),c&&o.setActiveOption(c)}!a.length||o.isFull()?o.close():o.isPending||o.positionDropdown(),o.trigger("item_add",e,i),o.isPending||o.updateOriginalInput({silent:t})}(!o.isPending||!r&&o.isFull())&&o.refreshState()}}))},n.removeItem=function(e,t){var n,i,r=this,o=r.getItem(e);o&&(e=L(o.dataset.value),-1!==(n=r.items.indexOf(e))&&(o.remove(),o.classList.contains("active")&&(i=r.activeItems.indexOf(o),r.activeItems.splice(i,1),G(o,"active")),r.items.splice(n,1),r.lastQuery=null,!r.settings.persist&&r.userOptions.hasOwnProperty(e)&&r.removeOption(e,t),n<r.caretPos&&r.setCaret(r.caretPos-1),r.updateOriginalInput({silent:t}),r.refreshState(),r.positionDropdown(),r.trigger("item_remove",e,o)))},n.createItem=function(e,t,n){var i;void 0===t&&(t=!0);var r,o=this,s=o.caretPos;if(e=e||o.inputValue(),"function"!=typeof n&&(n=function(){}),!o.canCreate(e))return n(),!1;o.lock();var a=!1,l=function(e){if(o.unlock(),!e||"object"!=typeof e)return n();var i=L(e[o.settings.valueField]);if("string"!=typeof i)return n();o.setTextboxValue(),o.addOption(e),o.setCaret(s),o.addItem(i),o.refreshOptions(t&&"single"!==o.settings.mode),n(e),a=!0};return r="function"==typeof o.settings.create?o.settings.create.call(this,e,l):((i={})[o.settings.labelField]=e,i[o.settings.valueField]=e,i),a||l(r),!0},n.refreshItems=function(){var e=this;e.lastQuery=null,e.isSetup&&e.addItems(e.items),e.updateOriginalInput(),e.refreshState()},n.refreshState=function(){var e=this;e.refreshValidityState();var t=e.isFull(),n=e.isLocked;e.wrapper.classList.toggle("rtl",e.rtl);var i=e.control.classList;i.toggle("focus",e.isFocused),i.toggle("disabled",e.isDisabled),i.toggle("required",e.isRequired),i.toggle("invalid",e.isInvalid),i.toggle("locked",n),i.toggle("full",t),i.toggle("not-full",!t),i.toggle("input-active",e.isFocused&&!e.isInputHidden),i.toggle("dropdown-active",e.isOpen),i.toggle("has-options",te(e.options)),i.toggle("has-items",e.items.length>0)},n.refreshValidityState=function(){var e=this;if(e.input.checkValidity){this.isRequired&&(e.input.required=!0);var t=!e.input.checkValidity();e.isInvalid=t,e.control_input.required=t,this.isRequired&&(e.input.required=!t)}},n.isFull=function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},n.updateOriginalInput=function(e){void 0===e&&(e={});var t,n,i=this;if(i.is_select_tag)for(i.input.querySelectorAll("option[selected]").forEach((function(e){-1==i.items.indexOf(e.value)&&(e.selected=!1,e.removeAttribute("selected"))})),t=i.items.length-1;t>=0;t--){var r;if(n=i.items[t],!(r=i.options[n].$option)){var o=i.options[n][i.settings.labelField]||"";r=z('<option value="'+F(n)+'">'+F(o)+"</option>"),i.options[n].$option=r}r.selected=!0,ie(r,{selected:"true"}),i.input.prepend(r)}else i.input.value=i.getValue();i.isSetup&&(e.silent||i.trigger("change",i.getValue()))},n.open=function(){var e=this;e.isLocked||e.isOpen||"multi"===e.settings.mode&&e.isFull()||(e.isOpen=!0,ie(e.control_input,{"aria-expanded":"true"}),e.refreshState(),W(e.dropdown,{visibility:"hidden",display:"block"}),e.positionDropdown(),W(e.dropdown,{visibility:"visible",display:"block"}),e.focus(),e.trigger("dropdown_open",e.dropdown))},n.close=function(e){void 0===e&&(e=!0);var t=this,n=t.isOpen;e&&(t.setTextboxValue(),"single"===t.settings.mode&&t.items.length&&(t.hideInput(),t.tab_key||t.blur())),t.isOpen=!1,ie(t.control_input,{"aria-expanded":"false"}),W(t.dropdown,{display:"none"}),t.clearActiveOption(),t.refreshState(),n&&t.trigger("dropdown_close",t.dropdown)},n.positionDropdown=function(){if("body"===this.settings.dropdownParent){var e=this.control,t=e.getBoundingClientRect(),n=e.offsetHeight+t.top+window.scrollY,i=t.left+window.scrollX;W(this.dropdown,{width:t.width+"px",top:n+"px",left:i+"px"})}},n.clear=function(e){var t=this;if(t.items.length){for(var n,i=s(t.controlChildren());!(n=i()).done;)n.value.remove();t.items=[],t.lastQuery=null,t.setCaret(0),t.setActiveItem(),t.updateOriginalInput({silent:e}),t.refreshState(),t.showInput(),t.trigger("clear")}},n.insertAtCaret=function(e){var t=this,n=Math.min(t.caretPos,t.items.length),i=t.buffer||t.control;0===n?i.insertBefore(e,i.firstChild):i.insertBefore(e,i.children[n]),t.setCaret(n+1)},n.deleteSelection=function(e){var t,n,i,r,o=this;if(t=e&&e.keyCode===T?-1:1,n=M(o.control_input),i=[],o.activeItems.length){r=ne(ee(o.activeItems,t)),t>0&&r++;for(var a,l=s(o.activeItems);!(a=l()).done;){var c=a.value;i.push(c.dataset.value)}}else(o.isFocused||"single"===o.settings.mode)&&o.items.length&&(t<0&&0===n.start&&0===n.length?i.push(o.items[o.caretPos-1]):t>0&&n.start===o.inputValue().length&&i.push(o.items[o.caretPos]));if(!i.length||"function"==typeof o.settings.onDelete&&!1===o.settings.onDelete.call(o,i,e))return!1;for(V(e,!0),void 0!==r&&o.setCaret(r);i.length;)o.removeItem(i.pop());return o.showInput(),o.positionDropdown(),o.refreshOptions(!1),!0},n.advanceSelection=function(e,t){var n,i,r,o=this;o.rtl&&(e*=-1),o.inputValue().length||(B(P,t)||B("shiftKey",t)?(r=(i=o.getLastActive(e))?i.classList.contains("active")?o.getAdjacent(i,e,"item"):i:e>0?o.control_input.nextElementSibling:o.control_input.previousElementSibling)&&(r.classList.contains("active")&&o.removeActiveItem(i),o.setActiveItemClass(r)):o.isFocused&&!o.activeItems.length?o.setCaret(o.caretPos+e):(i=o.getLastActive(e))&&(n=ne(i),o.setCaret(e>0?n+1:n),o.setActiveItem()))},n.getLastActive=function(e){var t=this.control.querySelector(".last-active");if(t)return t;var n=this.control.querySelectorAll(".active");return n?ee(n,e):void 0},n.setCaret=function(e){var t=this;"single"===t.settings.mode||t.settings.controlInput?e=t.items.length:(e=Math.max(0,Math.min(t.items.length,e)))==t.caretPos||t.isPending||t.controlChildren().forEach((function(n,i){i<e?t.control_input.insertAdjacentElement("beforebegin",n):t.control.appendChild(n)})),t.caretPos=e},n.controlChildren=function(){return Array.from(this.control.getElementsByClassName(this.settings.itemClass))},n.lock=function(){this.close(),this.isLocked=!0,this.refreshState()},n.unlock=function(){this.isLocked=!1,this.refreshState()},n.disable=function(){var e=this;e.input.disabled=!0,e.control_input.disabled=!0,e.control_input.tabIndex=-1,e.isDisabled=!0,e.lock()},n.enable=function(){var e=this;e.input.disabled=!1,e.control_input.disabled=!1,e.control_input.tabIndex=e.tabIndex,e.isDisabled=!1,e.unlock()},n.destroy=function(){var e=this,t=e.revertSettings;e.trigger("destroy"),e.off(),e.wrapper.remove(),e.dropdown.remove(),e.input.innerHTML=t.innerHTML,e.input.tabIndex=t.tabIndex,G(e.input,"tomselected"),e.input.removeAttribute("hidden"),e.input.required=this.isRequired,e._destroy(),delete e.input.tomselect},n.render=function(e,t){var n,i,r=this;if(("option"===e||"item"===e)&&(n=L(t[r.settings.valueField]),r.renderCache[e].hasOwnProperty(n)))return r.renderCache[e][n];var o=r.settings.render[e];return"function"!=typeof o?null:(i=o.call(this,t,F))?(i=z(i),"option"===e||"option_create"===e?t[r.settings.disabledField]?ie(i,{"aria-disabled":"true"}):ie(i,{"data-selectable":""}):"optgroup"===e&&(ie(i,{"data-group":t.group[r.settings.optgroupValueField]}),t.group[r.settings.disabledField]&&ie(i,{"data-disabled":""})),"option"!==e&&"item"!==e||(ie(i,{"data-value":n}),"item"===e?Y(i,r.settings.itemClass):(Y(i,r.settings.optionClass),ie(i,{role:"option",id:t.$id})),r.renderCache[e][n]=i),i):i},n.clearCache=function(e){var t=this;void 0===e?t.renderCache={item:{},option:{}}:t.renderCache[e]={}},n.canCreate=function(e){return this.settings.create&&e.length&&this.settings.createFilter.call(this,e)},n.hook=function(e,t,n){var i=this,r=i[t];i[t]=function(){var t,o;return"after"===e&&(t=r.apply(i,arguments)),o=n.apply(i,arguments),"instead"===e?o:("before"===e&&(t=r.apply(i,arguments)),t)}},t}(n(t));return oe.define("change_listener",(function(e){var t=this,n=!1;q(t.input,"change",(function(){if(n)n=!1;else{n=!0;var e=U(t.input,{});t.setupOptions(e.options,e.optgroups),t.setValue(e.items)}}))})),oe.define("checkbox_options",(function(e){var t=this,n=t.onOptionSelect;t.settings.hideSelected=!1;var i=function(e){setTimeout((function(){var t=e.querySelector("input");e.classList.contains("selected")?t.checked=!0:t.checked=!1}),1)};t.hook("after","setupTemplates",(function(){var e=t.settings.render.option;t.settings.render.option=function(n){var i=z(e.apply(t,arguments)),r=document.createElement("input");r.addEventListener("click",(function(e){V(e)})),r.type="checkbox";var o=L(n[t.settings.valueField]);return t.items.indexOf(o)>-1&&(r.checked=!0),i.prepend(r),i}})),t.on("item_remove",(function(e){var n=t.getOption(e);n&&(n.classList.remove("selected"),i(n))})),t.hook("instead","onOptionSelect",(function(e,r){if(r.classList.contains("selected"))return r.classList.remove("selected"),t.removeItem(r.dataset.value),t.refreshOptions(),void V(e,!0);n.apply(t,arguments),i(r)}))})),oe.define("clear_button",(function(e){var t=this;e=Object.assign({className:"clear-button",title:"Clear All",html:function(e){return'<div class="'+e.className+'" title="'+e.title+'">&times;</div>'}},e),t.hook("after","setup",(function(){var n=z(e.html(e));n.addEventListener("click",(function(e){for(;t.items.length>0;)t.removeItem(t.items[0],!0);t.updateOriginalInput(),e.preventDefault(),e.stopPropagation()})),t.control.appendChild(n)}))})),oe.define("drag_drop",(function(e){var t=this;if(!$.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===t.settings.mode){var n=t.lock,i=t.unlock;t.hook("instead","lock",(function(){var e=t.control.dataset.sortable;return e&&e.disable(),n.apply(t,arguments)})),t.hook("instead","unlock",(function(){var e=t.control.dataset.sortable;return e&&e.enable(),i.apply(t,arguments)})),t.hook("after","setup",(function(){var e=$(t.control).sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:t.isLocked,start:function(t,n){n.placeholder.css("width",n.helper.css("width")),e.css({overflow:"visible"})},stop:function(){e.css({overflow:"hidden"});var n=[];e.children("[data-value]").each((function(){n.push($(this).attr("data-value"))})),t.setValue(n)}})}))}})),oe.define("dropdown_header",(function(e){var t=this;e=Object.assign({title:"Untitled",headerClass:"dropdown-header",titleRowClass:"dropdown-header-title",labelClass:"dropdown-header-label",closeClass:"dropdown-header-close",html:function(e){return'<div class="'+e.headerClass+'"><div class="'+e.titleRowClass+'"><span class="'+e.labelClass+'">'+e.title+'</span><a class="'+e.closeClass+'">&times;</a></div></div>'}},e),t.hook("after","setup",(function(){var n=z(e.html(e)),i=n.querySelector("."+e.closeClass);i&&i.addEventListener("click",(function(e){V(e,!0),t.close()})),t.dropdown.insertBefore(n,t.dropdown.firstChild)}))})),oe.define("dropdown_input",(function(){var e=this,t=e.settings.controlInput||'<input type="text" autocomplete="off" class="dropdown-input" />';t=z(t),e.settings.placeholder&&ie(t,{placeholder:e.settings.placeholder}),e.settings.controlInput=t,e.settings.shouldOpen=!0,e.hook("after","setup",(function(){ie(e.wrapper,{tabindex:e.input.disabled?"-1":e.tabIndex}),q(e.wrapper,"keypress",(function(t){if(!e.control.contains(t.target)&&!e.dropdown.contains(t.target))switch(t.keyCode){case O:return void e.onClick(t)}}));var n=z('<div class="dropdown-input-wrap">');n.appendChild(t),e.dropdown.insertBefore(n,e.dropdown.firstChild)}))})),oe.define("input_autogrow",(function(){var e=this;e.hook("after","setup",(function(){var t=document.createElement("span"),n=e.control_input;t.style.cssText="position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ",e.wrapper.appendChild(t);for(var i=0,r=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];i<r.length;i++){var o=r[i];t.style[o]=n.style[o]}var s=function(){e.items.length>0?(t.textContent=n.value,n.style.width=t.clientWidth+"px"):n.style.width=""};s(),e.on("update item_add item_remove",s),q(n,"input",s),q(n,"keyup",s),q(n,"blur",s),q(n,"update",s)}))})),oe.define("no_backspace_delete",(function(){var e=this,t=e.deleteSelection;this.hook("instead","deleteSelection",(function(){return!!e.activeItems.length&&t.apply(e,arguments)}))})),oe.define("no_active_items",(function(e){this.hook("instead","setActiveItem",(function(){})),this.hook("instead","selectAll",(function(){}))})),oe.define("optgroup_columns",(function(){var e=this,t=e.onKeyDown;e.hook("instead","onKeyDown",(function(n){var i,r,o,s;if(!e.isOpen||n.keyCode!==k&&n.keyCode!==E)return t.apply(e,arguments);s=Z(e.activeOption,"[data-group]"),i=ne(e.activeOption,"[data-selectable]"),(s=n.keyCode===k?s.previousSibling:s.nextSibling)&&(r=(o=s.querySelectorAll("[data-selectable]"))[Math.min(o.length-1,i)])&&e.setActiveOption(r)}))})),oe.define("remove_button",(function(e){e=Object.assign({label:"&times;",title:"Remove",className:"remove",append:!0},e);var t=this;if(e.append){var n='<a href="javascript:void(0)" class="'+e.className+'" tabindex="-1" title="'+F(e.title)+'">'+e.label+"</a>";t.hook("after","setupTemplates",(function(){var e=t.settings.render.item;t.settings.render.item=function(){var i=z(e.apply(t,arguments)),r=z(n);return i.appendChild(r),q(r,"mousedown",(function(e){V(e,!0)})),q(r,"click",(function(e){if(V(e,!0),!t.isLocked){var n=i.dataset.value;t.removeItem(n),t.refreshOptions(!1)}})),i}}))}})),oe.define("restore_on_backspace",(function(e){var t=this;e.text=e.text||function(e){return e[t.settings.labelField]},t.on("item_remove",(function(n){if(""===t.control_input.value.trim()){var i=t.options[n];i&&t.setTextboxValue(e.text.call(t,i))}}))})),oe.define("virtual_scroll",(function(e){var t,n=this,i=this,r=i.canLoad,o=i.clearActiveOption,s=i.loadCallback,a={},l=!1;if(!i.settings.firstUrl)throw"virtual_scroll plugin requires a firstUrl() method";function c(e){if(!("number"==typeof i.settings.maxOptions&&t.children.length>=i.settings.maxOptions))return!(!(e in a)||!a[e])}i.settings.sortField=[{field:"$order"},{field:"$score"}],i.setNextUrl=function(e,t){a[e]=t},i.getUrl=function(e){if(e in a){var t=a[e];return a[e]=!1,t}return a={},i.settings.firstUrl(e)},i.hook("instead","clearActiveOption",(function(){if(!l)return o.call(i)})),i.hook("instead","canLoad",(function(e){return e in a?c(e):r.call(n,e)})),i.hook("instead","loadCallback",(function(e,t,n){l||i.clearOptions(),s.call(i,e,t,n),l=!1})),i.hook("after","refreshOptions",(function(){var e,n=i.lastValue;c(n)?(e=i.render("loading_more",{query:n}))&&e.setAttribute("data-selectable",""):n in a&&!t.querySelector(".no-results")&&(e=i.render("no_more_results",{query:n})),e&&(Y(e,i.settings.optionClass),t.append(e))})),i.hook("after","setup",(function(){t=i.dropdown_content,i.settings.render=Object.assign({},{loading_more:function(e,t){return'<div class="loading-more-results">Loading more results ... </div>'},no_more_results:function(e,t){return'<div class="no-more-results">No more results</div>'}},i.settings.render),t.addEventListener("scroll",(function(){t.clientHeight/(t.scrollHeight-t.scrollTop)<.95||c(i.lastValue)&&(l||(l=!0,i.load.call(i,i.lastValue)))}))}))})),oe}()},254:function(e){"use strict";e.exports=i}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(i){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="";var a={};return function(){"use strict";n.r(a),n.d(a,{select:function(){return u}}),n.p;var e=n(592),t=n.n(e);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r={getSelectorFromElement:function(e){var t=e.getAttribute("data-target");t&&"#"!==t||(t=e.getAttribute("href")||"");try{return document.querySelectorAll(t).length>0?t:null}catch(e){return null}},isPlainObject:function(e){if("object"==i(e)&&null!==e){var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}return!1},normalizeOptions:function(e,t){if(e=this.isPlainObject(e)?e:{},!this.isPlainObject(t))return console.error("defaults is not an object"),e;for(var n in e)Object.prototype.hasOwnProperty.call(t,n)||delete e[n];return e}};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s={sv:{add:"Lägg till",remove_button:"Ta bort val",clear_button:"Ta bort alla val",no_results:"Inga alternativ matchar"},en:{add:"Add",remove_button:"Remove",clear_button:"Clear all",no_results:"No results found"}},l={staticConfig:{wrapperClass:"env-select",inputClass:"env-select__input",dropdownClass:"env-select__dropdown",dropdownContentClass:"env-select__dropdown__content",itemClass:"env-select__item",optionClass:"env-select__dropdown__option",sortField:{field:"text",direction:"asc"},plugins:{remove_button:{title:"".concat(s.sv.remove_button),className:"env-select__item__remove"},clear_button:{title:"".concat(s.sv.clear_button),className:"env-select__input__clear"}},render:{option_create:function(e,t){return'<div class="create">'.concat(this.settings.i18n.add," <strong>").concat(t(e.input),"</strong>&hellip;</div>")},no_results:function(){return'<div class="no-results">'.concat(this.settings.i18n.no_results,"</div>")},loading:function(){return'<div class="env-select__spinner env-spinner-bounce"><div class="env-bounce1"></div><div class="env-bounce2"></div><div class="env-bounce3"></div></div>'}}},userConfig:{valueField:"value",labelField:"text",searchField:["text"],maxItems:null,options:null,items:null,create:!1,clearButton:!0,placeholder:null,createFilter:function(e){return!((e=e.toLowerCase())in this.options)},preload:!1,load:null,onInitialize:null,onChange:null,onItemAdd:null,onItemRemove:null,onClear:null,onOptionAdd:null,onOptionRemove:null,onOptionClear:null,onDropdownOpen:null,onDropdownClose:null,onType:null,onFocus:null,onBlur:null,onLoad:null,i18n:"sv"}},c=function(e,n){this.el=e,this.settings=n,this.el.classList.remove("env-form-input");var i=new(t())(this.el,this.settings);return this.addOptions=i.addOption.bind(i),this.load=i.load.bind(i),this.getOption=i.getOption.bind(i),this.updateOption=i.updateOption.bind(i),this.removeOption=i.removeOption.bind(i),this.getItem=i.getItem.bind(i),this.addItem=i.addItem.bind(i),this.refreshOptions=i.refreshOptions.bind(i),this.getValue=i.getValue.bind(i),this.setValue=i.setValue.bind(i),this.destroy=function(){for(var e in i.destroy(),this)Object.prototype.hasOwnProperty.call(this,e)&&delete this[e];i=null},this},u=function(e,t){var n=function(e){var t=[];if("string"==typeof e){var n=document.querySelectorAll(e);if(n&&n.length>0)for(var i=0;i<n.length;i++)t.push(n[i])}else if("object"===o(e))if(1===e.nodeType)t.push(e);else if(e.length>0)for(var r=0;r<e.length;r++)t.push(e[r]);return t}(e);if(t=function(e){for(var t in e=r.normalizeOptions(e,l.userConfig),(e=Object.assign({},l.staticConfig,l.userConfig,e)).clearButton||delete e.plugins.clear_button,e.items||delete e.items,e.placeholder||delete e.placeholder,e.options||delete e.options,"string"==typeof e.i18n&&Object.prototype.hasOwnProperty.call(s,e.i18n)?e.i18n=Object.assign({},s[e.i18n]):r.isPlainObject(e.i18n)?e.i18n=Object.assign({},s.sv,e.i18n):e.i18n=Object.assign({},s.sv),e.plugins)e.plugins[t].title&&e.i18n[t]&&(e.plugins[t].title=e.i18n[t]);return e}(t),n.length>0)return n.filter((function(e){return!e.classList.contains("tomselected")})).map((function(e){return new c(e,t)}))},d=n(254),f=n.n(d),p={reflow:function(e){return e.offsetHeight},isTouch:function(){return window.matchMedia("(pointer: coarse)").matches},getToggleSpeed:function(e,t){var n,i=300;return(n=e?getComputedStyle(e).getPropertyValue(t):getComputedStyle(document.documentElement).getPropertyValue(t))&&parseFloat(n)>0&&(n.includes("ms")?i=parseInt(n,10):n.includes("s")&&(i=1e3*parseFloat(n))),i}};function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var v="aria-expanded",m="envAccordion",g="env-accordion--show",y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t,this.$el=f()(t),this.$el.hasClass(g)&&this.$el.removeClass(g).show(),this.speed=p.getToggleSpeed(this.$el[0],"--env-collapse-toggle-duration")}var t,n,i;return t=e,i=[{key:"_jQuery",value:function(t){return this.each((function(){var n=new e(this);if("string"!=typeof t)n.toggle();else{if(void 0===n[t])throw new Error('No method named "'.concat(t,'"'));n[t]()}}))}}],(n=[{key:"toggle",value:function(){"true"===this.$el.attr(v)?this.hide():this.show()}},{key:"show",value:function(){var e=this;f()(this.$el.attr("data-parent")).find("[".concat(v,'="true"]')).each(function(t,n){e._hide(f()(n),e.speed)}.bind(this)),this.$el.attr(v,!0).stop().slideDown(this.speed)}},{key:"hide",value:function(){this._hide(this.$el,this.speed)}},{key:"_hide",value:function(e,t){e.attr(v,!1).stop().slideUp(t,(function(){e.removeClass(g)}))}}])&&h(t.prototype,n),i&&h(t,i),e}();if("undefined"!=typeof document){var b=f().fn[m];f().fn[m]=y._jQuery,f().fn[m].Constructor=y,f().fn[m].noConflict=function(){return f().fn[m]=b,y._jQuery},f()(document).on("click","[data-env-accordion]",(function(e){e.preventDefault();var t=f()(this),n=t.attr("href")||t.attr("data-target");f()(n)[m]()}))}function w(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var _="aria-expanded",O="env-collapse--expanded",C="env-collapse--show",k=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t,this.$el=f()(t),this.$trigger=f()('[data-env-collapse][href="#'.concat(t.id,'"], [data-env-collapse][data-target="#').concat(t.id,'"]')),this.speed=p.getToggleSpeed(this.$trigger[0],"--env-collapse-toggle-duration")}var t,n,i;return t=e,i=[{key:"_jQuery",value:function(t){return this.each((function(){var n=new e(this);if("string"!=typeof t)n.toggle();else{if(void 0===n[t])throw new Error('No method named "'.concat(t,'"'));n[t]()}}))}}],(n=[{key:"toggle",value:function(){this.$el.is(":animated")||(this.$el.hasClass(C)?this.hide():this.show())}},{key:"show",value:function(){this.$trigger.length&&this.$trigger.addClass(O).attr(_,!0),this.$el.stop().slideDown(this.speed).addClass(C)}},{key:"hide",value:function(){this.$trigger.length&&this.$trigger.removeClass(O).attr(_,!1),this.$el.stop().slideUp(this.speed).removeClass(C)}}])&&w(t.prototype,n),i&&w(t,i),e}();if("undefined"!=typeof document){var x=f().fn.envCollapse;f().fn.envCollapse=k._jQuery,f().fn.envCollapse.Constructor=k,f().fn.envCollapse.noConflict=function(){return f().fn.envCollapse=x,k._jQuery},f()(document).on("click","[data-env-collapse]",(function(e){e.preventDefault();var t=f()(this),n=t.attr("href")||t.attr("data-target"),i=f()(n);i.is(":animated")||i.envCollapse()}))}function E(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var S="env-is-open",T="[data-dropdown]",A=".env-dropdown",I="click.env-dropdown",$="keydown.env-dropdown",P=".env-dropdown__menu",j="Escape",L="ArrowDown",F="ArrowUp",D=32,N="Tab",M=new RegExp("".concat(F,"|").concat(L,"|").concat(j)),V=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t,this.$el=f()(t),this._id=this.el.id}var t,n,i;return t=e,i=[{key:"_jQuery",value:function(t){return this.each((function(){var n=f()(this),i=n.data("env.dropdown");if(i||(i=new e(this),n.data("env.dropdown",i)),"string"!=typeof t)i.toggle();else{var r=i[t];if(void 0===r)throw new Error('No method named "'.concat(t,'"'));r.call(i)}}))}}],(n=[{key:"toggle",value:function(){this.$el.hasClass(S)?this.hide():this.show()}},{key:"show",value:function(){this.$el.addClass(S),this.$el.find(T).attr("aria-expanded","true"),this._bindEvents()}},{key:"hide",value:function(){this.$el.removeClass(S),this.$el.find(T).attr("aria-expanded","false"),this._unbindEvents()}},{key:"_bindEvents",value:function(){var e=this,t="".concat(I,"-").concat(this.el.id),n="".concat($,"-").concat(this.el.id);f()(document).off(t).on(t,(function(t){f()(t.target).hasClass(P)||e.hide()})),this.$el.off(n).one(n,(function(t){t.key===j&&e.hide()}))}},{key:"_unbindEvents",value:function(){f()(document).off("".concat(I,"-").concat(this.el.id)),this.$el.off("".concat($,"-").concat(this.el.id))}}])&&E(t.prototype,n),i&&E(t,i),e}();function q(e){if(!e||2!==e.button&&("keyup"!==e.type||e.key===N))for(var t=f()(T),n=0,i=t.length;n<i;n++){var r=f()(t[n]).closest(A).data("env.dropdown");if(r){var o=r.$el.find(P)[0];if(e){if(e.originalEvent.path.includes(document.documentElement.getElementsByClassName("env-dropdown env-is-open")[0]))continue;if("keyup"===e.type&&e.key===N&&o.contains(e.originalEvent.target))continue}r.hide()}}}function B(e){var t=this;if(M.test(e.key)){var n=f()(this).closest(A).hasClass(S);if(n||e.key!==j){e.preventDefault(),e.stopPropagation();var i=function(){return t.matches(T)?t:f()(t).closest(A).find(T)[0]};if(e.key===j)return q(),void i().focus();n||e.key!==F&&e.key!==L?n&&e.which!==D?function(e,t){if(t.length){var n=t.index(e.target);e.key===F&&n>0&&n--,e.key===L&&n<t.length-1&&n++,t[n=-1===n?0:n].focus()}}(e,f()(this).closest(A).find(".env-dropdown__item")):q():i().click()}}}if("undefined"!=typeof document){var H=f().fn.envDropdown;f().fn.envDropdown=V._jQuery,f().fn.envDropdown.Constructor=V,f().fn.envDropdown.noConflict=function(){return f().fn.envDropdown=H,V._jQuery},f()(document).on("click",T,(function(e){e.preventDefault();var t=f()(this);f()(t.data("target")).envDropdown()})),f()(document).on($,T,B),f()(document).on($,P,B),f()(document).on("keyup.env-dropdown",q)}function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var z="env.image-slider",K=".".concat(z),Q=".data-api",W={buttons:!0,imageSlider:!1,interval:5e3,keyboard:!0,pause:"hover",slide:!1,swipe:!0,wrap:!0},Y=".env-image-slider__item--active",G=".env-is-active",X=".env-image-slider__item--active.env-image-slider__item",J="[data-move], [data-move-to], [data-image-slider-touch]",Z="[data-image-slider]",ee=".env-image-slider__indicators",te=".env-image-slider__inner",ne=".env-image-slider__item",ie=".env-image-slider__thumbnails",re="env-image-slider__item--active",oe="env-is-active",se="env-image-slider",ae="env-image-slider__item--left",le="env-image-slider__item--next",ce="env-image-slider__item--prev",ue="env-image-slider__item--right",de="env-image-slider--slide",fe="left",pe="next",he="prev",ve="right",me={CLICK_DATA_API:"click".concat(K).concat(Q),KEYDOWN:"keydown".concat(K),LOAD_DATA_API:"load".concat(K).concat(Q),MOUSEENTER:"mouseenter".concat(K),MOUSELEAVE:"mouseleave".concat(K),SLID:"slid".concat(K),SLIDE:"slide".concat(K),TOUCHEND:"touchend".concat(K),TOUCHMOVE:"touchmove".concat(K),TOUCHSTART:"touchstart".concat(K)},ge=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$el=f()(t),this.$images=this.$el.find(ne),this._isSliding=!1,this._isPaused=!1,this._interval=null,this._activeElement=null,this._indicatorsElement=this.$el.find(ee)[0],this._thumbnailElements=this.$el.find(ie)[0],this.config=f().extend({},W,this.$el.data(),n),this.$images.length>1&&n.buttons&&this._addSlideButtons(),this._bindEvents()}var t,n,i;return t=e,i=[{key:"_jQueryInterface",value:function(t){var n=this;return this.each((function(){var i=f()(n),r=i.data(z),o=f().extend({},W,i.data());"object"===R(t)&&f().extend(o,t);var s="string"==typeof t?t:o.move;if(r||(r=new e(n,o),i.data(z,r)),"number"==typeof t)r.goTo(t);else if("string"==typeof s){if(void 0===r[s])throw new Error('No method named "'.concat(s,'"'));r[s]()}else o.interval&&"cycle"===o.imageSlider&&(r.pause(),r.cycle())}))}},{key:"_dataApiClickHandler",value:function(t){var n=r.getSelectorFromElement(this);if(n){var i=f()(n).eq(0);if(i.length&&i.hasClass(se)){var o=f().extend({},i.data(),f()(this).data()),s=this.getAttribute("data-move-to");s&&(o.interval=!1),e._jQueryInterface.call(i,o),s&&i.data(z).goTo(s),t.preventDefault()}}}}],(n=[{key:"next",value:function(){this._isSliding||this._slide(pe)}},{key:"prev",value:function(){this._isSliding||this._slide(he)}},{key:"nextWhenVisible",value:function(){document.hidden||this.next()}},{key:"pause",value:function(e){e||(this._isPaused=!0),clearInterval(this._interval),this._interval=null}},{key:"cycle",value:function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this.config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this.config.interval))}},{key:"goTo",value:function(e){this._activeElement=this.$el.find(X)[0];var t=this._getItemIndex(this._activeElement);if(!(e>this.$images.length-1||e<0||this._isSliding)){if(t===e)return this.pause(),void this.cycle();var n=e>t?pe:he;this._slide(n,this.$images[e])}}},{key:"startTouchSlide",value:function(e){this.touchstartx=e.originalEvent.touches[0].pageX}},{key:"moveTouchSlide",value:function(e){this.touchmovex=e.originalEvent.touches[0].pageX,this.movex=-(this.touchstartx-this.touchmovex),this.moved=!1;var t=this.$el.find(Y).children();t.css("transform","translate3d(".concat(this.movex,"px, 0, 0)")),this.movex>80?(this.prev(),this.moved=!0,setTimeout((function(){t.css("transform","translate3d(0, 0, 0)")}),500)):this.movex<-80&&(this.next(),this.moved=!0,setTimeout((function(){t.css("transform","translate3d(0, 0, 0)")}),500))}},{key:"endTouchSlide",value:function(){this.moved||this.$el.find(Y).children().css("transform","translate3d(0, 0, 0)")}},{key:"dispose",value:function(){this.$el.off(K).removeData(z),this.$el=null,this.$images=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null,this._thumbnailElements=null}},{key:"_addSlideButtons",value:function(){var e=this.$el[0].id,t="<button type='button' class='env-image-slider--prev' data-move='prev' data-target='#".concat(e,"'>\n               <svg class='env-image-slider__previous-icon env-icon env-icon-small'>\n               <use xlink:href='/sitevision/envision-icons.svg#icon-arrow-left'></use>\n               </svg>\n               <span class='env-assistive-text'>Previous</span>\n            </button>\n            <button type='button' class='env-image-slider--next' data-move='next' data-target='#").concat(e,"'>\n               <svg class='env-image-slider__next-icon env-icon env-icon-small'>\n               <use xlink:href='/sitevision/envision-icons.svg#icon-arrow-right'></use>\n               </svg>\n               <span class='env-assistive-text'>Next</span>\n            </button>");f()("#".concat(e)).find(te).append(t)}},{key:"_getItemByDirection",value:function(e,t){var n=e===pe,i=this._getItemIndex(t),r=this.$images.length-1;if((!n&&0===i||n&&i===r)&&!this.config.wrap)return t;var o=(i+(n?1:-1))%this.$images.length;return-1===o?this.$images[r]:this.$images[o]}},{key:"_bindEvents",value:function(){var e=this;this.config.keyboard&&this.$el.on(me.KEYDOWN,(function(t){return e._keydown(t)})),"hover"===this.config.pause&&"cycle"===this.config.imageSlider&&(this.$el.on(me.MOUSEENTER,(function(t){return e.pause(t)})).on(me.MOUSELEAVE,(function(t){return e.cycle(t)})),p.isTouch()&&this.$el.on(me.TOUCHEND,(function(){e.pause(),e.touchTimeout&&clearTimeout(e.touchTimeout),e.touchTimeout=setTimeout((function(t){return e.cycle(t)}),500,e.config.interval)}))),this.config.swipe&&this._bindTouchSlider()}},{key:"_bindTouchSlider",value:function(){var e=this,t=this.$el.find(te);t.on(me.TOUCHSTART,(function(t){e.startTouchSlide(t)})),t.on(me.TOUCHMOVE,(function(t){e.moveTouchSlide(t)})),t.on(me.TOUCHEND,(function(){e.endTouchSlide(event)}))}},{key:"_keydown",value:function(e){if(!/input|textarea/i.test(e.target.tagName))switch(e.which){case 37:e.preventDefault(),this.prev();break;case 39:e.preventDefault(),this.next();break;default:return}}},{key:"_getItemIndex",value:function(e){return this.$images.index(e)}},{key:"_triggerSlideEvent",value:function(e,t){var n=this._getItemIndex(e),i=this._getItemIndex(this.$el.find(X)[0]),r=f().Event(me.SLIDE,{targetElement:e,direction:t,from:i,to:n});return this.$el.trigger(r),r}},{key:"_setActiveIndicatorElement",value:function(e){if(this._indicatorsElement){f()(this._indicatorsElement).find(G).removeClass(oe);var t=this._indicatorsElement.children[this._getItemIndex(e)];t&&f()(t).addClass(oe)}else if(this._thumbnailElements){f()(this._thumbnailElements).find(Y).removeClass(re);var n=this._thumbnailElements.children[this._getItemIndex(e)].firstElementChild;n&&f()(n).addClass(re)}}},{key:"_slide",value:function(e,t){var n,i,r,o=this,s=this.$el.find(X)[0],a=this._getItemIndex(s),l=t||s&&this._getItemByDirection(e,s),c=this._getItemIndex(l);e===pe?(n=ae,i=le,r=fe):(n=ue,i=ce,r=ve);var u=f()(l);if(l&&u.hasClass(re))this._isSliding=!1;else{var d=this._triggerSlideEvent(l,r);if(!d.isDefaultPrevented()&&s&&l){this._isSliding=!0,this._setActiveIndicatorElement(l);var h=f().Event(me.SLID,{relatedTarget:l,direction:r,from:a,to:c}),v=f()(s);this.$el.hasClass(de)?(u.addClass(i),p.reflow(l),v.addClass(n),u.addClass(n),v.one("transitionend",(function(){u.removeClass("".concat(n," ").concat(i)).addClass(re),v.removeClass("".concat(re," ").concat(i," ").concat(n)),o._isSliding=!1,o.$el.trigger(h)}))):(v.removeClass(re),u.addClass(re),this._isSliding=!1,this.$el.trigger(d))}}}}])&&U(t.prototype,n),i&&U(t,i),e}();if("undefined"!=typeof document){f()(document).on(me.CLICK_DATA_API,J,ge._dataApiClickHandler),f()(window).on(me.LOAD_DATA_API,(function(){f()(Z).each((function(e,t){var n=f()(t);ge._jQueryInterface.call(n,n.data())}))}));var ye=f().fn.envImageslider;f().fn.envImageslider=ge._jQueryInterface,f().fn.envImageslider.Constructor=ge,f().fn.envImageslider.noConflict=function(){return f().fn.envImageslider=ye,ge._jQueryInterface}}function be(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var we="env-animation-in-progress",_e="env-image-viewer__backdrop--in",Oe=".".concat("env.image-viewer"),Ce=".env-is-active",ke="[data-move-to]",xe="[data-move]",Ee="[data-image-viewer]",Se=".env-image-viewer__images",Te=".env-image-viewer__indicators",Ae=".env-spinner",Ie="env-is-active",$e="env-image-viewer--hidden",Pe="env-spinner--hide",je={CLICK_DATA_API:"click".concat(Oe).concat(".data-api"),TOUCHEND:"touchend".concat(Oe),TOUCHMOVE:"touchmove".concat(Oe),TOUCHSTART:"touchstart".concat(Oe)},Le=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$el=f()(t),this.$images=this.$el.find(Se),this._isShown=!1,this.config=f().extend({},this.$el.data()),this.config.index=this.$images.index(n[0])}var t,n,i;return t=e,i=[{key:"_jQuery",value:function(t){var n=this;return this.each((function(){var i=new e(n,t);i.show(i.config.index)}))}}],(n=[{key:"next",value:function(){this.show(this._getNextItemIndex())}},{key:"prev",value:function(){this.show(this._getPrevItemIndex())}},{key:"show",value:function(e){this.config.index=Number(e);var t=f()(this.$images[e])[0].getAttribute("href");if(this._isShown){f()(Ae).removeClass(Pe),this.$btnContainer.addClass($e);var n=this._loadImage(t);this.$imgContainer.html(n),this._setActiveIndicatorElement()}else{this.$modal=f()("<div/>",{class:"env-image-viewer__modal"}),this.$btnContainer=f()("<div/>",{class:"env-image-viewer__dialog"}),this.$imgContainer=f()("<div/>",{class:"env-image-viewer__modal-container"}),this.$modal.append(this.$btnContainer),this.$btnContainer.append(this.$imgContainer),this.$modal.appendTo(document.body),this.$images.length>1&&(this.$btnContainer.append(this._getButtons()),this.$btnContainer.append(this._getIndicators())),this.$btnContainer.addClass($e);var i=this._loadImage(t);this.$imgContainer.html(i),this._isShown=!0,f()("body").css("overflow","hidden"),this._bindContainerEvents(),this._bindEvents(),this._showBackdrop(),f()('<div class="env-spinner">\n                                <div class="env-rect1"></div>\n                                <div class="env-rect2"></div>\n                                <div class="env-rect3"></div>\n                                <div class="env-rect4"></div>\n                                <div class="env-rect5"></div>\n                             </div>').prependTo(this.$modal)}}},{key:"hide",value:function(){var e=this;this.$backdrop.one("transitionend",(function(){e.$backdrop.remove(),e.$modal.remove(),e.$btnContainer.remove(),e.$imgContainer.remove(),f()("body").css("overflow","scroll")})).removeClass(_e),this._isShown=!1}},{key:"_loadImage",value:function(e){var t=this,n=f()("<img>"),i=f()(".env-image-viewer__dialog");return n.addClass("env-image-viewer__img").attr({tabindex:"-1",src:e}).on("load",(function(){var e=n.height(),r=n.width(),o=window.innerHeight;r>800&&i.css({"max-width":"80%"}),o<e&&n.css({"max-height":.8*o}),f()(Ae).addClass(Pe),t.$btnContainer.removeClass($e),t.$imgContainer.children().eq(0).trigger("focus")})),n}},{key:"_bindContainerEvents",value:function(){var e=this;this.$btnContainer.on(je.CLICK_DATA_API,xe,(function(t){t.preventDefault(),"next"===f()(t.currentTarget).data("move")?e.next():e.prev()})),this.$btnContainer.on(je.CLICK_DATA_API,ke,(function(t){var n=t.currentTarget.getAttribute("data-move-to");n&&e.show(n)}))}},{key:"_getButtons",value:function(){return'<button type="button" class="env-image-viewer--prev" data-move="prev">\n               <svg class="env-image-viewer__prev-icon env-icon env-icon-small">\n               <use xlink:href="/sitevision/envision-icons.svg#icon-arrow-left"></use>\n               </svg>\n               <span class="env-assistive-text">Previous</span>\n            </button>\n            <button type="button" class="env-image-viewer--next" data-move="next">\n               <svg class="env-image-viewer__next-icon env-icon env-icon-small">\n               <use xlink:href="/sitevision/envision-icons.svg#icon-arrow-right"></use>\n               </svg>\n               <span class="env-assistive-text">Next</span>\n            </button>'}},{key:"_getIndicators",value:function(){var e=this._getIndicatorItems();return'<div class="env-image-viewer__indicators">\n                  '.concat(e,"\n               </div>")}},{key:"_getIndicatorItems",value:function(){var e=this.config.index,t="";return this.$images.each((function(n){var i=n===e;t+='<button type="button" title="Move to image '.concat(n+1,'" data-move-to="').concat(n,'" class="').concat(i?"env-is-active":"",'"></button>')})),t}},{key:"_showBackdrop",value:function(){var e=this;this.$backdrop=f()("<div/>",{class:"env-image-viewer__backdrop"}),this.$modal.on(je.CLICK_DATA_API,(function(t){e.$backdrop.hasClass(we)||t.target===t.currentTarget&&e._isShown&&e.hide()})),this.$backdrop.appendTo(document.body),this.$backdrop.one("animationend",this._removeBackdropAnimation).addClass("".concat(_e," ").concat(we))}},{key:"_removeBackdropAnimation",value:function(e){f()(e.currentTarget).removeClass(we)}},{key:"_bindEvents",value:function(){var e=this,t=this.$modal.find("button"),n=t[0],i=t[t.length-1];this.$modal.on("keydown",(function(t){return e._keydown(t,n,i)}))}},{key:"_keydown",value:function(e,t,n){if(!/input|textarea/i.test(e.target.tagName))switch(e.which){case 37:e.preventDefault(),this.prev();break;case 39:e.preventDefault(),this.next();break;case 27:e.preventDefault(),this.$backdrop.hasClass(we)||this.hide();break;case 9:"IMG"===e.target.tagName?(e.preventDefault(),t.focus()):e.shiftKey?e.target===t&&(e.preventDefault(),n.focus()):e.target===n&&(e.preventDefault(),t.focus());break;default:return}}},{key:"_getNextItemIndex",value:function(){return this.config.index===this.$images.length-1?0:this.config.index+1}},{key:"_getPrevItemIndex",value:function(){return 0===this.config.index?this.$images.length-1:this.config.index-1}},{key:"_setActiveIndicatorElement",value:function(){if(this._indicatorsElement=this.$btnContainer.find(Te)[0],this.$images.length>0){this.$btnContainer.find(Ce).removeClass(Ie);var e=this.$btnContainer.find(Te).children()[this.config.index];e&&f()(e).addClass(Ie)}}}])&&be(t.prototype,n),i&&be(t,i),e}();if("undefined"!=typeof document){f()(document).on(je.CLICK_DATA_API,Ee,(function(e){e.preventDefault();var t=f()(e.target);t.is("img")?f()(this).envImageviewer(t.parent()):t.is("a.env-image-viewer__images")&&f()(this).envImageviewer(t)}));var Fe=f().fn.envImageviewer;f().fn.envImageviewer=Le._jQuery,f().fn.envImageviewer.Constructor=Le,f().fn.envImageviewer.noConflict=function(){return f().fn.envImageviewer=Fe,Le._jQuery}}function De(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ne="env-animation-in-progress",Me="env-modal-dialog__backdrop--in",Ve="env.modal-dialog",qe="[data-modal-dialog-dismiss]",Be="focusin.env-modal-dialog",He="[data-modal-dialog]",Re="[data-modal-alert]",Ue="show",ze="hide.env-modal-dialog",Ke="hidden.env-modal-dialog",Qe="show.env-modal-dialog",We="shown.env-modal-dialog",Ye=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t,this.$el=f()(t),this._isShown=!1}var t,n,i;return t=e,i=[{key:"_jQuery",value:function(t){var n=this;return this.each((function(){var i=f()(n),r=i.data(Ve);if(r||(r=new e(n),i.data(Ve,r)),"string"!=typeof t)r.show();else{var o=r[t];if(void 0===o)throw new Error('No method named "'.concat(t,'"'));o.call(r)}}))}}],(n=[{key:"toggle",value:function(){return this._isShown?this.hide():this.show()}},{key:"show",value:function(){var e=this;if(!this._isShown){p.reflow(this.el);var t=f().Event(Qe,{});this.$el.trigger(t);var n=f().Event(We,{});this.$el.one("transitionend",(function(){e.$el.trigger(n)})).addClass(this._getModifierBase()+Ue).removeAttr("aria-hidden").css("opacity",1),this._showBackdrop(),this._isShown=!0,this.$el.trigger("focus"),f()("body").css("overflow","hidden"),this._bindEvents()}}},{key:"hide",value:function(){var e=this;if(this._isShown){var t=f().Event(ze,{});this.$el.trigger(t),this.$el.one("transitionend",(function(){e.$el.removeClass(e._getModifierBase()+Ue);var t=f().Event(Ke,{});e.$el.trigger(t)})).attr("aria-hidden","true").css("opacity",0).off("click",qe),this.$backdrop.one("transitionend",(function(){e.$backdrop.remove(),f()("body").css("overflow","")})).removeClass(Me),this._isShown=!1,this._unbindEvents()}}},{key:"_bindEvents",value:function(){var e=this;this.$el.on("click",qe,(function(t){return e.hide(t)})),f()(document).off(Be).one(Be,(function(t){document===t.target||e.el===t.target||e.$el.has(t.target).length||e.$el.trigger("focus")}));var t=this.$el.find('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable]'),n=t[0],i=t[t.length-1];this.$el.on("keydown",(function(t){9===t.which&&(t.shiftKey?t.target===n&&(t.preventDefault(),i.focus()):t.target===i&&(t.preventDefault(),n.focus())),27===t.which&&e.hide()}))}},{key:"_getModifierBase",value:function(){return this.$el.hasClass("env-modal-alert")?"env-modal-alert--":"env-modal-dialog--"}},{key:"_unbindEvents",value:function(){this.$el.off("click keydown"),f()(document).off(Be)}},{key:"_showBackdrop",value:function(){var e=this;this.$backdrop=f()("<div/>",{class:"env-modal-dialog__backdrop"}),this.$el.on("mousedown",(function(t){e.$backdrop.hasClass(Ne)||t.target===t.currentTarget&&e._isShown&&e.hide()})),this.$backdrop.appendTo(document.body),this.$backdrop.one("animationend",this._removeBackdropAnimation).addClass("".concat(Me," ").concat(Ne))}},{key:"_removeBackdropAnimation",value:function(e){f()(e.currentTarget).removeClass(Ne)}}])&&De(t.prototype,n),i&&De(t,i),e}();if("undefined"!=typeof document){var Ge=f().fn.envDialog;f().fn.envDialog=Ye._jQuery,f().fn.envDialog.Constructor=Ye,f().fn.envDialog.noConflict=function(){return f().fn.envDialog=Ge,Ye._jQuery},f()(document).on("click",Re+","+He,(function(e){e.preventDefault(),f()(f()(this).data("target")).envDialog()}))}var Xe="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,Je=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(Xe&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}(),Ze=Xe&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),Je))}};function et(e){return e&&"[object Function]"==={}.toString.call(e)}function tt(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function nt(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function it(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=tt(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/(auto|scroll|overlay)/.test(n+r+i)?e:it(nt(e))}function rt(e){return e&&e.referenceNode?e.referenceNode:e}var ot=Xe&&!(!window.MSInputMethodContext||!document.documentMode),st=Xe&&/MSIE 10/.test(navigator.userAgent);function at(e){return 11===e?ot:10===e?st:ot||st}function lt(e){if(!e)return document.documentElement;for(var t=at(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===tt(n,"position")?lt(n):n:e?e.ownerDocument.documentElement:document.documentElement}function ct(e){return null!==e.parentNode?ct(e.parentNode):e}function ut(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?e:t,r=n?t:e,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);var s,a,l=o.commonAncestorContainer;if(e!==l&&t!==l||i.contains(r))return"BODY"===(a=(s=l).nodeName)||"HTML"!==a&&lt(s.firstElementChild)!==s?lt(l):l;var c=ct(e);return c.host?ut(c.host,t):ut(e,ct(t).host)}function dt(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var i=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||i)[t]}return e[t]}function ft(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=dt(t,"top"),r=dt(t,"left"),o=n?-1:1;return e.top+=i*o,e.bottom+=i*o,e.left+=r*o,e.right+=r*o,e}function pt(e,t){var n="x"===t?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+i+"Width"])}function ht(e,t,n,i){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],at(10)?parseInt(n["offset"+e])+parseInt(i["margin"+("Height"===e?"Top":"Left")])+parseInt(i["margin"+("Height"===e?"Bottom":"Right")]):0)}function vt(e){var t=e.body,n=e.documentElement,i=at(10)&&getComputedStyle(n);return{height:ht("Height",t,n,i),width:ht("Width",t,n,i)}}var mt=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},gt=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),yt=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function wt(e){return bt({},e,{right:e.left+e.width,bottom:e.top+e.height})}function _t(e){var t={};try{if(at(10)){t=e.getBoundingClientRect();var n=dt(e,"top"),i=dt(e,"left");t.top+=n,t.left+=i,t.bottom+=n,t.right+=i}else t=e.getBoundingClientRect()}catch(e){}var r={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?vt(e.ownerDocument):{},s=o.width||e.clientWidth||r.width,a=o.height||e.clientHeight||r.height,l=e.offsetWidth-s,c=e.offsetHeight-a;if(l||c){var u=tt(e);l-=pt(u,"x"),c-=pt(u,"y"),r.width-=l,r.height-=c}return wt(r)}function Ot(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=at(10),r="HTML"===t.nodeName,o=_t(e),s=_t(t),a=it(e),l=tt(t),c=parseFloat(l.borderTopWidth),u=parseFloat(l.borderLeftWidth);n&&r&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var d=wt({top:o.top-s.top-c,left:o.left-s.left-u,width:o.width,height:o.height});if(d.marginTop=0,d.marginLeft=0,!i&&r){var f=parseFloat(l.marginTop),p=parseFloat(l.marginLeft);d.top-=c-f,d.bottom-=c-f,d.left-=u-p,d.right-=u-p,d.marginTop=f,d.marginLeft=p}return(i&&!n?t.contains(a):t===a&&"BODY"!==a.nodeName)&&(d=ft(d,t)),d}function Ct(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,i=Ot(e,n),r=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),s=t?0:dt(n),a=t?0:dt(n,"left");return wt({top:s-i.top+i.marginTop,left:a-i.left+i.marginLeft,width:r,height:o})}function kt(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===tt(e,"position"))return!0;var n=nt(e);return!!n&&kt(n)}function xt(e){if(!e||!e.parentElement||at())return document.documentElement;for(var t=e.parentElement;t&&"none"===tt(t,"transform");)t=t.parentElement;return t||document.documentElement}function Et(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},s=r?xt(e):ut(e,rt(t));if("viewport"===i)o=Ct(s,r);else{var a=void 0;"scrollParent"===i?"BODY"===(a=it(nt(t))).nodeName&&(a=e.ownerDocument.documentElement):a="window"===i?e.ownerDocument.documentElement:i;var l=Ot(a,s,r);if("HTML"!==a.nodeName||kt(s))o=l;else{var c=vt(e.ownerDocument),u=c.height,d=c.width;o.top+=l.top-l.marginTop,o.bottom=u+l.top,o.left+=l.left-l.marginLeft,o.right=d+l.left}}var f="number"==typeof(n=n||0);return o.left+=f?n:n.left||0,o.top+=f?n:n.top||0,o.right-=f?n:n.right||0,o.bottom-=f?n:n.bottom||0,o}function St(e){return e.width*e.height}function Tt(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var s=Et(n,i,o,r),a={top:{width:s.width,height:t.top-s.top},right:{width:s.right-t.right,height:s.height},bottom:{width:s.width,height:s.bottom-t.bottom},left:{width:t.left-s.left,height:s.height}},l=Object.keys(a).map((function(e){return bt({key:e},a[e],{area:St(a[e])})})).sort((function(e,t){return t.area-e.area})),c=l.filter((function(e){var t=e.width,i=e.height;return t>=n.clientWidth&&i>=n.clientHeight})),u=c.length>0?c[0].key:l[0].key,d=e.split("-")[1];return u+(d?"-"+d:"")}function At(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Ot(n,i?xt(t):ut(t,rt(n)),i)}function It(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),i=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+i,height:e.offsetHeight+n}}function $t(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function Pt(e,t,n){n=n.split("-")[0];var i=It(e),r={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(n),s=o?"top":"left",a=o?"left":"top",l=o?"height":"width",c=o?"width":"height";return r[s]=t[s]+t[l]/2-i[l]/2,r[a]=n===a?t[a]-i[c]:t[$t(a)],r}function jt(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function Lt(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var i=jt(e,(function(e){return e[t]===n}));return e.indexOf(i)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&et(n)&&(t.offsets.popper=wt(t.offsets.popper),t.offsets.reference=wt(t.offsets.reference),t=n(t,e))})),t}function Ft(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=At(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=Tt(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=Pt(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=Lt(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function Dt(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function Nt(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<t.length;i++){var r=t[i],o=r?""+r+n:e;if(void 0!==document.body.style[o])return o}return null}function Mt(){return this.state.isDestroyed=!0,Dt(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Nt("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Vt(e){var t=e.ownerDocument;return t?t.defaultView:window}function qt(e,t,n,i){var r="BODY"===e.nodeName,o=r?e.ownerDocument.defaultView:e;o.addEventListener(t,n,{passive:!0}),r||qt(it(o.parentNode),t,n,i),i.push(o)}function Bt(e,t,n,i){n.updateBound=i,Vt(e).addEventListener("resize",n.updateBound,{passive:!0});var r=it(e);return qt(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function Ht(){this.state.eventsEnabled||(this.state=Bt(this.reference,this.options,this.state,this.scheduleUpdate))}function Rt(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,Vt(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function Ut(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function zt(e,t){Object.keys(t).forEach((function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&Ut(t[n])&&(i="px"),e.style[n]=t[n]+i}))}var Kt=Xe&&/Firefox/i.test(navigator.userAgent);function Qt(e,t,n){var i=jt(e,(function(e){return e.name===t})),r=!!i&&e.some((function(e){return e.name===n&&e.enabled&&e.order<i.order}));if(!r){var o="`"+t+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return r}var Wt=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Yt=Wt.slice(3);function Gt(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Yt.indexOf(e),i=Yt.slice(n+1).concat(Yt.slice(0,n));return t?i.reverse():i}var Xt="flip",Jt="clockwise",Zt="counterclockwise";function en(e,t,n,i){var r=[0,0],o=-1!==["right","left"].indexOf(i),s=e.split(/(\+|\-)/).map((function(e){return e.trim()})),a=s.indexOf(jt(s,(function(e){return-1!==e.search(/,|\s/)})));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==a?[s.slice(0,a).concat([s[a].split(l)[0]]),[s[a].split(l)[1]].concat(s.slice(a+1))]:[s];return(c=c.map((function(e,i){var r=(1===i?!o:o)?"height":"width",s=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,s=!0,e):s?(e[e.length-1]+=t,s=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,i){var r=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+r[1],s=r[2];if(!o)return e;if(0===s.indexOf("%")){var a=void 0;switch(s){case"%p":a=n;break;case"%":case"%r":default:a=i}return wt(a)[t]/100*o}return"vh"===s||"vw"===s?("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o:o}(e,r,t,n)}))}))).forEach((function(e,t){e.forEach((function(n,i){Ut(n)&&(r[t]+=n*("-"===e[i-1]?-1:1))}))})),r}var tn={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],i=t.split("-")[1];if(i){var r=e.offsets,o=r.reference,s=r.popper,a=-1!==["bottom","top"].indexOf(n),l=a?"left":"top",c=a?"width":"height",u={start:yt({},l,o[l]),end:yt({},l,o[l]+o[c]-s[c])};e.offsets.popper=bt({},s,u[i])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,i=e.placement,r=e.offsets,o=r.popper,s=r.reference,a=i.split("-")[0],l=void 0;return l=Ut(+n)?[+n,0]:en(n,o,s,a),"left"===a?(o.top+=l[0],o.left-=l[1]):"right"===a?(o.top+=l[0],o.left+=l[1]):"top"===a?(o.left+=l[0],o.top-=l[1]):"bottom"===a&&(o.left+=l[0],o.top+=l[1]),e.popper=o,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||lt(e.instance.popper);e.instance.reference===n&&(n=lt(n));var i=Nt("transform"),r=e.instance.popper.style,o=r.top,s=r.left,a=r[i];r.top="",r.left="",r[i]="";var l=Et(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);r.top=o,r.left=s,r[i]=a,t.boundaries=l;var c=t.priority,u=e.offsets.popper,d={primary:function(e){var n=u[e];return u[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(u[e],l[e])),yt({},e,n)},secondary:function(e){var n="right"===e?"left":"top",i=u[n];return u[e]>l[e]&&!t.escapeWithReference&&(i=Math.min(u[n],l[e]-("right"===e?u.width:u.height))),yt({},n,i)}};return c.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=bt({},u,d[t](e))})),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,i=t.reference,r=e.placement.split("-")[0],o=Math.floor,s=-1!==["top","bottom"].indexOf(r),a=s?"right":"bottom",l=s?"left":"top",c=s?"width":"height";return n[a]<o(i[l])&&(e.offsets.popper[l]=o(i[l])-n[c]),n[l]>o(i[a])&&(e.offsets.popper[l]=o(i[a])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!Qt(e.instance.modifiers,"arrow","keepTogether"))return e;var i=t.element;if("string"==typeof i){if(!(i=e.instance.popper.querySelector(i)))return e}else if(!e.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var r=e.placement.split("-")[0],o=e.offsets,s=o.popper,a=o.reference,l=-1!==["left","right"].indexOf(r),c=l?"height":"width",u=l?"Top":"Left",d=u.toLowerCase(),f=l?"left":"top",p=l?"bottom":"right",h=It(i)[c];a[p]-h<s[d]&&(e.offsets.popper[d]-=s[d]-(a[p]-h)),a[d]+h>s[p]&&(e.offsets.popper[d]+=a[d]+h-s[p]),e.offsets.popper=wt(e.offsets.popper);var v=a[d]+a[c]/2-h/2,m=tt(e.instance.popper),g=parseFloat(m["margin"+u]),y=parseFloat(m["border"+u+"Width"]),b=v-e.offsets.popper[d]-g-y;return b=Math.max(Math.min(s[c]-h,b),0),e.arrowElement=i,e.offsets.arrow=(yt(n={},d,Math.round(b)),yt(n,f,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(Dt(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=Et(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),i=e.placement.split("-")[0],r=$t(i),o=e.placement.split("-")[1]||"",s=[];switch(t.behavior){case Xt:s=[i,r];break;case Jt:s=Gt(i);break;case Zt:s=Gt(i,!0);break;default:s=t.behavior}return s.forEach((function(a,l){if(i!==a||s.length===l+1)return e;i=e.placement.split("-")[0],r=$t(i);var c=e.offsets.popper,u=e.offsets.reference,d=Math.floor,f="left"===i&&d(c.right)>d(u.left)||"right"===i&&d(c.left)<d(u.right)||"top"===i&&d(c.bottom)>d(u.top)||"bottom"===i&&d(c.top)<d(u.bottom),p=d(c.left)<d(n.left),h=d(c.right)>d(n.right),v=d(c.top)<d(n.top),m=d(c.bottom)>d(n.bottom),g="left"===i&&p||"right"===i&&h||"top"===i&&v||"bottom"===i&&m,y=-1!==["top","bottom"].indexOf(i),b=!!t.flipVariations&&(y&&"start"===o&&p||y&&"end"===o&&h||!y&&"start"===o&&v||!y&&"end"===o&&m),w=!!t.flipVariationsByContent&&(y&&"start"===o&&h||y&&"end"===o&&p||!y&&"start"===o&&m||!y&&"end"===o&&v),_=b||w;(f||g||_)&&(e.flipped=!0,(f||g)&&(i=s[l+1]),_&&(o=function(e){return"end"===e?"start":"start"===e?"end":e}(o)),e.placement=i+(o?"-"+o:""),e.offsets.popper=bt({},e.offsets.popper,Pt(e.instance.popper,e.offsets.reference,e.placement)),e=Lt(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],i=e.offsets,r=i.popper,o=i.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return r[s?"left":"top"]=o[n]-(a?r[s?"width":"height"]:0),e.placement=$t(t),e.offsets.popper=wt(r),e}},hide:{order:800,enabled:!0,fn:function(e){if(!Qt(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=jt(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,i=t.y,r=e.offsets.popper,o=jt(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==o?o:t.gpuAcceleration,a=lt(e.instance.popper),l=_t(a),c={position:r.position},u=function(e,t){var n=e.offsets,i=n.popper,r=n.reference,o=Math.round,s=Math.floor,a=function(e){return e},l=o(r.width),c=o(i.width),u=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),f=t?u||d||l%2==c%2?o:s:a,p=t?o:a;return{left:f(l%2==1&&c%2==1&&!d&&t?i.left-1:i.left),top:p(i.top),bottom:p(i.bottom),right:f(i.right)}}(e,window.devicePixelRatio<2||!Kt),d="bottom"===n?"top":"bottom",f="right"===i?"left":"right",p=Nt("transform"),h=void 0,v=void 0;if(v="bottom"===d?"HTML"===a.nodeName?-a.clientHeight+u.bottom:-l.height+u.bottom:u.top,h="right"===f?"HTML"===a.nodeName?-a.clientWidth+u.right:-l.width+u.right:u.left,s&&p)c[p]="translate3d("+h+"px, "+v+"px, 0)",c[d]=0,c[f]=0,c.willChange="transform";else{var m="bottom"===d?-1:1,g="right"===f?-1:1;c[d]=v*m,c[f]=h*g,c.willChange=d+", "+f}var y={"x-placement":e.placement};return e.attributes=bt({},y,e.attributes),e.styles=bt({},c,e.styles),e.arrowStyles=bt({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return zt(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&zt(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,i,r){var o=At(r,t,e,n.positionFixed),s=Tt(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",s),zt(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},nn=function(){function e(t,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};mt(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=Ze(this.update.bind(this)),this.options=bt({},e.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(bt({},e.Defaults.modifiers,r.modifiers)).forEach((function(t){i.options.modifiers[t]=bt({},e.Defaults.modifiers[t]||{},r.modifiers?r.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return bt({name:e},i.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&et(e.onLoad)&&e.onLoad(i.reference,i.popper,i.options,e,i.state)})),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return gt(e,[{key:"update",value:function(){return Ft.call(this)}},{key:"destroy",value:function(){return Mt.call(this)}},{key:"enableEventListeners",value:function(){return Ht.call(this)}},{key:"disableEventListeners",value:function(){return Rt.call(this)}}]),e}();nn.Utils=("undefined"!=typeof window?window:n.g).PopperUtils,nn.placements=Wt,nn.Defaults=tn;var rn=nn;function on(e){return(on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var an="env.popover",ln=".".concat(an),cn={top:"top",bottom:"bottom",left:"left",right:"right"},un={clickOutside:!1,constraints:[],container:"body",content:"",delay:0,escapeContent:!0,placement:"top",template:'<div class="env-popover" role="tooltip">\n                  <div class="env-popover__arrow"></div>\n                  <div class="env-popover__header">\n                     <h4 class="env-text env-popover__header__title"></h4>\n                  </div>\n                  <div class="env-popover__content"></div>\n               </div>',title:"",trigger:"click"},dn=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t,this.$el=f()(this.el),this.config=f().extend({},un,this.$el.data(),n),this.bindEvents()}var t,n,i;return t=e,i=[{key:"_jQuery",value:function(t){return this.each((function(){var n=f()(this),i=n.data(an);if((i||!/destroy|hide/.test(t))&&(i||(i=new e(this,"object"===on(t)?t:null),n.data(an,i)),"string"==typeof t)){var r=i[t];if(!r)throw new Error('Invalid method name "'.concat(t,'"'));r.call(i)}}))}}],(n=[{key:"bindEvents",value:function(){var e=this;this.config.trigger.split(" ").forEach((function(t){if("click"===t)e.$el.on(e.config.trigger+ln,(function(){e.isShowing?e.hide():e.show()}));else{var n="hover"===t,i=n?"mouseenter":"focusin",r=n?"mouseleave":"focusout";e.$el.on(i+ln,(function(){e.config.delay>0?(e.hidetimeout&&clearTimeout(e.hidetimeout),e.showtimeout&&clearTimeout(e.showtimeout),e.isShowing||(e.showtimeout=setTimeout((function(){e.show()}),e.config.delay))):e.isShowing||e.show()})).on(r+ln,(function(){e.config.delay>0?(e.hoverPopover(),e.showtimeout&&clearTimeout(e.showtimeout),e.isShowing&&(e.hidetimeout=setTimeout((function(){e.hide()}),e.config.delay))):e.isShowing&&e.hide()}))}}))}},{key:"hoverPopover",value:function(){var e=this,t=this.getPopoverElement();t.off("mouseenter").on("mouseenter",(function(){e.hidetimeout&&clearTimeout(e.hidetimeout),e.showtimeout&&clearTimeout(e.showtimeout),e.isShowing||(e.showtimeout=setTimeout((function(){e.show()}),e.config.delay))})),t.off("mouseleave").on("mouseleave",(function(){e.showtimeout&&clearTimeout(e.showtimeout),e.isShowing&&(e.hidetimeout=setTimeout((function(){e.hide()}),e.config.delay))}))}},{key:"getPopoverElement",value:function(){return this.$popoverElement=this.$popoverElement||f()(this.config.template)}},{key:"setText",value:function(e,t,n){e.find(t)[this.config.escapeContent?"text":"html"](n)}},{key:"setTitle",value:function(e){this.setText(e,".env-popover__header__title",this.config.title)}},{key:"setContent",value:function(e){this.setText(e,".env-popover__content",this.config.content)}},{key:"updateConfig",value:function(e){return Object.assign(this.config,e),this}},{key:"render",value:function(){var e=this.getPopoverElement();this.setTitle(e),this.setContent(e),this.setArrowPosition(e)}},{key:"setArrowPosition",value:function(e){e.find(".env-popover__arrow").addClass("env-popover__arrow--".concat(this.config.placement))}},{key:"hide",value:function(){this.getPopoverElement().detach(),this.config.clickOutside&&f()("body").off(this.config.trigger+ln),this.isShowing=!1}},{key:"_cleanTipClass",value:function(){this.$popoverElement.find(".env-popover__arrow").removeClass((function(e,t){var n=t.replace(/env-popover__arrow/g,"").trim();return"env-popover__arrow".concat(n)}))}},{key:"_handlePopperPlacementChange",value:function(e){this._cleanTipClass(),this._addAttachmentClass(cn[e.placement])}},{key:"_addAttachmentClass",value:function(e){this.$popoverElement.find(".env-popover__arrow").addClass("env-popover__arrow--".concat(e))}},{key:"show",value:function(){var e=this;this.render();var t=this.getPopoverElement();f()("body").append(t),this._popper=new rn(this.el,t[0],{placement:cn[this.config.placement],modifiers:{flip:{behavior:"flip"},arrow:{element:".env-popover__arrow"}},onCreate:function(t){t.originalPlacement!==t.placement&&e._handlePopperPlacementChange(t)},onUpdate:function(t){e._handlePopperPlacementChange(t)}}),this._popper.update(),this.config.clickOutside&&f()("body").on(this.config.trigger+ln,this.clickOutsideHandler.bind(this)),this.isShowing=!0}},{key:"destroy",value:function(){this.hide(),this._popper&&this._popper.destroy(),this.$popoverElement=void 0,this._popper=void 0,this.isShowing=!1,this.$el.off(),this.$el.removeData(an)}},{key:"clickOutsideHandler",value:function(e){var t=e.target,n=f()(t);!this.isShowing||this.el.contains(t)||n.closest(this.$popoverElement).length||this.hide()}}])&&sn(t.prototype,n),i&&sn(t,i),e}();if("undefined"!=typeof document){var fn=f().fn.envPopover;f().fn.envPopover=dn._jQuery,f().fn.envPopover.Constructor=dn,f().fn.envPopover.noConflict=function(){return f().fn.envPopover=fn,dn._jQuery}}function pn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var hn="range-handle-index",vn="env.range-slider",mn="slide",gn="slidestop",yn={min:0,max:100,step:1,values:[0,0],visibleValues:!0},bn=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=f().extend({},yn,n),this.$document=f()(document),this.el=t,this.$el=f()(t),this.handles=this.$el.find(".env-range-slider__handle"),this.$range=this.$el.find(".env-range-slider__range"),this.isTouch=p.isTouch(),this.config.visibleValues&&(this.valueHolders=this.$el.find(".env-range-slider__values__value")),this.handleEvents={mousedown:this._initSlide.bind(this),touchstart:this._initSlide.bind(this),keydown:this._initKeySlide.bind(this),keyup:this._stopKeySlide.bind(this)}}var t,n,i;return t=e,i=[{key:"_jQuery",value:function(t){for(var n=this,i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return this.each((function(){var i=f()(n),o=i.data(vn);if(o||(o=new e(n,t),i.data(vn,o)),"string"==typeof t){var s=o[t];if(void 0===s)throw new Error('No method named "'.concat(t,'"'));s.call.apply(s,[o].concat(r))}o.initialize()}))}}],(n=[{key:"initialize",value:function(){this._setupHandles(),this._refreshRange(),this._bindEvents(),this.isTouch&&this.$el.addClass("env-range-slider--touch")}},{key:"values",value:function(e){if(f().isArray(e)){for(var t=0;t<e.length;t+=1)this.config.values[t]=this._trimAlignValue(e[t]);this._refreshRange()}}},{key:"_setupHandles",value:function(){this.handles.each((function(e,t){f()(t).data(hn,e)}))}},{key:"_refreshRange",value:function(){var e,t,n,i=this;this.handles.each((function(r,o){n=i._getValue(r),t=(n-i.config.min)/(i.config.max-i.config.min)*100,f()(o).css("left","".concat(t,"%")),0===r?(i.$range.css("left","".concat(t,"%")),i.config.visibleValues&&i.valueHolders.eq(r).text(n)):(i.$range.css("width","".concat(t-e,"%")),i.config.visibleValues&&i.valueHolders.eq(r).text(n)),e=t}))}},{key:"_bindEvents",value:function(){this.handles.off(),this.handles.on(this.handleEvents)}},{key:"_initSlide",value:function(e){var t,n,i,r,o=this,s=this._getPosition(e),a=this._normValueFromMouse(s),l=this.config.max-this.config.min+1;"touchstart"===e.type?(this.$document.on("touchmove.".concat(vn),this._handleSlide.bind(this)),this.$document.one("touchend.".concat(vn),this._stopSlide.bind(this))):(this.$document.on("mousemove.".concat(vn),this._handleSlide.bind(this)),this.$document.one("mouseup.".concat(vn),this._stopSlide.bind(this))),this.handles.each((function(e,s){i=o._getValue(e),r=Math.abs(a-i),(l>r||l===r&&(e===o._lastChangedValue||i===o.config.min))&&(l=r,t=f()(s),n=e)})),this._handleIndex=n,t.trigger("focus");var c=t.offset();this._clickOffset={left:s.x-c.left-t.width()/2,top:s.y-c.top-t.height()/2-(parseInt(t.css("borderTopWidth"),10)||0)-(parseInt(t.css("borderBottomWidth"),10)||0)+(parseInt(t.css("marginTop"),10)||0)},this._slide(e,n,a)}},{key:"_handleSlide",value:function(e){var t=this._normValueFromMouse(this._getPosition(e));return this._slide(e,this._handleIndex,t),!1}},{key:"_slide",value:function(e,t,n){var i=this._getValue(t?0:1),r=this._getValue(t),o=this._getValues();n=0===t?Math.min(i,n):Math.max(i,n),o[t]=n,n!==r&&(this._trigger(mn,e,{values:o}),this._setValue(t,n))}},{key:"_stopSlide",value:function(e){return this.$document.off("mousemove.".concat(vn," touchmove.").concat(vn)),this._trigger(gn,e,{values:this._getValues()}),this._handleIndex=null,this._clickOffset=null,!1}},{key:"_initKeySlide",value:function(e){switch(e.keyCode){case 38:case 40:case 37:case 39:e.preventDefault(),this._keySliding||(this._keySliding=!0);break;default:return}var t,n=f()(e.target).data(hn),i=this._getValue(n);switch(event.keyCode){case 38:case 39:if(i===this.config.max)return;t=this._trimAlignValue(i+this.config.step);break;case 40:case 37:if(i===this.config.min)return;t=this._trimAlignValue(i-this.config.step)}this._slide(e,n,t)}},{key:"_stopKeySlide",value:function(e){this._keySliding&&(this._keySliding=!1,this._trigger(gn,e,{values:this._getValues()}))}},{key:"_normValueFromMouse",value:function(e){var t=this.el.outerWidth(),n=this.config.max-this.config.min,i=(e.x-this.el.offset().left-(this._clickOffset?this._clickOffset.left:0))/t;i>1&&(i=1),i<0&&(i=0);var r=this.config.min+i*n;return this._trimAlignValue(r)}},{key:"_getPosition",value:function(e){var t={};if(this.isTouch){var n=e.originalEvent.touches[0];t.x=n.pageX,t.y=n.pageY}else t.x=e.pageX,t.y=e.pageY;return t}},{key:"_trimAlignValue",value:function(e){if(e<=this.config.min)return this.config.min;if(e>=this.config.max)return this.config.max;var t=this.config.step,n=(e-this.config.min)%t,i=e-n;return 2*Math.abs(n)>=t&&(i+=n>0?t:-t),parseFloat(i.toFixed(5))}},{key:"_getValues",value:function(){return this.config.values.slice()}},{key:"_getValue",value:function(e){return this.config.values[e]}},{key:"_setValue",value:function(e,t){this.config.values[e]=this._trimAlignValue(t),this._refreshRange()}},{key:"_trigger",value:function(e,t,n){var i=this.el[0],r=this.config[e];(t=f().Event(t)).type=e,t.target=i,this.$el.trigger(t,n),r&&r.call(i,t,n)}}])&&pn(t.prototype,n),i&&pn(t,i),e}();if("undefined"!=typeof document){var wn=f().fn.envRangeSlider;f().fn.envRangeSlider=bn._jQuery,f().fn.envRangeSlider.Constructor=bn,f().fn.envRangeSlider.noConflict=function(){return f().fn.envRangeSlider=wn,bn._jQuery}}function _n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n(807);var On="aria-selected",Cn="aria-hidden",kn="env.tabs",xn="env-tabs__link--active",En={active:0},Sn=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t,this.$el=f()(t),this.$tabs=this.$el.find(".env-tabs__link"),this.config=f().extend({},En,n),this.$panels={},this.$activeTab=void 0,this._bindEvents()}var t,n,i;return t=e,i=[{key:"_jQuery",value:function(t,n){var i=this;return this.each((function(){var r=f()(i),o=r.data(kn);if(o){if("string"==typeof t){var s=o[t];if(!s)throw new Error('Invalid method name "'.concat(t,'"'));s.call(o,n)}}else o=new e(i,t),r.data(kn,o),o.initialize()}))}}],(n=[{key:"initialize",value:function(){var e=this;this.$tabs.each((function(t,n){var i=f()(n),r=f()(i.attr("href"));e.$panels[i.attr("id")]=r,i.removeClass(xn).attr(On,!1),r.attr(Cn,!0).hide()})),this._setActive(this.$tabs.eq(this.config.active),!1)}},{key:"activate",value:function(e){this._setActive(this.$tabs.eq(e),!0)}},{key:"destroy",value:function(){this.$tabs.off("click keydown"),this.$activeTab=void 0,this.$tabs=void 0,this.$panels=void 0,this.$el.removeData(kn)}},{key:"_bindEvents",value:function(){var e=this;this.$tabs.on("click",(function(t){t.preventDefault(),e._setActive(f()(t.currentTarget),!0)})),this.$tabs.on("keydown",(function(t){13===t.which&&e._setActive(f()(t.currentTarget),!0)}))}},{key:"_setActive",value:function(e,t){this._resetActive(),e.addClass(xn).attr(On,!0),t&&e.trigger("focus"),this._getPanelForTab(e).attr(Cn,!1).show(),this.$activeTab=e}},{key:"_getPanelForTab",value:function(e){return this.$panels[e.attr("id")]}},{key:"_resetActive",value:function(){this.$activeTab&&(this.$activeTab.removeClass(xn).attr(On,!1),this._getPanelForTab(this.$activeTab).attr(Cn,!0).hide())}}])&&_n(t.prototype,n),i&&_n(t,i),e}();if("undefined"!=typeof document){var Tn=f().fn.envTabs;f().fn.envTabs=Sn._jQuery,f().fn.envTabs.Constructor=Sn,f().fn.envTabs.noConflict=function(){return f().fn.envTabs=Tn,Sn._jQuery}}}(),a}())}}]);
//# sourceMappingURL=42ed8d7c0476042c55dde9f1afb280bd206be5f4-29d9b3b4a2f40cc2f5ca.js.map